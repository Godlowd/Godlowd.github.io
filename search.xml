<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>GCDæºç é˜…è¯»ç¬”è®°-ONCEç¯‡</title>
    <url>/2021/06/01/GCD%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0-ONCE%E7%AF%87Block%E6%9C%AC%E8%B4%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="GCDæºç é˜…è¯»ç¬”è®°-ONCEç¯‡"><a href="#GCDæºç é˜…è¯»ç¬”è®°-ONCEç¯‡" class="headerlink" title="GCDæºç é˜…è¯»ç¬”è®°-ONCEç¯‡"></a>GCDæºç é˜…è¯»ç¬”è®°-ONCEç¯‡</h1><p>åœ¨ä½¿ç”¨å•ä¾‹çš„è®¾è®¡æ¨¡å¼æ—¶æˆ‘ä»¬å¸¸å¸¸ä¼šä½¿ç”¨<code>dispatch_once</code>è¿™ä¸ªå‡½æ•°æ¥ä¿è¯å•ä¾‹æ¨¡å¼ä¸­çš„å•ä¾‹åªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚é‚£ä¹ˆåˆ°åº•æ˜¯å¦‚ä½•ä¿è¯åªæ‰§è¡Œä¸€æ¬¡çš„å‘¢ã€‚</p>
<p><strong>æºç ç‰ˆæœ¬</strong>:<code>libdispatch-1008.200.78</code></p>
<a id="more"></a>
<h2 id="å®å®šä¹‰"><a href="#å®å®šä¹‰" class="headerlink" title="å®å®šä¹‰"></a>å®å®šä¹‰</h2><p>åœ¨GCDçš„æºç ä¹‹ä¸­ä½¿ç”¨äº†éå¸¸å¤šçš„å®ï¼Œä¸‹é¢ç®€å•è®°å½•ä¸€ä¸‹åé¢çš„æºä»£ç ä¸­ä¼šç”¨åˆ°çš„ä¸€äº›å®å®šä¹‰</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> __GNUC__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DISPATCH_EXPECT(x, v) __builtin_expect((x), (v))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> dispatch_compiler_barrier()  __asm__ __volatile__(<span class="meta-string">""</span> ::: <span class="meta-string">"memory"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DISPATCH_EXPECT(x, v) (x)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> dispatch_compiler_barrier()  do &#123; &#125; while (0)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>è¿™æ®µå®ä¸»è¦æ˜¯å®šä¹‰äº†<code>DISPATCH_EXPECT(x, v)</code>ä»¥åŠ<code>dispatch_compiler_barrier()</code>ã€‚<code>__builtin_expect</code>å‡½æ•°åŸå‹ï¼š<code>long __builtin_expect (long EXP, long C)</code>ï¼Œå‡½æ•°è¿”å›å€¼æ˜¯<code>EXP</code>çš„å€¼ã€‚</p>
<p><code>__GNUC</code>__æ˜¯ç”¨æ¥åˆ¤æ–­å½“å‰ç¼–è¯‘å™¨æ˜¯å¦æ˜¯é‡‡ç”¨äº†<code>GCC</code>çš„ç¼–è¯‘å™¨ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬è¿™ä¸ªåœ°æ–¹æ¡ä»¶ä¸ºçœŸï¼Œ</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> likely(x)       __builtin_expect(!!(x), 1)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> unlikely(x)     __builtin_expect(!!(x), 0)</span></span><br></pre></td></tr></table></figure>
<p><code>likely</code>å’Œ<code>unlikely</code>ä¸¤ä¸ªå®å®šä¹‰ä¸»è¦æ˜¯å¸®åŠ©ç¼–è¯‘å™¨åœ¨è¿›è¡Œåˆ†æ”¯é€‰æ‹©æ—¶è¿›è¡Œä¼˜åŒ–ï¼Œé¿å…è·³è½¬åˆ†æ”¯ä½¿ç”¨çš„<code>jmp</code>æŒ‡ä»¤å¸¦æ¥çš„å¼€é”€ï¼Œè¯¦è§å‚è€ƒæ–‡çŒ®<code>likely() and unlikely()</code>ã€‚åªæœ‰å½“xéå¸¸éå¸¸éå¸¸å¯èƒ½çš„æ—¶å€™åº”è¯¥ä½¿ç”¨<code>likely</code>ï¼Œç›¸å¯¹çš„ï¼Œåªæœ‰å½“xéå¸¸éå¸¸ä¸å¯èƒ½çš„æ—¶å€™åº”è¯¥ä½¿ç”¨<code>unlikely</code>ã€‚åŒç†ï¼Œä¸Šé¢çš„<code>DISPATCH_EXPECT</code>åœ¨<code>GCC</code>æ¡ä»¶ä¸‹ä¹Ÿæœ‰è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#if defined(__x86_64__) || defined(__i386__) || defined(__s390x__)</span><br><span class="line">#define DISPATCH_ONCE_INLINE_FASTPATH 1</span><br><span class="line">#elif defined(__APPLE__)</span><br><span class="line">#define DISPATCH_ONCE_INLINE_FASTPATH 1</span><br><span class="line">#else</span><br><span class="line">#define DISPATCH_ONCE_INLINE_FASTPATH 0</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>
<p>æ ¹æ®å½“å‰çš„æ¶æ„(x86/64,i386ç­‰)ï¼Œå®šä¹‰å®<code>DISPATCH_ONCE_INLINE_FASTPATH</code>ã€‚å› ä¸ºå‡½æ•°æ˜¯åœ¨iPhoneä¸Šè°ƒç”¨çš„ï¼Œæ‰€ä»¥å½“ç„¶è¿™ä¸ªå®çš„å€¼ä¹Ÿå°±ä¸º1äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#if __has_builtin(__builtin_assume)</span><br><span class="line">#define DISPATCH_COMPILER_CAN_ASSUME(expr) __builtin_assume(expr)</span><br><span class="line">#else</span><br><span class="line">#define DISPATCH_COMPILER_CAN_ASSUME(expr) ((void)(expr))</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå‡ºç°äº†å‡ ä¸ªå‡½æ•°<code>__has_builtin</code>,<code>__builtin_assume</code>ã€‚<code>Clang</code>çš„å®˜æ–¹æ–‡æ¡£ä¸­è§£é‡Šå¦‚ä¸‹:</p>
<blockquote>
<h3 id="builtin-assume"><a href="#builtin-assume" class="headerlink" title="__builtin_assume"></a><code>__builtin_assume</code></h3><p><code>__builtin_assume</code> is used to provide the optimizer with a boolean invariant that is defined to be true.</p>
<p><strong>Syntax</strong>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">__builtin_assume(bool)</span><br></pre></td></tr></table></figure>
<p><strong>Example of Use</strong>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int foo(int x) &#123;</span><br><span class="line">__builtin_assume(x !&#x3D; 0);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; The optimizer may short-circuit this check using the invariant.</span><br><span class="line">if (x &#x3D;&#x3D; 0)</span><br><span class="line"> return do_something();</span><br><span class="line"></span><br><span class="line">return do_something_else();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Description</strong>:</p>
<p>The boolean argument to this function is defined to be true. The optimizer may analyze the form of the expression provided as the argument and deduce from that information used to optimize the program. If the condition is violated during execution, the behavior is undefined. The argument itself is never evaluated, so any side effects of the expression will be discarded.</p>
<p>Query for this feature with <code>__has_builtin(__builtin_assume)</code>.</p>
</blockquote>
<p>ç®€å•æ¥è¯´ï¼Œç¼–è¯‘å™¨é»˜è®¤<code>__builtin_assume</code>çš„å‚æ•°æ˜¯<code>true</code>ï¼Œå¹¶ä¸”å¦‚æœåœ¨åé¢éœ€è¦å¯¹å‚æ•°è¿›è¡Œåˆ¤æ–­çš„è¯å¯ä»¥ç›´æ¥ç®€åŒ–ï¼Œå¦‚æœå‚æ•°åœ¨åé¢çš„è¿‡ç¨‹ä¸­ä¸å†æ˜¯<code>true</code>åˆ™ä¸çŸ¥é“ä¼šå‘ç”Ÿå•¥ã€‚æƒ³çŸ¥é“æ”¯ä¸æ”¯æŒè¿™ä¸ªfeatureå¯ä»¥é€šè¿‡<code>__has_builtin(__builtin_assume)</code>æ¥åˆ¤æ–­ã€‚</p>
<h2 id="dispatch-onceæºä»£ç "><a href="#dispatch-onceæºä»£ç " class="headerlink" title="dispatch_onceæºä»£ç "></a>dispatch_onceæºä»£ç </h2><p>æˆ‘ä»¬é¦–å…ˆæ¥çœ‹<code>dispatch_once_t</code>çš„å®šä¹‰</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*!</span></span><br><span class="line"><span class="comment"> * @typedef dispatch_once_t</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @abstract</span></span><br><span class="line"><span class="comment"> * A predicate for use with dispatch_once(). It must be initialized to zero.</span></span><br><span class="line"><span class="comment"> * Note: static and global variables default to zero.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">DISPATCH_SWIFT3_UNAVAILABLE(<span class="string">"Use lazily initialized globals instead"</span>)</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="built_in">dispatch_once_t</span>;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°<code>dispatch_once_t</code>å®é™…ä¸Šæ˜¯ä¸€ä¸ª<code>long</code>ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªå¿…é¡»è¢«åˆå§‹åŒ–ä¸º0ï¼Œè¿™é‡Œåº”è¯¥æ˜¯é»˜è®¤é‡‡ç”¨äº†é™æ€å˜é‡å’Œå…¨å±€å˜é‡çš„åˆå§‹å€¼é»˜è®¤æ˜¯0çš„ç‰¹æ€§ã€‚</p>
<p>å†æ¥çœ‹<code>dispatch_once</code>å‡½æ•°çš„å®šä¹‰</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*!</span></span><br><span class="line"><span class="comment"> * @function dispatch_once</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @abstract</span></span><br><span class="line"><span class="comment"> * Execute a block once and only once.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @param predicate</span></span><br><span class="line"><span class="comment"> * A pointer to a dispatch_once_t that is used to test whether the block has</span></span><br><span class="line"><span class="comment"> * completed or not.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @param block</span></span><br><span class="line"><span class="comment"> * The block to execute once.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @discussion</span></span><br><span class="line"><span class="comment"> * Always call dispatch_once() before using or testing any variables that are</span></span><br><span class="line"><span class="comment"> * initialized by the block.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __BLOCKS__</span></span><br><span class="line">API_AVAILABLE(macos(<span class="number">10.6</span>), ios(<span class="number">4.0</span>))</span><br><span class="line">DISPATCH_EXPORT DISPATCH_NONNULL_ALL DISPATCH_NOTHROW</span><br><span class="line">DISPATCH_SWIFT3_UNAVAILABLE(<span class="string">"Use lazily initialized globals instead"</span>)</span><br><span class="line"><span class="keyword">void</span></span><br><span class="line"><span class="built_in">dispatch_once</span>(<span class="built_in">dispatch_once_t</span> *predicate,</span><br><span class="line">		DISPATCH_NOESCAPE dispatch_block_t block);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> DISPATCH_ONCE_INLINE_FASTPATH</span></span><br><span class="line">DISPATCH_INLINE DISPATCH_ALWAYS_INLINE DISPATCH_NONNULL_ALL DISPATCH_NOTHROW</span><br><span class="line">DISPATCH_SWIFT3_UNAVAILABLE(<span class="string">"Use lazily initialized globals instead"</span>)</span><br><span class="line"><span class="keyword">void</span></span><br><span class="line">_<span class="built_in">dispatch_once</span>(<span class="built_in">dispatch_once_t</span> *predicate,</span><br><span class="line">		DISPATCH_NOESCAPE dispatch_block_t block)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (DISPATCH_EXPECT(*predicate, ~<span class="number">0</span>l) != ~<span class="number">0</span>l) &#123;</span><br><span class="line">		<span class="built_in">dispatch_once</span>(predicate, block);</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		dispatch_compiler_barrier();</span><br><span class="line">	&#125;</span><br><span class="line">	DISPATCH_COMPILER_CAN_ASSUME(*predicate == ~<span class="number">0</span>l);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> dispatch_once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> dispatch_once _dispatch_once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// DISPATCH_ONCE_INLINE_FASTPATH</span></span></span><br></pre></td></tr></table></figure>
<p>å›å¿†ä½¿ç”¨<code>dispatch_once</code>å‡½æ•°çš„æ—¶å€™ä¸¤ä¸ªå‚æ•°ä¸€ä¸ªæ˜¯<code>dispatch_once_t</code>çš„æ ‡å¿—ä½ï¼Œå¦ä¸€ä¸ªæ˜¯åªè°ƒç”¨ä¸€æ¬¡çš„blockï¼Œå› æ­¤éœ€è¦æ¶æ„æ”¯æŒblockçš„è¯­æ³•ï¼Œæ‰€ä»¥åœ¨æœ€å¼€å§‹åˆ©ç”¨å®å®šä¹‰åˆ¤æ–­æ˜¯å¦æ”¯æŒäº†blockã€‚ç„¶ååœ¨è¿™å±‚åˆ¤æ–­åˆ†æ”¯ä¹‹ä¸­åˆæœ‰å¦å¤–ä¸€ä¸ªåˆ¤æ–­ï¼Œåˆ¤æ–­å½“å‰çš„æ¶æ„æ˜¯å¦æ”¯æŒ<code>inline</code>ï¼Œè€Œåœ¨ä¹‹å‰<strong>å®å®šä¹‰</strong>ä¸€èŠ‚ä¸­æåˆ°äº†è¿™ä¸ªå®ï¼Œåœ¨<code>Apple</code> çš„æ¶æ„ä¸‹è¿™ä¸ªå®æ˜¯ä¸ºçœŸçš„ï¼Œå› æ­¤å®šä¹‰äº†å¦å¤–ä¸€ä¸ªå‡½æ•°<code>_dispatch_once</code>ï¼Œå¹¶ä¸”åˆ©ç”¨å®å®šä¹‰</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> dispatch_once#<span class="meta-keyword">define</span> dispatch_once _dispatch_once</span></span><br></pre></td></tr></table></figure>
<p>å°†<code>dispatch_once</code>å’Œ<code>_dispatch_once</code>åšäº†ä¸€ä¸ªæ›¿æ¢ã€‚ä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬è°ƒç”¨<code>dispatch_once</code>å®é™…ä¸Šæ˜¯å…ˆè°ƒç”¨äº†<code>_dispatch_once</code>ï¼Œåœ¨<code>_dispatch_once</code>å‡½æ•°å†…éƒ¨å†å»è°ƒç”¨åŸæ¥<code>dispatch_once</code>å‡½æ•°çš„å®ç°ã€‚ä¸‹é¢ç»§ç»­æ·±å…¥<code>_dispatch_once</code>å‡½æ•°å†…éƒ¨ã€‚</p>
<h3 id="dispatch-once"><a href="#dispatch-once" class="headerlink" title="_dispatch_once"></a>_dispatch_once</h3><p>æ ¸å¿ƒä»£ç :</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">void_dispatch_once(<span class="keyword">dispatch_once_t</span> *predicate,		DISPATCH_NOESCAPE <span class="keyword">dispatch_block_t</span> block)&#123;	<span class="keyword">if</span> (DISPATCH_EXPECT(*predicate, ~<span class="number">0l</span>) != ~<span class="number">0l</span>) &#123;		dispatch_once(predicate, block);	&#125; <span class="keyword">else</span> &#123;		dispatch_compiler_barrier();	&#125;	DISPATCH_COMPILER_CAN_ASSUME(*predicate == ~<span class="number">0l</span>);&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‡½æ•°é¦–å…ˆæ£€æŸ¥ä¼ å…¥çš„æ ‡å¿—ä½æ˜¯å¦æ˜¯<code>~0l</code>ï¼Œè‡³äºä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªå€¼åé¢ä¼šè°ˆã€‚å¦‚æœåˆ¤æ–­é€šè¿‡ï¼Œæ‰§è¡Œ<code>dispatch_once</code>çš„ä»£ç ï¼Œå¦åˆ™è°ƒç”¨å‡½æ•°<code>dispatch_compiler_barrier()</code>ï¼Œå³<strong>å†…å­˜å±éšœ</strong>ã€‚ä¸¤æ­¥ç»“æŸä¹‹åè°ƒç”¨<code>DISPATCH_COMPILER_CAN_ASSUME</code>è¿›è¡Œç¼–è¯‘å™¨ä¼˜åŒ–ã€‚</p>
<h3 id="dispatch-once-1"><a href="#dispatch-once-1" class="headerlink" title="dispatch_once"></a>dispatch_once</h3><p>æ ¸å¿ƒä»£ç :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">voiddispatch_once(dispatch_once_t *val, dispatch_block_t block)&#123;	dispatch_once_f(val, block, _dispatch_Block_invoke(block));&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°<code>dispatch_once</code>å‡½æ•°å®é™…ä¸Šåªæ˜¯å¯¹<code>dispatch_once_f</code>åšäº†ä¸€å±‚å°è£…,<code>_dispatch_Block_invoke</code>çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _dispatch_Block_invoke(bb) \		((dispatch_function_t)((struct Block_layout *)bb)-&gt;invoke)</span></span><br></pre></td></tr></table></figure>
<p>åœ¨æ–‡ä»¶<code>Block_private.h</code>ä¸­ï¼Œæœ‰å¯¹<code>Block_layout</code>è¿™ä¸ªç»“æ„ä½“çš„å®šä¹‰</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Block_layout</span> &#123;</span>    <span class="keyword">void</span> *isa;    <span class="keyword">volatile</span> <span class="keyword">int32_t</span> flags; <span class="comment">// contains ref count    int32_t reserved;     void (*invoke)(void *, ...);    struct Block_descriptor_1 *descriptor;    // imported variables&#125;;</span></span><br></pre></td></tr></table></figure>
<p><code>invoke</code>åªæ˜¯è¿™ä¸ªblockçš„ä¸€ä¸ªæ–¹æ³•ã€‚ç»§ç»­æŸ¥çœ‹<code>dispatch_once_f</code>å‡½æ•°çš„å®šä¹‰å’Œå®ç°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">API_AVAILABLE(macos(<span class="number">10.6</span>), ios(<span class="number">4.0</span>))<span class="function">DISPATCH_EXPORT DISPATCH_NONNULL1 DISPATCH_NONNULL3 <span class="title">DISPATCH_NOTHROWDISPATCH_SWIFT3_UNAVAILABLE</span><span class="params">(<span class="string">"Use lazily initialized globals instead"</span>)</span><span class="title">voiddispatch_once_f</span><span class="params">(<span class="keyword">dispatch_once_t</span> *predicate, <span class="keyword">void</span> *_Nullable context,		<span class="keyword">dispatch_function_t</span> function)</span></span>;<span class="meta">#<span class="meta-keyword">if</span> DISPATCH_ONCE_INLINE_FASTPATHDISPATCH_INLINE DISPATCH_ALWAYS_INLINE DISPATCH_NONNULL1 DISPATCH_NONNULL3DISPATCH_NOTHROWDISPATCH_SWIFT3_UNAVAILABLE(<span class="meta-string">"Use lazily initialized globals instead"</span>)void_dispatch_once_f(dispatch_once_t *predicate, void *_Nullable context,		dispatch_function_t function)&#123;	<span class="meta-keyword">if</span> (DISPATCH_EXPECT(*predicate, ~0l) != ~0l) &#123;		dispatch_once_f(predicate, context, function);	&#125; <span class="meta-keyword">else</span> &#123;		dispatch_compiler_barrier();	&#125;	DISPATCH_COMPILER_CAN_ASSUME(*predicate == ~0l);&#125;#<span class="meta-keyword">undef</span> dispatch_once_f#<span class="meta-keyword">define</span> dispatch_once_f _dispatch_once_f#<span class="meta-keyword">endif</span> <span class="comment">// DISPATCH_ONCE_INLINE_FASTPATH</span></span></span><br></pre></td></tr></table></figure>
<p>å’Œä¸Šé¢çš„<code>dispatch_once</code>ä¸<code>_dispatch_once</code>ä¸€æ ·ï¼Œåœ¨<strong>APPLE</strong>æ¶æ„çš„å‰æä¸‹<code>dispatch_once_f</code>ä¹Ÿè¢«å®å®šä¹‰æ›¿æ¢æˆäº†<code>_dispatch_once_f</code>ã€‚<code>_dispatch_once_f</code>å‡½æ•°ä½“çš„å†…å®¹ä¹Ÿå‡ ä¹å’Œ<code>_dispatch_once</code>çš„å†…å®¹å‡ ä¹ä¸€æ ·ï¼Œåœ¨ä¿è¯å¤šçº¿ç¨‹å®‰å…¨çš„å‰æä¸‹å¯¹<code>dispatch_once_f</code>çš„å°è£…ã€‚</p>
<h3 id="dispatch-once-f"><a href="#dispatch-once-f" class="headerlink" title="dispatch_once_f"></a>dispatch_once_f</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">DISPATCH_NOINLINEvoiddispatch_once_f(<span class="keyword">dispatch_once_t</span> *val, <span class="keyword">void</span> *ctxt, <span class="keyword">dispatch_function_t</span> func)&#123;	<span class="keyword">dispatch_once_gate_t</span> l = (<span class="keyword">dispatch_once_gate_t</span>)val;<span class="meta">#<span class="meta-keyword">if</span> !DISPATCH_ONCE_INLINE_FASTPATH || DISPATCH_ONCE_USE_QUIESCENT_COUNTER	uintptr_t v = os_atomic_load(&amp;l-&gt;dgo_once, acquire);	<span class="meta-keyword">if</span> (likely(v == DLOCK_ONCE_DONE)) &#123;		return;	&#125;#<span class="meta-keyword">if</span> DISPATCH_ONCE_USE_QUIESCENT_COUNTER	<span class="meta-keyword">if</span> (likely(DISPATCH_ONCE_IS_GEN(v))) &#123;		return _dispatch_once_mark_done_if_quiesced(l, v);	&#125;#<span class="meta-keyword">endif</span>#<span class="meta-keyword">endif</span>	<span class="meta-keyword">if</span> (_dispatch_once_gate_tryenter(l)) &#123;		return _dispatch_once_callout(l, ctxt, func);	&#125;	return _dispatch_once_wait(l);&#125;</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‡½æ•°é¦–å…ˆå¯¹ä¼ å…¥çš„æ ‡å¿—å€¼è¿›è¡Œäº†ä¸€ä¸ªè½¬å‹ï¼Œ<code>dispatch_once_gate_t</code>çš„å®šä¹‰åœ¨<code>lock.h</code>ä¸­</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">dispatch_gate_s</span> &#123;</span>	dispatch_lock dgl_lock;&#125; dispatch_gate_s, *<span class="keyword">dispatch_gate_t</span>;<span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">dispatch_once_gate_s</span> &#123;</span>	<span class="keyword">union</span> &#123;		dispatch_gate_s dgo_gate;		<span class="keyword">uintptr_t</span> dgo_once;	&#125;;&#125; dispatch_once_gate_s, *<span class="keyword">dispatch_once_gate_t</span>;</span><br></pre></td></tr></table></figure>
<p>å¯çŸ¥<code>dispatch_once_gate_t</code>å®é™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘ç»“æ„ä½“<code>dispatch_once_gate_s</code>çš„æŒ‡é’ˆã€‚ç»“æ„ä½“<code>dispatch_once_gate_s</code>çš„å”¯ä¸€æˆå‘˜å˜é‡æ˜¯ä¸€ä¸ªè”åˆä½“ã€‚<code>dispatch_gate_s</code>çš„å®šä¹‰å¦‚ä¸‹:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">uint32_t</span> dispatch_lock;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡<code>sizeof()</code>å‡½æ•°è·å¾—<code>uint32_t</code>å’Œ<code>uintptr_t</code>çš„å¤§å°ç»“æœå¦‚ä¸‹:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">2021</span><span class="number">-05</span><span class="number">-31</span> <span class="number">08</span>:<span class="number">17</span>:<span class="number">36.645814</span>+<span class="number">0800</span> testProject[<span class="number">7093</span>:<span class="number">262381</span>]  the <span class="built_in">size</span> of <span class="keyword">uint32_t</span> is <span class="number">42021</span><span class="number">-05</span><span class="number">-31</span> <span class="number">08</span>:<span class="number">17</span>:<span class="number">36.645906</span>+<span class="number">0800</span> testProject[<span class="number">7093</span>:<span class="number">262381</span>]  the <span class="built_in">size</span> of <span class="keyword">uintptr_t</span> is <span class="number">8</span></span><br></pre></td></tr></table></figure>
<p><code>uintptr_t</code>æ˜¯ä¸€ä¸ªæŒ‡å‘intç±»å‹çš„æŒ‡é’ˆï¼Œå…¶é•¿åº¦å°±æ˜¯å¹³å°çš„å­—é•¿ï¼Œ<code>uint32_t</code>é¡¾åæ€ä¹‰ï¼Œç”¨æ¥å­˜å‚¨32ä½çš„intç±»å‹çš„æ•°ã€‚Aç³»åˆ—å¤„ç†å™¨å’ŒMacä¸Šçš„å¤„ç†å™¨ç°å¦‚ä»Šéƒ½æ˜¯64ä½ï¼Œå› æ­¤ä¼šå‡ºç°ä¸€ä¸ªæ¯”å¦ä¸€ä¸ªé•¿çš„ç¼˜æ•…ã€‚é‡‡ç”¨è”åˆä½“æ¥è®¾è®¡ä¸çŸ¥é“å½“æ—¶æ˜¯å¦è€ƒè™‘äº†è·¨å¹³å°çš„å› ç´ ã€‚ç»§ç»­å¾€ä¸‹çœ‹ã€‚</p>
<p>å‡ºç°äº†å¦ä¸€ä¸ªä¹‹å‰æ²¡æœ‰çš„å®å®šä¹‰<code>DISPATCH_ONCE_USE_QUIESCENT_COUNTER</code>ï¼Œå…¶å®å®šä¹‰ä¸º</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(__x86_64__) || defined(__i386__) || defined(__s390x__)#<span class="meta-keyword">define</span> DISPATCH_ONCE_USE_QUIESCENT_COUNTER 0#<span class="meta-keyword">elif</span> __APPLE__#<span class="meta-keyword">define</span> DISPATCH_ONCE_USE_QUIESCENT_COUNTER 1#<span class="meta-keyword">else</span>#<span class="meta-keyword">define</span> DISPATCH_ONCE_USE_QUIESCENT_COUNTER 0#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>åœ¨<code>__APPLE__</code>æ¶æ„ä¸‹è¿™ä¸ªå®çš„å€¼ä¸º1ï¼Œå†ç»“åˆä¹‹å‰æè¿‡çš„<code>DISPATCH_ONCE_INLINE_FASTPATH</code>ä¸º1,é‚£ä¹ˆå°±éœ€è¦æ‰§è¡Œå®å®šä¹‰ifåé¢çš„ä»£ç å—ï¼Œåˆæ˜¯ä¸€ä¸ªæ²¡è§è¿‡çš„å‡½æ•°<code>os_atomic_load</code>ï¼Œä»å‡½æ•°åæ¥çœ‹ï¼Œä¼¼ä¹æ˜¯æ“ä½œç³»ç»ŸåŸå­æ€§çš„åŠ è½½æ•°æ®ï¼ŒæŸ¥çœ‹å…¶åœ¨æ–‡ä»¶ä¸­çš„å®šä¹‰:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> os_atomic_load(p, m) \		atomic_load_explicit(_os_atomic_c11_atomic(p), memory_order_##m)</span></span><br></pre></td></tr></table></figure>
<p>åœ¨<code>cppreference.com</code>ä¸­å¯¹<code>atomic_load_explicit</code>å‡½æ•°æœ‰è¯¦ç»†çš„æè¿°ï¼š</p>
<blockquote>
<h3 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h3><div class="table-container">
<table>
<thead>
<tr>
<th>obj</th>
<th>-</th>
<th>pointer to the atomic object to modify</th>
</tr>
</thead>
<tbody>
<tr>
<td>order</td>
<td>-</td>
<td>the memory synchronization ordering for this operation: only <a href="https://en.cppreference.com/w/cpp/atomic/memory_order" target="_blank" rel="noopener">std::memory_order_relaxed</a>, <a href="https://en.cppreference.com/w/cpp/atomic/memory_order" target="_blank" rel="noopener">std::memory_order_consume</a>, <a href="https://en.cppreference.com/w/cpp/atomic/memory_order" target="_blank" rel="noopener">std::memory_order_acquire</a> and <a href="https://en.cppreference.com/w/cpp/atomic/memory_order" target="_blank" rel="noopener">std::memory_order_seq_cst</a> are permitted.</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Return-value"><a href="#Return-value" class="headerlink" title="Return value"></a>Return value</h3><p>The value that is held by the atomic object pointed to by <code>obj</code></p>
</blockquote>
<p>å¤§æ„å°±æ˜¯æ ¹æ®ä¼ å…¥å‚æ•°<code>order</code>ï¼Œä»¥ä¸åŒçš„æ–¹å¼è¿”å›<code>obj</code>æŒ‡å‘çš„åŸå­å¯¹è±¡ã€‚è¿™é‡Œæ¶‰åŠåˆ°C++11çš„å…­ç§<code>memory order</code>ï¼Œå¸Œæœ›ä»¥åæœ‰æœºä¼šå†ç»†èŠã€‚</p>
<p>åŸå­æ€§åŠ è½½å®ŒVçš„å€¼ååˆ¤æ–­<code>dgo_once</code>æ˜¯å¦æ˜¯<code>DLOCK_ONCE_DONE</code>ï¼ŒçŒœæµ‹åœ¨å®Œæˆ<code>dispatch_once</code>ç¬¬ä¸€æ¬¡æ‰§è¡Œåä¸­è¿™ä¸ªæ ‡å¿—ä½ä¼šè¢«æ ‡è®°æˆ<code>DLOCK_ONCE_DONE</code>ï¼Œè¿™é‡Œæœ‰ä¸ªä¼˜åŒ–å°ç»†èŠ‚ï¼Œä½¿ç”¨äº†<code>likely</code>æ¥ä¼˜åŒ–æŒ‡ä»¤æ’åˆ—é¡ºåºï¼Œå› ä¸ºæ‰§è¡Œè¿™æ®µä»£ç <code>dgo_once</code>æŒ‡ä»¤çš„å€¼æ˜¯<code>DLOCK_ONCE_DONE</code>çš„æ¦‚ç‡è¦è¿œé«˜äºå…¶ä»–æƒ…å†µã€‚</p>
<h4 id="dispatch-once-gate-tryenter"><a href="#dispatch-once-gate-tryenter" class="headerlink" title="_dispatch_once_gate_tryenter"></a>_dispatch_once_gate_tryenter</h4><p>æˆ‘ä»¬å…ˆè·³è½¬åˆ°<code>_dispatch_once_gate_tryenter</code>å‡½æ•°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">DISPATCH_ALWAYS_INLINEstatic <span class="keyword">inline</span> <span class="title">bool_dispatch_once_gate_tryenter</span><span class="params">(<span class="keyword">dispatch_once_gate_t</span> l)</span></span>&#123;	<span class="keyword">return</span> os_atomic_cmpxchg(&amp;l-&gt;dgo_once, DLOCK_ONCE_UNLOCKED,			(<span class="keyword">uintptr_t</span>)_dispatch_lock_value_for_self(), relaxed);&#125;<span class="meta">#<span class="meta-keyword">define</span> DLOCK_GATE_UNLOCKED	((dispatch_lock)0)#<span class="meta-keyword">define</span> DLOCK_ONCE_UNLOCKED	((uintptr_t)0)#<span class="meta-keyword">define</span> DLOCK_ONCE_DONE		(~(uintptr_t)0)</span></span><br></pre></td></tr></table></figure>
<p><code>os_atomic_cmpxchg</code>çš„å®šä¹‰ä¸º</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> os_atomic_cmpxchg(p, e, v, m) \		(&#123; _os_atomic_basetypeof(p) _r = (e); \		atomic_compare_exchange_strong_explicit(_os_atomic_c11_atomic(p), \		&amp;_r, v, memory_order_##m, memory_order_relaxed); &#125;)</span></span><br></pre></td></tr></table></figure>
<p>å…¶å†…éƒ¨å°±æ˜¯<code>atomic_compare_exchange_strong_explicit</code>å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯ï¼šç¬¬äºŒä¸ªå‚æ•°ä¸ç¬¬ä¸€ä¸ªå‚æ•°å€¼æ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°çš„å€¼æ›¿æ¢ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ã€‚å¦‚æœä¸ç›¸ç­‰ï¼ŒæŠŠç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼èµ‹å€¼åˆ°ç¬¬äºŒä¸ªå‚æ•°ä¸Šã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">DISPATCH_ALWAYS_INLINEstatic <span class="keyword">inline</span> <span class="title">dispatch_lock_dispatch_lock_value_for_self</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;	<span class="keyword">return</span> _dispatch_lock_value_from_tid(_dispatch_tid_self());&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">DISPATCH_ALWAYS_INLINEstatic <span class="keyword">inline</span> <span class="title">dispatch_lock_dispatch_lock_value_from_tid</span><span class="params">(dispatch_tid tid)</span></span>&#123;	<span class="keyword">return</span> tid &amp; DLOCK_OWNER_MASK;&#125;<span class="meta">#<span class="meta-keyword">define</span> DLOCK_OWNER_MASK			((dispatch_lock)0xfffffffc)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _dispatch_tid_self()		((dispatch_tid)_dispatch_thread_port())</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> TARGET_OS_WIN32#<span class="meta-keyword">define</span> _dispatch_thread_port() ((mach_port_t)0)#<span class="meta-keyword">elif</span> !DISPATCH_USE_THREAD_LOCAL_STORAGE#<span class="meta-keyword">if</span> DISPATCH_USE_DIRECT_TSD#<span class="meta-keyword">define</span> _dispatch_thread_port() ((mach_port_t)(uintptr_t)\		_dispatch_thread_getspecific(_PTHREAD_TSD_SLOT_MACH_THREAD_SELF))#<span class="meta-keyword">else</span>#<span class="meta-keyword">define</span> _dispatch_thread_port() pthread_mach_thread_np(_dispatch_thread_self())#<span class="meta-keyword">endif</span>#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>é¡ºè—¤æ‘¸ç“œä¸‹æ¥ï¼Œå‡½æ•°<code>_dispatch_once_gate_tryenter</code>çš„æ ¸å¿ƒåŠŸèƒ½å°±æ˜¯åˆ¤æ–­å½“å‰çš„gateçš„<code>dog_once</code>æ˜¯ä¸æ˜¯ç­‰äº<code>DLOCK_ONCE_UNLOCKED</code>ï¼Œå¦‚æœæ˜¯ï¼ŒæŠŠ<code>dog_once</code>çš„å€¼è®¾ç½®æˆè¿™ä¸ªçº¿ç¨‹çš„<code>pid</code>ã€‚</p>
<h4 id="dispatch-once-callout"><a href="#dispatch-once-callout" class="headerlink" title="_dispatch_once_callout"></a>_dispatch_once_callout</h4><p>å‡å¦‚ç°åœ¨ç¡®å®æ²¡æœ‰ä¸Šé”çš„è¯ï¼Œä¼šè¿”å›å‡½æ•°<code>_dispatch_once_callout</code>,</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">DISPATCH_NOINLINEstatic <span class="title">void_dispatch_once_callout</span><span class="params">(<span class="keyword">dispatch_once_gate_t</span> l, <span class="keyword">void</span> *ctxt,		<span class="keyword">dispatch_function_t</span> func)</span></span>&#123;<span class="comment">//è·å–åˆ°å½“å‰é˜Ÿåˆ—ï¼Œæ‰§è¡Œfunc	_dispatch_client_callout(ctxt, func);	_dispatch_once_gate_broadcast(l);&#125;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">DISPATCH_ALWAYS_INLINEstatic <span class="keyword">inline</span> <span class="title">void_dispatch_once_gate_broadcast</span><span class="params">(<span class="keyword">dispatch_once_gate_t</span> l)</span></span>&#123;	dispatch_lock value_self = _dispatch_lock_value_for_self();	<span class="keyword">uintptr_t</span> v;<span class="meta">#<span class="meta-keyword">if</span> DISPATCH_ONCE_USE_QUIESCENT_COUNTER	v = _dispatch_once_mark_quiescing(l);#<span class="meta-keyword">else</span>	v = _dispatch_once_mark_done(l);#<span class="meta-keyword">endif</span>	<span class="meta-keyword">if</span> (likely((dispatch_lock)v == value_self)) return;	_dispatch_gate_broadcast_slow(&amp;l-&gt;dgo_gate, (dispatch_lock)v);&#125;</span></span><br></pre></td></tr></table></figure>
<p>ä»<code>_dispatch_once_mark_done</code>çš„åå­—å’Œå®ç°ä¸­</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">DISPATCH_ALWAYS_INLINEstatic <span class="keyword">inline</span> <span class="title">uintptr_t_dispatch_once_mark_done</span><span class="params">(<span class="keyword">dispatch_once_gate_t</span> dgo)</span></span>&#123;	<span class="keyword">return</span> os_atomic_xchg(&amp;dgo-&gt;dgo_once, DLOCK_ONCE_DONE, <span class="built_in">release</span>);&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥äº†è§£åˆ°è¿™é‡Œå°±æ˜¯ç›¸å½“äºæ ‡è®°ä¹‹å‰çš„block/å‡½æ•°å·²ç»æ‰§è¡Œå®Œæˆï¼Œæ ‡è®°æˆæ‰§è¡Œç»“æŸã€‚å†æ¥çœ‹<code>_dispatch_once_mark_quiescing</code>çš„å®ç°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">DISPATCH_ALWAYS_INLINEstatic <span class="keyword">inline</span> <span class="title">uintptr_t_dispatch_once_mark_quiescing</span><span class="params">(<span class="keyword">dispatch_once_gate_t</span> dgo)</span></span>&#123;	<span class="keyword">return</span> os_atomic_xchg(&amp;dgo-&gt;dgo_once, _dispatch_once_generation(), <span class="built_in">release</span>);&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå°†<code>dgo_once</code>è®¾ç½®æˆäº†<code>_dispatch_once_generation()</code>å‡½æ•°è¿”å›å€¼ï¼Œå›å¿†ä¹‹å‰æˆ‘ä»¬è·³è¿‡çš„éƒ¨åˆ†</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> DISPATCH_ONCE_USE_QUIESCENT_COUNTER	<span class="meta-keyword">if</span> (likely(DISPATCH_ONCE_IS_GEN(v))) &#123;		return _dispatch_once_mark_done_if_quiesced(l, v);	&#125;#<span class="meta-keyword">endif</span>#<span class="meta-keyword">if</span> DISPATCH_ONCE_USE_QUIESCENT_COUNTER#<span class="meta-keyword">define</span> DISPATCH_ONCE_MAKE_GEN(gen)  (((gen) &lt;&lt; 2) + DLOCK_FAILED_TRYLOCK_BIT)#<span class="meta-keyword">define</span> DISPATCH_ONCE_IS_GEN(gen)    (((gen) &amp; 3) == DLOCK_FAILED_TRYLOCK_BIT)</span></span><br></pre></td></tr></table></figure>
<p>åœ¨æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ‰§è¡Œå®Œblockåï¼Œ<code>dgo_once</code>çš„äºŒè¿›åˆ¶å€¼çš„ä½ä¸¤ä½å˜æˆäº†<code>DLOCK_FAILED_TRYLOCK_BIT</code>ï¼Œé‚£ä¹ˆæ˜¾è€Œæ˜“è§å¦å¤–ä¸€ä¸ªæ‰§è¡Œè¿™ä¸ªä»£ç çš„çº¿ç¨‹å°±ä¼šè½¬åˆ°<code>_dispatch_once_mark_done_if_quiesced</code>å‡½æ•°ä¸­ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">DISPATCH_ALWAYS_INLINEstatic <span class="keyword">inline</span> <span class="title">void_dispatch_once_mark_done_if_quiesced</span><span class="params">(<span class="keyword">dispatch_once_gate_t</span> dgo, <span class="keyword">uintptr_t</span> gen)</span></span>&#123;  <span class="comment">//é˜²æ­¢ä¸¤æ¬¡ç”Ÿæˆçš„æ—¶é—´é—´éš”è¿‡çŸ­	if (_dispatch_once_generation() - gen &gt;= DISPATCH_ONCE_GEN_SAFE_DELTA) &#123;		/*		 * See explanation above, when the quiescing counter approach is taken		 * then this store needs only to be relaxed as it is used as a witness		 * that the required barriers have happened.		 */		os_atomic_store(&amp;dgo-&gt;dgo_once, DLOCK_ONCE_DONE, relaxed);	&#125;&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="dispatch-once-wait"><a href="#dispatch-once-wait" class="headerlink" title="_dispatch_once_wait"></a>_dispatch_once_wait</h3><p>ä¹‹å‰ä¸€ç›´èŠçš„éƒ½æ˜¯ç¨‹åºåˆ¤æ–­é€šè¿‡é¡ºåºæ‰§è¡Œçš„æƒ…å†µï¼Œæ³¨æ„åˆ°åœ¨<code>_dispatch_once_f</code>å‡½æ•°ä¸­å¦‚æœåœ¨æœ€åä¸€æ­¥è·å–é”å¤±è´¥çš„è¯ä¼šè¿”å›å‡½æ•°<code>_dispatch_once_wait</code>ï¼Œæ ¹æ®OSä¸­é”<strong>å¿™åˆ™ç­‰å¾…</strong>çš„æ€æƒ³ï¼ŒçŒœæµ‹è¿™ä¸ªå‡½æ•°ä¹Ÿæ˜¯å¤§è‡´ç›¸ä¼¼çš„åŠŸèƒ½ï¼Œä¸‹é¢æ˜¯å…¶æºç ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">void_dispatch_once_wait(<span class="keyword">dispatch_once_gate_t</span> dgo)&#123;  <span class="comment">//è·å–å½“å‰çº¿ç¨‹çš„é”	dispatch_lock self = _dispatch_lock_value_for_self();	uintptr_t old_v, new_v;	dispatch_lock *lock = &amp;dgo-&gt;dgo_gate.dgl_lock;	uint32_t timeout = 1;  //æ— é™forå¾ªç¯	for (;;) &#123;		os_atomic_rmw_loop(&amp;dgo-&gt;dgo_once, old_v, new_v, relaxed, &#123;      //æ˜¯å¦é”å·²ç»è¢«é‡Šæ”¾			if (likely(old_v == DLOCK_ONCE_DONE)) &#123;				os_atomic_rmw_loop_give_up(return);			&#125;      //__APPLE__æ¶æ„ä¸‹#if DISPATCH_ONCE_USE_QUIESCENT_COUNTER			if (DISPATCH_ONCE_IS_GEN(old_v)) &#123;				os_atomic_rmw_loop_give_up(&#123;					os_atomic_thread_fence(acquire);					return _dispatch_once_mark_done_if_quiesced(dgo, old_v);				&#125;);			&#125;#endif      //loopå¾ªç¯ä¸¤æ¬¡ä¹‹åè‡ªåŠ¨break			new_v = old_v | (uintptr_t)DLOCK_WAITERS_BIT;			if (new_v == old_v) os_atomic_rmw_loop_give_up(break);		&#125;);		if (unlikely(_dispatch_lock_is_locked_by((dispatch_lock)old_v, self))) &#123;			DISPATCH_CLIENT_CRASH(0, "trying to lock recursively");		&#125;#if HAVE_UL_UNFAIR_LOCK    //ç­‰å¾…é”		_dispatch_unfair_lock_wait(lock, (dispatch_lock)new_v, 0,				DLOCK_LOCK_NONE);#elif HAVE_FUTEX    //ç­‰å¾…é”		_dispatch_futex_wait(lock, (dispatch_lock)new_v, NULL,				FUTEX_PRIVATE_FLAG);#else    //åˆ‡æ¢åˆ°åˆ«çš„çº¿ç¨‹		_dispatch_thread_switch(new_v, flags, timeout++);#endif		(void)timeout;	&#125;&#125;</span></span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#define os_atomic_rmw_loop(p, ov, nv, m, ...)  (&#123; \		bool _result &#x3D; false; \		typeof(p) _p &#x3D; (p); \		ov &#x3D; os_atomic_load(_p, relaxed); \		do &#123; \			__VA_ARGS__; \			_result &#x3D; os_atomic_cmpxchgvw(_p, ov, nv, &amp;ov, m); \		&#125; while (os_unlikely(!_result)); \		_result; \	&#125;)    &#x2F;&#x2F;os_atomic_cmpxchgvwå‡½æ•°å®šä¹‰  #define os_atomic_cmpxchgvw(p, e, v, g, m) \		(&#123; _os_atomic_basetypeof(p) _r &#x3D; (e); _Bool _b &#x3D; \		atomic_compare_exchange_weak_explicit(_os_atomic_c11_atomic(p), \		&amp;_r, v, memory_order_##m, memory_order_relaxed); *(g) &#x3D; _r;  _b; &#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Parameters</strong><br>obj<br>Pointer to an atomic object.<br>Type A represents other overloaded atomic types (if the library does not implement the C-style atomic types as instantiations of atomic).<br>expected<br>Pointer to an object whose value is compared to the contained value, and which -in case it doesnâ€™t match- may be overwritten with the contained value.<br>T is the type of the value contained in the atomic object (atomicâ€™s template parameter).<br>val<br>Value to copy to the contained object in case expected matches the contained value.<br>T is the type of the value contained in the atomic object (atomicâ€™s template parameter).<br>success<br>Synchronization mode for the operation in case expected matches the contained value.<br>This shall be a value of the enum type memory_order.<br>failure<br>Synchronization mode for the operation in case expected does not match the contained value.<br>This shall be a value of the enum type memory_order that is neither memory_order_release nor memory_order_acq_rel, and which is not stronger than success.</p>
<p><strong>Return value</strong><br>true if *expected compares equal to the contained value (and does not fail spuriously).<br>false otherwise.</p>
</blockquote>
<p>æ³¨æ„åˆ°<code>os_atomic_rmw_loop</code>å‡½æ•°çš„å‚æ•°æ˜¯å¯å˜çš„ï¼ŒåŒæ—¶åœ¨<code>do</code>è¯­å¥å—ä¸­æœ‰ä¸€ä¸ª<code>__VA_ARGS__;</code>ï¼Œç»“åˆæ— é™forå¾ªç¯çš„æœ€åä¸€ä¸ªå‚æ•°çš„å…·ä½“å†…å®¹å¯çŸ¥ï¼Œå°±æ˜¯åœ¨è¿™ä¸ªåœ°æ–¹åˆ¤æ–­é”çš„çŠ¶æ€ã€‚æ³¨æ„åˆ°ï¼Œåœ¨loopè¯­å¥å—çš„æœ€åç”¨<code>old_v</code>ä¸<code>DLOCK_WAITERS_BIT</code>åšäº†ä¸€ä¸ªæˆ–æ“ä½œå¹¶èµ‹ç»™<code>new_v</code>ã€‚å¾ªåŒ–ä¸¤æ¬¡ä¹‹ååé¢çš„ifè¯­å¥å°±ä¼šåˆ¤æ–­ä¸ºçœŸï¼Œé€€å‡ºå½“å‰çš„loopã€‚è¿™é‡Œè¿™æ ·å¤„ç†æ˜¯ä¸ºäº†é¿å…é•¿æ—¶é—´å¡åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œå› ä¸ºè¿˜éœ€è¦åˆ¤æ–­åé¢çš„é”æœ‰æ²¡æœ‰ï¼Œå¦‚æœæœ‰åˆ™éœ€è¦è¿›å…¥åé¢çš„é”ç­‰å¾…ä¸­ï¼Œå¦‚<code>UL_UNFAIR_LOCK</code>,<code>FUTEX</code>ã€‚å¦‚æœè¿™ä¸¤ç§é”ä¹Ÿéƒ½æ²¡æœ‰åˆ™åˆ‡æ¢åˆ°å…¶ä»–çš„çº¿ç¨‹ï¼Œæ³¨æ„åˆ°è¿™é‡Œçš„åˆ‡æ¢çš„æ–°çº¿ç¨‹çš„<code>mach_port_id</code>æ˜¯<code>new_v</code>ï¼Œä½†æ˜¯è¿™ä¸ª<code>new_v</code>å¹¶ä¸ä¸€å®šä¸ä¸€ä¸ªå®é™…å­˜åœ¨çš„çº¿ç¨‹å¯¹åº”ã€‚ä½†æ˜¯æ²¡æœ‰å…³ç³»ï¼Œè°ƒåº¦å™¨æ—©å°±å¸®æˆ‘ä»¬æƒ³å¥½äº†è¿™ä¸€ç‚¹ï¼Œå³æ—¶ä¸ä¸ä¸€ä¸ªå®é™…çš„çº¿ç¨‹å¯¹åº”ï¼Œè°ƒåº¦å™¨è¿˜æ˜¯ä¼šåˆ‡æ¢åˆ°å½“å‰å¯åˆ‡æ¢çš„å…¶ä»–çº¿ç¨‹ä¸Šè¿è¡Œã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è®©æˆ‘ä»¬é‡æ–°æ¢³ç†ä¸€é<code>dispatch_once</code>è¿™ä¸ªå‡½æ•°çš„æ‰§è¡Œæµç¨‹ã€‚åœ¨<code>__APPLE__</code>æ¶æ„ä¸‹,<code>DISPATCH_ONCE_INLINE_FASTPATH</code>å’Œ<code>DISPATCH_ONCE_USE_QUIESCENT_COUNTER</code>éƒ½æ˜¯1ã€‚<code>dispatch_once</code>å’Œ<code>dispatch_once_f</code>ä¹Ÿåªæ˜¯å› ä¸ºæœ‰äº†<code>block</code>è¯­æ³•å¯¹<code>dispatch_once_f</code>çš„ä¸€å±‚å°è£…ã€‚</p>
<h3 id="å•çº¿ç¨‹"><a href="#å•çº¿ç¨‹" class="headerlink" title="å•çº¿ç¨‹"></a>å•çº¿ç¨‹</h3><p>ç¬¬ä¸€æ¬¡æ‰§è¡Œä»£ç çš„æƒ…å†µä¸‹ï¼Œ<code>dispatch_once_t</code>æ ‡å¿—ä½<code>val</code>è¢«è½¬å‹æˆ<code>dispatch_once_gate_s</code>çš„ç»“æ„ä½“<code>l</code>ï¼Œ<code>l-&gt;dgo_once</code>çš„å€¼å¿…ç„¶ä¸å¯èƒ½æ˜¯<code>DLOCK_ONCE_DONE</code>ï¼Œ<code>DISPATCH_ONCE_IS_GEN</code>è¿”å›çš„å€¼å¿…ç„¶ä¸å¯èƒ½ä¸ºçœŸã€‚å› æ­¤ä¼šç›´æ¥è·³è½¬åˆ°<code>_dispatch_once_gate_tryenter</code>ï¼Œå› ä¸ºæ˜¯ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼Œ<code>val</code>çš„æ‰€æœ‰å€¼å‡ä¸º0ï¼Œå› æ­¤<code>l-&gt;dgo_once</code>çš„å€¼ä¹Ÿå°±æ˜¯<code>DLOCK_ONCE_UNLOCKED</code>åˆ¤æ–­é€šè¿‡ï¼Œåˆ¤æ–­é€šè¿‡ç´§è·Ÿç€çš„å°±æ˜¯ä¸Šé”ï¼ˆç”¨å½“å‰çº¿ç¨‹çš„<code>pid</code>ä»£æ›¿é”çš„æ ‡å¿—ï¼‰ã€‚ä¸Šé”å®Œæˆåå³è°ƒç”¨åªæ‰§è¡Œä¸€æ¬¡çš„ä»£ç ã€‚ä»£ç å—æ‰§è¡Œå®Œæˆè¿›è¡Œå¼€é”æ“ä½œï¼Œè°ƒç”¨<code>_dispatch_once_generation()</code>å‡½æ•°ä¿®æ”¹<code>l-&gt;dgo_once</code>çš„å€¼ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œä¸‹ä¸€æ¬¡çº¿ç¨‹æ‰§è¡Œå†è°ƒç”¨<code>dispatch_once</code>çš„ä»£ç åœ¨<code>DISPATCH_EXPECT</code>å°±å¯ä»¥ç›´æ¥åˆ¤æ–­è°ƒç”¨è¿‡ç„¶åè¿”å›ã€‚</p>
<h3 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h3><p>å‡å®šæœ‰çº¿ç¨‹Aå’Œçº¿ç¨‹Bä¸¤ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œ<code>dispatch_once</code>ã€‚</p>
<p>ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œåˆ°<code>if (_dispatch_once_gate_tryenter(l))</code>è¯­å¥å¤„ï¼Œå‡å®šçº¿ç¨‹Aå…ˆæ‰§è¡Œåˆ¤æ–­è¯­å¥ï¼Œæ­£å¦‚åˆšæ‰æåˆ°çš„ï¼Œçº¿ç¨‹Aä¼šå¯¹ä¿®æ”¹<code>l-&gt;dgo_once</code>çš„å€¼å¹¶ä¸”æ˜¯åŸå­æ“ä½œï¼Œçº¿ç¨‹Bæ‰§è¡Œè¿™æ®µä»£ç æ—¶å°±ä¼šè¿”å›<code>False</code>å› ä¸ºæ•°æ®å·²ç»è¢«ä¸Šé”ã€‚çº¿ç¨‹Aå’Œå•çº¿ç¨‹çš„æƒ…å†µä¸€æ ·ä¸€ç›´é¡ºåºæ‰§è¡Œï¼Œè¿›å…¥å‡½æ•°<code>_dispatch_once_callout</code>ï¼›çº¿ç¨‹Bå› ä¸ºæ— æ³•è·å–é”æ‰§è¡Œå‡½æ•°<code>dispatch_once_wait</code>ï¼Œåœ¨æ— é™å¾ªç¯ä¸­è¯·æ±‚é”ã€‚å½“çº¿ç¨‹Aå®Œæˆæ“ä½œï¼Œå¹¶è¿›è¡Œå¹¿æ’­ï¼Œå³æ‰§è¡Œå‡½æ•°<code>_dispatch_once_mark_quiescing</code>ï¼Œçº¿ç¨‹Båœ¨å¾ªç¯ä¸­å¾—çŸ¥<code>DISPATCH_ONCE_IS_GEN</code>ï¼Œæˆ–è€…ä»ä¼‘çœ ä¸­è¢«å”¤é†’ï¼Œè°ƒç”¨å‡½æ•°ï¼Œä¿®æ”¹<code>l-&gt;dgo_once</code>çš„å€¼ä¸º<code>DONE</code>ã€‚é€€å‡ºå¾ªç¯ã€‚</p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="http://www.babyitellyou.com/details?id=5fd0fa08f8d82b7f220427dd" target="_blank" rel="noopener">iOS å¤šçº¿ç¨‹çŸ¥è¯†ä½“ç³»æ„å»º(å)ï¼šGCD æºç ï¼šdispatch_onceã€dispatch_semaphoreå‡½æ•°</a>(è¿™ç¯‡æ–‡ç« è®²çš„ä¸é”™ï¼Œæ¨è)<br><a href="https://blog.csdn.net/weixin_40918107/article/details/109520980" target="_blank" rel="noopener">OCåº•å±‚æ¢ç´¢(äºŒåä¸€)GCDå¼‚æ­¥ã€GCDåŒæ­¥ã€å•ä¾‹ã€ä¿¡å·é‡ã€è°ƒåº¦ç»„ã€æ …æ å‡½æ•°ç­‰åº•å±‚åˆ†æ</a><br><a href="https://kernelnewbies.org/FAQ/LikelyUnlikely" target="_blank" rel="noopener">likely() and unlikely()</a><br><a href="https://clang.llvm.org/docs/LanguageExtensions.html" target="_blank" rel="noopener">__builtin_assume</a><br><a href="https://opensource.apple.com/source/libclosure/libclosure-63/Block_private.h" target="_blank" rel="noopener">Block_private.h</a><br><a href="https://en.cppreference.com/w/cpp/atomic/atomic_load" target="_blank" rel="noopener">atomic_load</a><br><a href="https://www.cplusplus.com/reference/atomic/atomic_compare_exchange_strong_explicit/" target="_blank" rel="noopener">atomic_compare_exchange_strong_explicit</a><br><a href="http://www.cplusplus.com/reference/atomic/atomic_compare_exchange_weak_explicit/" target="_blank" rel="noopener">atomic_compare_exchange_weak_explicit</a><br><a href="http://web.mit.edu/darwin/src/modules/xnu/osfmk/man/thread_switch.html" target="_blank" rel="noopener">thread_switch</a></p>
]]></content>
      <tags>
        <tag>iOS</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢å¯¼èˆªæ ç¾åŒ–ä¸è‡ªå®šä¹‰</title>
    <url>/2020/03/13/Hexo%E5%8D%9A%E5%AE%A2%E5%AF%BC%E8%88%AA%E6%A0%8F%E7%BE%8E%E5%8C%96%E4%B8%8E%E8%87%AA%E5%AE%9A%E4%B9%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>æœ€è¿‘å‡ å¤©é—²æ¥æ— äº‹é€›<a href="https://bestzuo.cn/" target="_blank" rel="noopener">åˆ«äººçš„åšå®¢</a>çš„æ—¶å€™å‘ç°å¢åŠ ä¸€ä¸ªç•™è¨€æ¿çš„åŠŸèƒ½å¥½åƒè¿˜è›®æœ‰æ„æ€çš„.äºæ˜¯å°±æƒ³è‡ªå·±ä¹Ÿæ•´ä¸€ä¸ª.å†æŠŠå¯¼èˆªæ çš„å›¾æ ‡æ¢ä»–ä¸€æ¢<br><a id="more"></a><br>è‡ªå·±è‡ªå®šä¹‰å¯¼èˆªæ å…¶å®è¿˜è›®ç®€å•çš„,ç›¸æ¯”ä¹‹å‰åœ¨ç½‘é¡µé‡Œé¢æ’å…¥æ’­æ”¾å™¨è€Œè¨€.ğŸ¤£ğŸ¤£</p>
<h3 id="æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶"><a href="#æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶" class="headerlink" title="æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶"></a>æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶</h3><p>æˆ‘ä»¬é¦–å…ˆæ‰“å¼€ä½äº<code>themes/next</code>æ–‡ä»¶å¤¹ä¸‹é¢çš„<code>_config.yml</code>é…ç½®æ–‡ä»¶.ç„¶ååœ¨å…¶ä¸­æœç´¢ä¸€ä¸‹<code>menu</code>.å®šä½åˆ°ä¸‹å›¾è¿™ä¸ªåœ°æ–¹.<br><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/menu.png" alt=""></p>
<p>å¯ä»¥çœ‹åˆ°æ³¨é‡Šå¾ˆè¯¦ç»†çš„è§£é‡Šäº†<code>menu</code>è‡ªå®šä¹‰é¡¹çš„ç”¨æ³•.å‰é¢çš„<font color="red">çº¢å­—</font>éƒ¨åˆ†å°±æ˜¯å¯¼èˆªæ çš„<strong>æ ‡é¢˜</strong>äº†.æ³¨é‡Šåé¢è¿˜æåˆ°<code>if the translation for this item is available, the translated text will be loaded, otherwise the Key name will be used.</code>è¿™å¥è¯çš„æ„æ€å°±æ˜¯å¦‚æœçº¢å­—éƒ¨åˆ†æœ‰å¯¹åº”çš„ç¿»è¯‘,é‚£ä¹ˆå¯¹åº”çš„ç¿»è¯‘å°±ä¼šåœ¨ç½‘é¡µä¸Šè‡ªåŠ¨åŠ è½½,å¦åˆ™çº¢å­—å°±æ˜¯ä½ çš„å¯¼èˆªæ çš„åå­—.é‚£ä¹ˆè¿™ä¸ªæ‰€è°“çš„<code>translation</code>åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢.</p>
<h3 id="æ·»åŠ å¯¹åº”çš„ç¿»è¯‘"><a href="#æ·»åŠ å¯¹åº”çš„ç¿»è¯‘" class="headerlink" title="æ·»åŠ å¯¹åº”çš„ç¿»è¯‘"></a>æ·»åŠ å¯¹åº”çš„ç¿»è¯‘</h3><p>æ‰“å¼€<code>themes/next/language</code>æ–‡ä»¶å¤¹.å¯ä»¥çœ‹åˆ°ä¸€æ’ä»¥è¯­è¨€åå‘½åçš„æ–‡ä»¶å¤¹.ç„¶åæ‰“å¼€<code>zh-CN.yml</code><br><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/%E8%AF%AD%E8%A8%80.png" alt=""></p>
<p>æ·»åŠ å¯¹åº”çš„<code>Key</code>å€¼å’Œå…¶ç¿»è¯‘.æ³¨æ„ç¿»è¯‘å’Œå†’å·ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼.</p>
<h3 id="é€‰æ‹©å¥½åº·çš„å›¾æ ‡"><a href="#é€‰æ‹©å¥½åº·çš„å›¾æ ‡" class="headerlink" title="é€‰æ‹©å¥½åº·çš„å›¾æ ‡"></a>é€‰æ‹©å¥½åº·çš„å›¾æ ‡</h3><p>å†ç ”è¯»ä¸€ä¸‹ä¸»é¢˜é…ç½®æ–‡ä»¶çš„æ³¨é‡Š.å‘ç°<code>next</code>ä¸»é¢˜çš„å›¾æ ‡æ¥è‡ªäºä¸€ä¸ªå«åš<code>Font Awesome icon</code>çš„ä¸œè¥¿.å†è§‚å¯Ÿä¸€ä¸‹åŸæœ¬<code>next</code>ä¸»é¢˜çš„iconå.<a href="https://fontawesome.dashgame.com/" target="_blank" rel="noopener"><code>Font Awesome icon</code></a>çš„å®˜æ–¹ç½‘ç«™åœ¨è¿™é‡Œ.é‡Œé¢æœ‰è®¸å¤šçš„å›¾æ ‡ä»¥åŠä½¿ç”¨ä»–ä»¬å¯¹åº”çš„é“­æ’.æˆ‘ä»¬ç›´é€‰å“Ÿè°ƒæ¢ä¸€ä¸ªå¥½åº·çš„ç„¶ååœ¨<code>||</code>åé¢æ¢ä¸Šæˆ‘ä»¬è‡ªå·±å–œæ¬¢çš„iconå°±å¥½äº†.åŒç†,å¯¼èˆªæ å…¶ä»–çš„å›¾æ ‡å¦‚æœçœ‹çš„ä¸é¡ºçœ¼äº†æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ç›¸åŒçš„æ–¹æ³•è¿›è¡Œæ›¿æ¢.ä¿®æ”¹åå­—çš„äº‹è€Œå·².</p>
<p>æ›´å¤š<code>Font Awesome icon</code>å­—ä½“çš„ä½¿ç”¨å¯ä»¥å‚è€ƒ<a href="http://masikkk.com/article/hexo-17-FontAwesome/" target="_blank" rel="noopener">è¿™ç¯‡Blog</a></p>
<h3 id="ç¼–å†™å¯¹åº”é¡µé¢çš„Markdown"><a href="#ç¼–å†™å¯¹åº”é¡µé¢çš„Markdown" class="headerlink" title="ç¼–å†™å¯¹åº”é¡µé¢çš„Markdown"></a>ç¼–å†™å¯¹åº”é¡µé¢çš„Markdown</h3><p>æœ€åä¸€æ­¥æ¥è¾£.æ‰“å¼€æˆ‘ä»¬çš„git bash.åœ¨åšå®¢ç›®å½•ä¸‹é¢è¾“å…¥<code>hexo new pages title</code>.titleæ˜¯ä½ çš„å¯¼èˆªæ çš„åå­—.ç„¶åhexoä¼šè‡ªåŠ¨åœ¨<code>source/title</code>æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆä¸€ä¸ªåå­—ä¸º<code>index</code>çš„Markdown.æ³¨æ„è¿™é‡Œç”Ÿæˆçš„å¹¶ä¸æ˜¯ä»¥titleåå­—å‘½åçš„Markdown.ç„¶å<code>hexo clean&amp;&amp;hexo g&amp;&amp;hexo d</code>éƒ¨ç½²åˆ°æˆ‘ä»¬çš„åšå®¢å°±å¤§åŠŸå‘Šæˆäº†.æœ€åçš„æ•ˆæœå°±åƒè¿™æ ·ãƒ¾(â€¢Ï‰â€¢`)o å®Œç»“æ’’èŠ±</p>
<p><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/%E6%9C%80%E7%BB%88%E6%95%88%E6%9E%9C.png" alt=""></p>
<p>å¦‚æœè§‰å¾—è¿˜ä¸é”™çš„è¯å°±å»ç•™è¨€æ¿çŒçŒæ°´å§(â˜ï¾Ÿãƒ®ï¾Ÿ)â˜</p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a href="https://fontawesome.dashgame.com/" target="_blank" rel="noopener">Font Awesome</a><br><a href="http://masikkk.com/article/hexo-17-FontAwesome/" target="_blank" rel="noopener">Hexoåšå®¢ä½¿ç”¨FontAwesomeå­—ä½“å›¾æ ‡</a><br><a href="https://www.dazhuanlan.com/2019/09/25/5d8b46019b218/?__cf_chl_jschl_tk__=766d3742af7c818f0336dfb67556abd3ea6e50ff-1584062596-0-AY5m5ilRK1fYdcrAawA_l54dqDIhhP1dJHNcFosS71ijE--n-5QJ1VVcv7wvvaRT3M_ixcHQDBj4zmsN4gk9ChzJesRzwm9ioZY7z0XDHkDb2u2T4IGQm0u2_RQU2YonIzoS6h8bzQ2hCm0-YsdU-rI_8LlqeyFe9ll0_x_JROHHGA-5fRkkPlUo9e-a5eVxOMrAeZyQXMrt1Cou4Xd9T_gMwPYbW7evNirisX4FeOLuMDGFFflyGBcUpih1A5jRsONFHY58UFFrF2IPDfbU3GJKZtvsL7dZNqDWEBXERwLJsYfVnxbzBBH4_FYcRatYkQ" target="_blank" rel="noopener">hexoèœå•æ æ·»åŠ ç•™è¨€æ¿-Valine</a><br><a href="https://bestzuo.cn/messageboard/" target="_blank" rel="noopener">Sanarousçš„Blog</a></p>
]]></content>
      <tags>
        <tag>hexo</tag>
        <tag>valine</tag>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title>å›¾è®ºç®—æ³•å¤ä¹ </title>
    <url>/2020/03/29/%E5%9B%BE%E8%AE%BA%E7%AE%97%E6%B3%95%E5%A4%8D%E4%B9%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å›¾è®ºç®—æ³•"><a href="#å›¾è®ºç®—æ³•" class="headerlink" title="å›¾è®ºç®—æ³•"></a>å›¾è®ºç®—æ³•</h1><h4 id="èƒŒæ™¯çŸ¥è¯†"><a href="#èƒŒæ™¯çŸ¥è¯†" class="headerlink" title="èƒŒæ™¯çŸ¥è¯†"></a>èƒŒæ™¯çŸ¥è¯†</h4><ul>
<li>G = (V, E)ç”¨æ¥è¡¨ç¤ºå›¾,å…¶ä¸­</li>
<li>V æ˜¯é¡¶ç‚¹é›†åˆ(vertices)</li>
<li>E æ˜¯è¾¹çš„é›†åˆ(edges)</li>
</ul>
<p>è¿æ¥å›¾: ä»»ä½•ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´å­˜åœ¨ä¸€ä¸ªé€šè·¯<br>é‚»æ¥è¡¨: å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹ä¸ä¹‹ç›´æ¥ç›¸å…³è”çš„ä¸€æ¡è¾¹.é•¿åº¦å’Œç­‰äºè¾¹çš„æ•°ç›®</p>
<a id="more"></a>
<h2 id="å›¾çš„éå†"><a href="#å›¾çš„éå†" class="headerlink" title="å›¾çš„éå†"></a>å›¾çš„éå†</h2><h3 id="BFS-å¹¿åº¦ä¼˜å…ˆ"><a href="#BFS-å¹¿åº¦ä¼˜å…ˆ" class="headerlink" title="BFS(å¹¿åº¦ä¼˜å…ˆ)"></a>BFS(å¹¿åº¦ä¼˜å…ˆ)</h3><ul>
<li>input: G = (V, E), æœç´¢<strong>æºé¡¶ç‚¹s</strong></li>
<li>Output: ä»æºé¡¶ç‚¹åˆ°å›¾ä¸­å…¶ä»–é¡¶ç‚¹çš„æœ€çŸ­è·ç¦»; ä¸€æ£µå¹¿åº¦ä¼˜å…ˆæ ‘<br>ç®—æ³•æ€æƒ³:<br>ç”¨<strong>ç™½è‰²</strong>è¡¨ç¤ºåˆå§‹çŠ¶æ€,å³è¿˜æœªæœç´¢åˆ°,<strong>ç°è‰²</strong>è¡¨ç¤ºåˆšåˆšæœç´¢åˆ°,<strong>é»‘è‰²</strong>è¡¨ç¤ºæ‰€æœ‰é‚»æ¥é¡¶ç‚¹è¢«æœç´¢å®Œ.ç”¨ä¸€ä¸ªFIFOä¿å­˜ç°è‰²é¡¶ç‚¹</li>
</ul>
<h4 id="BFSé™„åŠ æ•°æ®ç»“æ„"><a href="#BFSé™„åŠ æ•°æ®ç»“æ„" class="headerlink" title="BFSé™„åŠ æ•°æ®ç»“æ„:"></a>BFSé™„åŠ æ•°æ®ç»“æ„:</h4><ol>
<li>color[u] è¡¨ç¤ºé¡¶ç‚¹é¢œè‰²</li>
<li>$\pi$[u] è¡¨ç¤ºé¡¶ç‚¹uçš„çˆ¶èŠ‚ç‚¹</li>
<li>d[u] è¡¨ç¤ºé¡¶ç‚¹uåˆ°æºé¡¶ç‚¹sçš„è·ç¦»</li>
<li>FIFO Q å­˜å‚¨ç°è‰²é¡¶ç‚¹</li>
</ol>
<h4 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h4><p><img src="https://s1.ax1x.com/2020/03/28/GAr7tg.png" alt="GAr7tg.png"></p>
<p>å‰é¢ä¸€å¼ æ˜¯å¯¹æ•°æ®ç»“æ„è¿›è¡Œåˆå§‹åŒ–,åä¸€å¼ è´Ÿè´£æœç´¢è¿‡ç¨‹,å½“$Q \neq \emptyset$ æ—¶,å³æ‰€æœ‰é¡¶ç‚¹éƒ½ä¸æ˜¯<strong>ç°è‰²</strong>,æœç´¢ç»“æŸ.</p>
<p>æ—¶é—´å¤æ‚åº¦ä¸º O(V + E).ç›¸æ¯”äºDFS,BFSå¯ä»¥æä¾›æºèŠ‚ç‚¹åˆ°å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»å’Œæœ€å°è¾¹æ•°ç›®(ä»¥ä¸Šéƒ½æ˜¯åœ¨æ— å‘æ— æƒå›¾çš„æƒ…å†µä¸‹è®¨è®º)</p>
<h3 id="DFS-æ·±åº¦ä¼˜å…ˆ"><a href="#DFS-æ·±åº¦ä¼˜å…ˆ" class="headerlink" title="DFS(æ·±åº¦ä¼˜å…ˆ)"></a>DFS(æ·±åº¦ä¼˜å…ˆ)</h3><ul>
<li>Input: G = (V , E),æ²¡æœ‰æºé¡¶ç‚¹.</li>
<li>Output: æ¯ä¸ªé¡¶ç‚¹æœ‰ä¸¤ä¸ªæ—¶é—´æ ‡è®°,ä¸€ä¸ª<strong>å‘ç°æ—¶é—´</strong>,ä¸€ä¸ªç»“æŸæ—¶é—´ ; æ·±åº¦ä¼˜å…ˆæ£®æ—</li>
</ul>
<h4 id="DFS-é™„åŠ æ•°æ®ç»“æ„"><a href="#DFS-é™„åŠ æ•°æ®ç»“æ„" class="headerlink" title="DFS é™„åŠ æ•°æ®ç»“æ„"></a>DFS é™„åŠ æ•°æ®ç»“æ„</h4><ul>
<li>$\pi$[u]: é¡¶ç‚¹uçš„çˆ¶èŠ‚ç‚¹</li>
<li>d[u], f[u]: å‘ç°(discovery time),å®Œæˆ(finish time)æ—¶é—´</li>
<li>color[u]: å‘ç°å‰: <strong>ç™½è‰²</strong>; å‘ç°å¤„ç†ä¸­: <strong>ç°è‰²</strong>; å¤„ç†å®Œå: <strong>é»‘è‰²</strong></li>
<li>time-step: æ—¶é—´æ­¥éª¤, åœ¨é¡¶ç‚¹å‘ç°å’Œæœç´¢å®Œæˆæ—¶å¢åŠ </li>
</ul>
<h4 id="ç®—æ³•-1"><a href="#ç®—æ³•-1" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h4><p><a href="https://imgchr.com/i/GAyzYF" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/03/28/GAyzYF.png" alt="GAyzYF.png" style="zoom:80%;" /></a></p>
<p><img src="https://s1.ax1x.com/2020/03/28/GA6eYD.png" alt="GA6eYD.png" style="zoom:80%;" /></p>
<p>ç¬¬ä¸€å¼ å›¾çš„1-4è¡Œä»æ˜¯å¯¹ç®—æ³•çš„åˆå§‹åŒ–,5-7è¡Œåˆ™æ˜¯å¾ªç¯è¿‡ç¨‹.æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O( V + E)</p>
<h4 id="è¾¹çš„åˆ†ç±»"><a href="#è¾¹çš„åˆ†ç±»" class="headerlink" title="è¾¹çš„åˆ†ç±»"></a>è¾¹çš„åˆ†ç±»</h4><ul>
<li>æ ‘è¾¹: æŠµè¾¾ç™½è‰²é¡¶ç‚¹çš„è¾¹</li>
<li>å›è¾¹: æŠµè¾¾ç°è‰²é¡¶ç‚¹.æœ‰å‘å›¾ä¸­çš„<strong>è‡ªå›è·¯</strong>ä¹Ÿç®—æ˜¯å›è¾¹</li>
<li>å‰å‘è¾¹: æŠµè¾¾é»‘è‰²é¡¶ç‚¹çš„è¾¹,ä¸”æ»¡è¶³d[u] &lt; d[v],å¯ä»¥ç†è§£ä¸ºè¿æ¥é¡¶ç‚¹uå’Œå®ƒçš„åè£”èŠ‚ç‚¹çš„ä¸€æ¡è¾¹</li>
<li>æ¨ªè·¨è¾¹: æŠµè¾¾é»‘è‰²é¡¶ç‚¹,ä¸”æ»¡è¶³d[u] &gt; d[v],å¯ä»¥æ¨ªè·¨ä¸åŒæ·±åº¦ä¼˜å…ˆæ ‘çš„é¡¶ç‚¹æˆ–è€…åŒä¸€æ·±åº¦ä¼˜å…ˆæ ‘çš„ä¸åŒé¡¶ç‚¹ä¹‹é—´</li>
</ul>
<h4 id="æ‹¬å·å®šç†"><a href="#æ‹¬å·å®šç†" class="headerlink" title="æ‹¬å·å®šç†"></a>æ‹¬å·å®šç†</h4><p>åœ¨DFSä¸­è¿˜æœ‰ä¸€ä¸ªæ‹¬å·å®šç†,è™½ç„¶æˆ‘è§‰å¾—è¿™ä¸ªä¼¼ä¹æ˜¯å¾ˆæ˜¾è€Œæ˜“è§çš„äº‹æƒ…,ä¸è¿‡è¿˜æ˜¯æä¸€å¥.<br>å¯¹ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹é›†Vä¸­çš„èŠ‚ç‚¹u,v;ä¸‹åˆ—æƒ…å†µæœ‰ä¸”åªæœ‰ä¸€ç§æˆç«‹</p>
<ol>
<li>u,väº’ä¸ä¸ºåè£”</li>
<li>væ˜¯uçš„åè£”</li>
<li>uæ˜¯vçš„åè£”</li>
</ol>
<p>æ²¡äº†â€¦.</p>
<h3 id="å¼ºè¿é€šåˆ†æ”¯"><a href="#å¼ºè¿é€šåˆ†æ”¯" class="headerlink" title="å¼ºè¿é€šåˆ†æ”¯"></a>å¼ºè¿é€šåˆ†æ”¯</h3><p>è¿™é‡Œå¼•å…¥å¼ºè¿é€šåˆ†æ”¯çš„æ¦‚å¿µ. å¼ºè¿é€šåˆ†æ”¯æŒ‡çš„æ˜¯å›¾G = (V , E)çš„ä¸€ä¸ªæå¤§é›†,è¿™ä¸ªé›†åˆä¸­æ‰€æœ‰çš„é¡¶ç‚¹éƒ½å¯ä»¥<strong>ç›¸äº’åˆ°è¾¾</strong>,æ˜¯ä¸€ç§å¾ˆå¼ºçš„æ€§è´¨,æ¯”å¦‚ä¸‹å›¾<br><img src="https://s1.ax1x.com/2020/03/28/GAqF8s.png" alt="GAqF8s.png"></p>
<h4 id="å›¾çš„è½¬ç½®"><a href="#å›¾çš„è½¬ç½®" class="headerlink" title="å›¾çš„è½¬ç½®"></a>å›¾çš„è½¬ç½®</h4><p>G<sup>T</sup> æ˜¯Gçš„ä¸€ä¸ªè½¬ç½®,å°†Gä¸­æ‰€æœ‰è¾¹<strong>è½¬å‘</strong>.</p>
<h4 id="ç¡®å®šå¼ºè¿é€šåˆ†æ”¯"><a href="#ç¡®å®šå¼ºè¿é€šåˆ†æ”¯" class="headerlink" title="ç¡®å®šå¼ºè¿é€šåˆ†æ”¯"></a>ç¡®å®šå¼ºè¿é€šåˆ†æ”¯</h4><p>é¦–å…ˆéœ€è¦çŸ¥é“G<sup>T</sup>å’ŒGæ‹¥æœ‰<strong>ç›¸åŒçš„SCC</strong>.</p>
<ol>
<li>åœ¨å›¾Gä¸Šæ‰§è¡ŒDFS,è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„<strong>å®Œæˆæ—¶é—´f[u]</strong></li>
<li>å°†å›¾Gè½¬ç½®æˆå›¾G<sup>T</sup> .ä»<strong>å…·æœ‰æœ€å¤§çš„f[u]</strong>çš„èŠ‚ç‚¹å¼€å§‹.åœ¨G<sup>T</sup> ä¸Šæ‰§è¡ŒDFS.å¦‚æœä¸èƒ½åˆ°è¾¾æ‰€æœ‰çš„é¡¶ç‚¹åˆ™æ‰§è¡Œä¸‹ä¸€ä¸ªçš„DFS</li>
<li>åœ¨æœ€ç»ˆå¾—åˆ°çš„æ£®æ—æ¯ä¸€æ£µæ ‘å°±æ˜¯ä¸€ä¸ªSCC<br>ä¸‹å›¾æ˜¯ä¸€ä¸ªä¾‹å­.<br><img src="https://s1.ax1x.com/2020/03/28/GAL8YQ.png" alt="GAL8YQ.png"></li>
</ol>
<h2 id="æœ€å°ç”Ÿæˆæ ‘-MinimumSpanning-Trees"><a href="#æœ€å°ç”Ÿæˆæ ‘-MinimumSpanning-Trees" class="headerlink" title="æœ€å°ç”Ÿæˆæ ‘(MinimumSpanning Trees)"></a>æœ€å°ç”Ÿæˆæ ‘(MinimumSpanning Trees)</h2><p>è¿é€šæ— å‘å›¾.</p>
<ul>
<li>Goal: æ¯ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´ä¿æŒè”é€š,æƒé‡ä¹‹å’Œæœ€å°</li>
</ul>
<h4 id="MSTçš„ä¸€äº›ç‰¹æ€§"><a href="#MSTçš„ä¸€äº›ç‰¹æ€§" class="headerlink" title="MSTçš„ä¸€äº›ç‰¹æ€§"></a>MSTçš„ä¸€äº›ç‰¹æ€§</h4><ul>
<li>éå”¯ä¸€</li>
<li>æ— å›è·¯(ä¸æœ€å°ä¸”è”é€šç›¸å†²çª0</li>
<li>è¾¹æ•°ç­‰äºé¡¶ç‚¹æ•°å‡ä¸€</li>
</ul>
<h4 id="MSTä¸€èˆ¬ç®—æ³•"><a href="#MSTä¸€èˆ¬ç®—æ³•" class="headerlink" title="MSTä¸€èˆ¬ç®—æ³•"></a>MSTä¸€èˆ¬ç®—æ³•</h4><p><img src="https://s1.ax1x.com/2020/03/29/GEyo34.png" alt="GEyo34.png"></p>
<p>è¿™é‡Œå…¶å®æœ‰ä¸€ä¸ªé—®é¢˜æ²¡æœ‰è¯´æ˜,å¦‚ä½•è¯æ˜å®‰å…¨çš„è¾¹çš„é›†åˆä¸€å®šæ˜¯MSTå‘¢?<br>ä¸è¿‡æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹å®‰å…¨è¾¹çš„å®šä¹‰å’Œä¸€äº›æ¦‚å¿µ.</p>
<ul>
<li>åˆ‡å‰²: å°†å›¾çš„é¡¶ç‚¹åˆ†ä¸ºä¸¤ä¸ªäº’æ–¥å­é›†Så’ŒV - S</li>
<li>ä¸€ä¸ªè¾¹çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«åœ¨åˆ‡å‰²çš„ä¸¤ä¸ªé›†åˆ Så’ŒV - Sä¸­.å°±è¯´è¯¥è¾¹æ¨ªè·¨è¯¥åˆ‡å‰².</li>
<li>åˆ‡å‰²çš„è½»è¾¹(light edge): æ¨ªè·¨åˆ‡å‰²çš„è¾¹ä¸­<strong>æƒå€¼æœ€å°</strong>çš„è¾¹.å¯ä»¥ä¸å”¯ä¸€</li>
<li>å¹²é¢„: é›†åˆAä¸­æ²¡æœ‰è¾¹å’Œè¯¥åˆ‡å‰²ç›¸äº¤,å°±è¯´ä¸€ä¸ªåˆ‡å‰²ä¸å¹²é¢„é›†åˆA.</li>
</ul>
<p><img src="https://s1.ax1x.com/2020/03/29/GE6bRg.png" alt="GE6bRg.png"><br>ä¸‹é¢ä»‹ç»Kruskalå’ŒPrimç®—æ³•</p>
<h4 id="Kruskal"><a href="#Kruskal" class="headerlink" title="Kruskal"></a>Kruskal</h4><p><img src="https://s1.ax1x.com/2020/03/29/GEgZcQ.png" alt="GEgZcQ.png"><br>ç®€å•çš„æ¥è¯´å°±æ˜¯</p>
<ol>
<li>å°†æ‰€æœ‰è¾¹æŒ‰ç…§æƒé‡ç”±ä½åˆ°é«˜æ’åº,ä»æœ€å°çš„è¾¹å‡ºå‘</li>
<li>æ£€æŸ¥åé¢çš„è¾¹æ˜¯ä¸æ˜¯å®‰å…¨è¾¹,å¦‚æœæ˜¯å°±æ·»åŠ åˆ°å½“å‰è¿™ä¸ªé›†åˆé‡Œé¢.<br>åœ¨ç¦»æ•£æ•°å­¦ä¸­ä¸Šé¢è¿™äº›æ“ä½œå¯ä»¥ç›´æ¥ç”¨å›¾ç¤ºæ³•è¡¨ç¤ºå‡ºæ¥,åœ¨ç®—æ³•ä¸­éœ€è¦ç”¨åˆ°<strong>ä¸ç›¸å…³é›†åˆçš„æ“ä½œ</strong></li>
</ol>
<ul>
<li>MAKE-SET(u):åˆ›å»ºé›†åˆ</li>
<li>FIND-SET(u): å¯¹äºåŒä¸€ä¸ªé›†åˆä¸­çš„ä¸åŒå…ƒç´ ,FIND-SETè¿”å›çš„å€¼éƒ½æ˜¯ä¸€æ ·çš„.</li>
<li>UNION(u,v): å°†ä¸¤ä¸ªé›†åˆåˆå¹¶</li>
</ul>
<p><img src="https://s1.ax1x.com/2020/03/29/GERdfK.png" alt="GERdfK.png"></p>
<p>ä¸Šå›¾ç»™å‡ºäº†Kruskalç®—æ³•æè¿°å’Œå®ä¾‹.</p>
<h4 id="Prim"><a href="#Prim" class="headerlink" title="Prim"></a>Prim</h4><p>Primç®—æ³•çš„æ ¸å¿ƒæ˜¯ä»–çš„è´ªå©ªç­–ç•¥.ä»ä»»æ„ä¸€ä¸ªç»™å®šçš„èŠ‚ç‚¹éƒ½å¯ä»¥å¼€å§‹.æ¨¡å¼æœ‰ç‚¹åƒä¸€æ£µæ ‘ç”Ÿé•¿çš„è¿‡ç¨‹.æ¯æ¬¡åŠ å…¥ä¸€æ¡è½»è¾¹.ç›´åˆ°åŒ…å«æ‰€æœ‰çš„é¡¶ç‚¹ä¸ºæ­¢.</p>
<p><img src="https://s1.ax1x.com/2020/03/29/GER41S.png" alt="GER41S.png"></p>
<p><img src="https://s1.ax1x.com/2020/03/29/GERjpT.png" alt="GERjpT.png"></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯Primç®—æ³•é‡‡ç”¨äº†æ•°æ®ç»“æ„ä¸­çš„<strong>ä¼˜å…ˆé˜Ÿåˆ—</strong>æ¥å­˜å‚¨å°šæœªåœ¨MSTä¸­çš„é¡¶ç‚¹.æ’åºçš„æ¡ä»¶æ˜¯å½“å‰æ­£åœ¨ç”ŸæˆMSTçš„é›†åˆåˆ°å…¶ä»–ç‚¹çš„è·ç¦»</p>
<h2 id="å•æºæœ€çŸ­è·¯å¾„"><a href="#å•æºæœ€çŸ­è·¯å¾„" class="headerlink" title="å•æºæœ€çŸ­è·¯å¾„"></a>å•æºæœ€çŸ­è·¯å¾„</h2><p>ä»ç»™å®š<strong>æºé¡¶ç‚¹</strong>såˆ°å›¾ä¸­å…¶ä»–é¡¶ç‚¹$v \in V$çš„æœ€çŸ­è·¯å¾„</p>
<ul>
<li>Input: G = (V, E) ; æƒ</li>
<li>å¦‚æœä»ç‚¹uä¸èƒ½åˆ°è¾¾ç‚¹v,åˆ™$\delta(u,v) = \infty$</li>
</ul>
<p>æœ€çŸ­è·¯å¾„ä¼˜åŒ–çš„åŸºç¡€: å¦‚æœä¸€æ¡è·¯å¾„æ˜¯æœ€çŸ­è·¯å¾„,é‚£ä¹ˆå®ƒçš„<strong>éƒ¨åˆ†è·¯å¾„</strong>ä¹Ÿæ˜¯æœ€çŸ­è·¯å¾„.ç”±<strong>åè¯æ³•</strong>å¯çŸ¥.<br>å½“å›¾ä¸­å­˜åœ¨å›è·¯çš„æ—¶å€™,é‚£ä¹ˆä»<strong>æºé¡¶ç‚¹s</strong>åˆ°å¦ä¸€ä¸ªé¡¶ç‚¹vå¯èƒ½å°±å­˜åœ¨éå”¯ä¸€è·¯å¾„.é‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ç§°ä»såˆ°væƒå€¼ä¹‹å’Œæœ€å°çš„è·¯å¾„æ˜¯å®ƒçš„æœ€çŸ­è·¯å¾„.è¿™ä¸ªæƒ…å†µå¸¸å¸¸å‘ç”Ÿåœ¨æœ‰æƒå€¼ä¸ºè´Ÿçš„è¾¹çš„æƒ…å†µä¸‹<br>å½“ç„¶ä¹Ÿå¯èƒ½å­˜åœ¨ <strong>ä¸å­˜åœ¨æœ€çŸ­è·¯å¾„</strong>çš„æƒ…å†µ.å¦‚ä¸‹å›¾æ‰€ç¤º.<br><img src="https://s1.ax1x.com/2020/03/29/GV1NQg.png" alt="GV1NQg.png"><br>å› ä¸ºå›è·¯æƒå€¼ä¹‹å’Œ<strong>ä¸ºè´Ÿ</strong>,æ ¹æ®å®šä¹‰æœ€çŸ­è·¯å¾„ä¹Ÿå°±ä¸å­˜åœ¨.å¦å¤–,åœ¨æœ€çŸ­è·¯å¾„ä¸­ä¹Ÿä¸åº”è¯¥å­˜åœ¨å›è·¯,æ— è®ºæ˜¯<strong>æ­£æƒå›è·¯</strong>,è¿˜æ˜¯<strong>è´Ÿæƒå›è·¯</strong>,åˆæˆ–è€…æ˜¯<strong>æƒä¸º0çš„å›è·¯</strong>.</p>
<h3 id="æœ€çŸ­è·¯å¾„æ•°æ®ç»“æ„"><a href="#æœ€çŸ­è·¯å¾„æ•°æ®ç»“æ„" class="headerlink" title="æœ€çŸ­è·¯å¾„æ•°æ®ç»“æ„"></a>æœ€çŸ­è·¯å¾„æ•°æ®ç»“æ„</h3><ul>
<li>d[v]: ç­‰äº$\delta(s.v)$,åˆå§‹æƒ…å†µd[v]æ˜¯æ— ç©·å¤§,åœ¨ç®—æ³•çš„è¿‡ç¨‹ä¸­é€æ­¥å‡å°‘.ç±»ä¼¼äºBFS</li>
<li>$\pi$[v]: ä»æºé¡¶ç‚¹såˆ°é¡¶ç‚¹væœ€çŸ­è·¯å¾„ä¸Šçš„çˆ¶èŠ‚ç‚¹,å¦‚æœæ²¡æœ‰çˆ¶èŠ‚ç‚¹å°±ç½®ä¸º<strong>NIL</strong>.</li>
<li>æœ€çŸ­è·¯å¾„å’Œæœ€çŸ­è·¯å¾„æ ‘ä¸å”¯ä¸€<h3 id="ç®—æ³•-2"><a href="#ç®—æ³•-2" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h3>é¦–å…ˆå¯¹æ‰€æœ‰é¡¶ç‚¹çš„æ•°æ®ç»“æ„è¿›è¡Œåˆå§‹åŒ–.d[v]ç½®æ— ç©·,$\pi$ç½®NIL. æºé¡¶ç‚¹sçš„d[s]ç½®0.<h4 id="ç¼©çŸ­æ³•-RELAX"><a href="#ç¼©çŸ­æ³•-RELAX" class="headerlink" title="ç¼©çŸ­æ³•(RELAX)"></a>ç¼©çŸ­æ³•(RELAX)</h4>å¯¹è¾¹(u.v)çš„ç¼©çŸ­å°±æ˜¯: æ£€æŸ¥æºé¡¶ç‚¹<strong>ç›´æ¥åˆ°vçš„è·ç¦»</strong>æ˜¯å¦ä¼šæ¯”<strong>é€šè¿‡é¡¶ç‚¹uåˆ°vçš„è·ç¦»</strong>æ›´é•¿.å¦‚æœæ»¡è¶³çš„è¯å°±æ›´æ–°ä¸€ä¸‹d[u]å’Œd[v]çš„å€¼.æ“ä½œä¹‹ååº”è¯¥æ»¡è¶³ $ d[v] \leq d[u] + w(u,v)$,ä¸¤è¾¹ä¹‹å’Œå¤§äºç¬¬ä¸‰è¾¹2333<br><img src="https://s1.ax1x.com/2020/03/29/GV8mbd.png" alt="GV8mbd.png"><h4 id="Bellman-Fordç®—æ³•"><a href="#Bellman-Fordç®—æ³•" class="headerlink" title="Bellman-Fordç®—æ³•"></a>Bellman-Fordç®—æ³•</h4></li>
<li>å…è®¸è´Ÿæƒè¾¹.</li>
<li>è¿”å›å€¼: å¦‚æœä»æºé¡¶ç‚¹sæ²¡æœ‰å¯æŠµè¾¾çš„è´Ÿæƒå€¼å›è·¯,è¿”å›çœŸ,å…¶ä½™è¿”å›å‡.</li>
<li>æ€æƒ³: éå†æ‰€æœ‰çš„è¾¹| V - 1 | æ¬¡,æ¯æ¬¡å¯¹æ¯æ¡è¾¹æ‰§è¡Œä¸€æ¬¡ç¼©çŸ­è¿ç®—.</li>
</ul>
<p><img src="https://s1.ax1x.com/2020/03/29/GVwdIg.png" alt="GVwdIg.png"><br>ç®—æ³•å‰åŠéƒ¨åˆ†åœ¨ä¸æ–­çš„éå†.ååŠéƒ¨åˆ†åˆ™åœ¨æ£€æµ‹æ˜¯å¦å­˜åœ¨å›è·¯.å¦‚æœå­˜åœ¨å›è·¯åˆ™è¿”å›FALSE<br>æ£€æŸ¥å›è·¯çš„ç®—æ³•:<br><img src="https://s1.ax1x.com/2020/03/29/GVICCR.png" alt="GVICCR.png"><br>å¦‚æœå›¾ä¸­å‡ºç°äº†è´Ÿæƒå›è·¯.é‚£ä¹ˆå°±ä¼šæœ‰ä¸Šå›¾çš„æƒ…å†µ.æ•´ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(VE)</p>
<h4 id="DAG"><a href="#DAG" class="headerlink" title="DAG"></a>DAG</h4><p>æ€æƒ³: å¯¹å›¾è¿›è¡Œ<strong>æ‹“æ‰‘æ’åº</strong>,ä¾æ®æ‹“æ‰‘æ’åºå¯¹è¾¹è¿›è¡Œç¼©çŸ­æ“ä½œ..å› ä¸ºDAGä¸­æ²¡æœ‰<strong>è´Ÿæƒè¾¹</strong>,æ‰€ä»¥æœ€çŸ­è·¯å¾„ä¸€å®šå­˜åœ¨</p>
<h4 id="Dijkstra"><a href="#Dijkstra" class="headerlink" title="Dijkstra"></a>Dijkstra</h4><p>ä¸å­˜åœ¨è´Ÿæƒå€¼è¾¹ç•Œ.åŒ…å«ä¸¤ç±»é¡¶ç‚¹çš„é›†åˆ: </p>
<ol>
<li>å·²çŸ¥æœ€çŸ­è·¯å¾„çš„ç‚¹é›†åˆS</li>
<li>æœªçŸ¥æœ€çŸ­è·¯å¾„çš„ç‚¹é›†åˆQ, Q = V -S.Qæ˜¯ä¸€ä¸ªæå°ä¼˜å…ˆé˜Ÿåˆ—.</li>
</ol>
<p>é‡å¤åœ°ä»Qä¸­é€‰å–å…·æœ‰æœ€çŸ­ä¼°è®¡è·ç¦»çš„é¡¶ç‚¹è¿›è¡Œå¤„ç†.å¯¹ä»Qä¸­æå‡ºå‡ºæ¥çš„é¡¶ç‚¹u,æ¯ä¸€ä¸ªé‚»æ¥é¡¶åº•véƒ½æ‰§è¡ŒRELAXæ“ä½œ.ç„¶åæŠŠæå‡ºå‡ºæ¥çš„é¡¶ç‚¹uåŠ å…¥åˆ°å·²çŸ¥æœ€çŸ­è·¯å¾„çš„é›†åˆSä¸­å».<br><img src="https://s1.ax1x.com/2020/03/29/GZPsOS.png" alt="GZPsOS.png"></p>
<h2 id="å…¨æˆå¯¹æœ€çŸ­è·¯å¾„"><a href="#å…¨æˆå¯¹æœ€çŸ­è·¯å¾„" class="headerlink" title="å…¨æˆå¯¹æœ€çŸ­è·¯å¾„"></a>å…¨æˆå¯¹æœ€çŸ­è·¯å¾„</h2><ul>
<li>Input: G = (V, E) , æƒ</li>
<li>Output: ä»»ä½•ç‚¹å¯¹ä¹‹é—´çš„æœ€çŸ­è·ç¦» ; ä¸€ä¸ªn * nçš„çŸ©é˜µ,å…ƒç´ æ˜¯å¯¹åº”ç‚¹å¯¹ä¹‹é—´çš„æœ€çŸ­è·ç¦»,$\delta(u,v)$</li>
</ul>
<p>å¦‚æœå¯¹æ¯ä¸€ä¸ªé¡¶ç‚¹ä½¿ç”¨å•æºæœ€çŸ­è·¯å¾„,é‚£ä¹ˆæ—¶é—´å¼€é”€ä¼šå¾ˆå¤§.æ ¹æ®åœ¨å•æºæœ€çŸ­è·¯å¾„ä¸­æˆ‘ä»¬çš„è®¨è®º,ä¸€ä¸ªæœ€çŸ­è·¯å¾„çš„ä¸€éƒ¨åˆ†ä¹Ÿå¿…ç„¶æ˜¯æœ€çŸ­è·¯å¾„.å› æ­¤å¯ä»¥è€ƒè™‘ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³.<br>å‡å®š<strong>pæ˜¯ä»iåˆ°jè‡³å¤šå«æœ‰mæ¡è¾¹çš„æœ€çŸ­è·¯å¾„</strong>,å¯¹äºè¿™æ¡è·¯å¾„ä¸Šçš„ä»»æ„ä¸€ç‚¹,å¦‚æœi = j,å³å‡ºå‘ç‚¹å’Œç»ˆç‚¹æ˜¯åŒä¸€ç‚¹,é‚£ä¹ˆw(p) = 0,æƒä¹‹å’Œæ˜¾ç„¶ä¸º0.å¦‚æœ i $\leq$ j,è®¾åœ¨jå‰é¢ä¸€ç‚¹ä¸ºp,æ˜“å¾—ä»iåˆ°pçš„æœ€çŸ­è·¯å¾„æœ€å¤šå«æœ‰m-1æ¡è¾¹,æˆ‘ä»¬å¯ä»¥å¾—åˆ°$\delta(i,j) = \delta(i,p) + w_{kj}$</p>
<p>è®¾$l_{ij}^{(m)}$ä¸ºä»iåˆ°jè‡³å¤šå«æœ‰mæ¡è¾¹çš„æœ€çŸ­è·¯å¾„çš„æƒ.</p>
<p>m = 0æ—¶,</p>
<script type="math/tex; mode=display">
l_{ij}^{(0)} = \left\{
\begin{aligned}
0 & &if m = 0 \\
\infty if i \neq j
\end{aligned}
\right.</script><p>i = j è¯´æ˜è¿™ä¸¤ä¸ªç‚¹å°±æ˜¯åŒä¸€ä¸ªç‚¹,æ‰€ä»¥è·ç¦»æ˜¯0, å¦‚æœi $\neq$jçš„è¯è¯´æ˜è¿™ä¸¤ç‚¹ä¸æ˜¯åŒä¸€ç‚¹,è€Œä¸”ä¹‹é—´çš„è·ç¦»æ˜¯0,æ‰€ä»¥å¿…ç„¶ä¸å­˜åœ¨,è¿”å›æ­£æ— ç©·.<br>m &gt; 1 æ—¶ </p>
<script type="math/tex; mode=display">
l_{ij}^{(m)} = min_{1 \leq k \leq }{l_{ij}^{(m-1)} + w_{kj}}</script><p>å½“mä¸ç­‰äº0æ—¶,è¯´æ˜è¿™ä¸¤ç‚¹ä¹‹é—´ä¸€å®šæœ‰è¾¹ç›¸è¿.å°±åƒä¹‹å‰ä¸€æ ·,å¯¹æ¯ä¸€ä¸ªä¹‹å‰çš„èŠ‚ç‚¹æ‰§è¡Œ<strong>Relax</strong>æ“ä½œ,ç„¶åé€‰å…¶ä¸­æœ€å°çš„.<br>m = 1 æ—¶, </p>
<script type="math/tex; mode=display">
l_{ij}^{(1)} = w_{ij}</script><p>æ˜¾è€Œæ˜“è§,åªæœ‰ä¸€æ¡è¾¹æœ€å°å€¼å°±æ˜¯è¿™æ¡è¾¹çš„æƒé‡.</p>
<h3 id="Floyd-Warshallç®—æ³•"><a href="#Floyd-Warshallç®—æ³•" class="headerlink" title="Floyd-Warshallç®—æ³•"></a>Floyd-Warshallç®—æ³•</h3><ul>
<li>æœ‰å‘æœ‰æƒå›¾</li>
<li>å¯ä»¥å­˜åœ¨<strong>è´Ÿæƒè¾¹</strong>,æ— <strong>è´Ÿæƒå›è·¯</strong></li>
</ul>
<h4 id="æœ€çŸ­è·¯å¾„éœ€è¦ç”¨åˆ°çš„æ•°æ®ç»“æ„"><a href="#æœ€çŸ­è·¯å¾„éœ€è¦ç”¨åˆ°çš„æ•°æ®ç»“æ„" class="headerlink" title="æœ€çŸ­è·¯å¾„éœ€è¦ç”¨åˆ°çš„æ•°æ®ç»“æ„"></a>æœ€çŸ­è·¯å¾„éœ€è¦ç”¨åˆ°çš„æ•°æ®ç»“æ„</h4><ul>
<li>è·¯å¾„p = <v<sub>1&lt;/sub&gt;,v<sub>2</sub>,v<sub>3</sub>,v<sub>4</sub>â€¦,v<sub>l</sub>&gt;,pçš„<strong>ä¸­é—´é¡¶ç‚¹çš„é›†åˆ</strong>æ˜¯æŒ‡{v<sub>2</sub>,v<sub>3</sub>,v<sub>4</sub>â€¦,v<sub>l-1</sub>}ä¸­çš„ç‚¹</li>
<li>$d_{ij}^{(k)}$ : ä»iåˆ°jæœ€å°çš„æƒå€¼,å…¶ä¸­é—´èŠ‚ç‚¹æ¥è‡ªé›†åˆ{1,2,â€¦k}</li>
</ul>
<p>ç°åœ¨æˆ‘ä»¬å‡è®¾æœ‰ä¸€é¡¶ç‚¹k</p>
<ol>
<li>kæ˜¯è·¯å¾„pçš„ä¸­é—´é¡¶ç‚¹.<br>æ‰€ä»¥</li>
</ol>
]]></content>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>èšç±»</title>
    <url>/2020/03/24/%E8%81%9A%E7%B1%BB/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="èšç±»"><a href="#èšç±»" class="headerlink" title="èšç±»"></a>èšç±»</h1><h2 id="èšç±»è¯•å›¾å®Œæˆçš„ä»»åŠ¡"><a href="#èšç±»è¯•å›¾å®Œæˆçš„ä»»åŠ¡" class="headerlink" title="èšç±»è¯•å›¾å®Œæˆçš„ä»»åŠ¡"></a>èšç±»è¯•å›¾å®Œæˆçš„ä»»åŠ¡</h2><p>é¢å¯¹ä¸€ä¸ªæ ·æœ¬é›†<strong>D</strong> = {x<sub>1</sub>,x<sub>2</sub>, x<sub>3</sub>, â€¦ , x<sub>m</sub>},èšç±»è¯•å›¾å°†Dä¸­çš„æ ·æœ¬åˆ’åˆ†æˆè‹¥å¹²ä¸ª<strong>ä¸ç›¸äº¤çš„å­é›†</strong>,æ¯ä¸€ä¸ªå­é›†æˆä¸ºä¹‹ä¸€ä¸ª<strong>ç°‡</strong>(cluster).é€šè¿‡è¿™æ ·çš„åˆ’åˆ†,ä¹Ÿè®¸å¯ä»¥æ‰¾å‡ºæ¯ä¸ªç°‡å¯¹åº”çš„ä¸€äº›æ½œåœ¨è§„å¾‹,ä¾‹å¦‚ç¬¬ä¸€ä¸ªç°‡é‡Œé¢çš„æ ·æœ¬éƒ½æ˜¯â€æµ…è‰²ç“œâ€,ç¬¬äºŒä¸ªç°‡é‡Œé¢çš„æ ·æœ¬éƒ½æ˜¯â€æ·±è‰²ç“œâ€,è¯¸å¦‚æ­¤ç±».ä½†æ˜¯è¿™äº›æ¦‚å¿µå¯¹äºèšç±»ç®—æ³•è€Œè¨€æ˜¯<strong>äº‹å…ˆæœªçŸ¥çš„</strong>.</p>
<a id="more"></a>
<h2 id="èšç±»ç”¨åˆ°çš„æ¦‚å¿µ"><a href="#èšç±»ç”¨åˆ°çš„æ¦‚å¿µ" class="headerlink" title="èšç±»ç”¨åˆ°çš„æ¦‚å¿µ"></a>èšç±»ç”¨åˆ°çš„æ¦‚å¿µ</h2><p>å‡å®šæ ·æœ¬é›†<strong>D</strong>ä¸­åŒ…å«mä¸ªæ— æ ‡è®°æ ·æœ¬.æ¯ä¸€ä¸ªæ ·æœ¬<strong>x<sub>i</sub></strong> = {x<sub>i1</sub>,x<sub>i2</sub>,x<sub>i3</sub>, â€¦ x<sub>in</sub>}éƒ½æ˜¯ä¸€ä¸ª<strong>nç»´ç‰¹å¾å‘é‡</strong>,</p>
<p>ç®—æ³•åˆ’åˆ†æˆçš„ç°‡ç”¨<strong>C<sub>l</sub></strong>è¡¨ç¤º.å‡å®šåˆ’åˆ†æˆäº†kä¸ªç°‡,é‚£ä¹ˆè¿™kä¸ªç°‡ä¸¤ä¸¤ä¹‹é—´çš„äº¤é›†ä¸ºç©ºé›†,kä¸ªç°‡çš„å¹¶é›†ä¸ºæ ·æœ¬é›†<strong>D</strong>.</p>
<p>ç”¨&lambda;<sub>j</sub> &isin; { 1, 2, 3, â€¦ k } è¡¨ç¤ºDä¸­çš„æ ·æœ¬x<sub>j</sub>çš„ç°‡æ ‡è®°.å³x<sub>j</sub> &isin; $C_{\lambda_j}$  </p>
<h2 id="æ€§èƒ½åº¦é‡"><a href="#æ€§èƒ½åº¦é‡" class="headerlink" title="æ€§èƒ½åº¦é‡"></a>æ€§èƒ½åº¦é‡</h2><p>æˆ‘ä»¬å¸Œæœ›èšç±»ç»“æœçš„<strong>ç°‡å†…ç›¸ä¼¼åº¦é«˜</strong>,<strong>ç°‡é—´ç›¸ä¼¼åº¦ä½</strong>.è¿™ä¸€ç‚¹å…¶å®å¾ˆå¥½ç†è§£,å¦‚æœç°‡å†…çš„ç›¸ä¼¼åº¦å¤ªä½åˆ™å¯èƒ½å°†æ— å…³æ ·æœ¬ä¹Ÿåˆ’åˆ†è¿›æ¥,å¦‚æœç°‡é—´ç›¸ä¼¼åº¦é«˜äº†åˆ™æœ‰å¯èƒ½å°†åŸæœ¬æ˜¯ä¸€ä¸ªç°‡çš„æ ·æœ¬å¼ºè¡Œåˆ’åˆ†æˆäº†ä¸¤ä¸ªç°‡.</p>
<p>è¯„ä»·ä¸€ä¸ªèšç±»çš„æ€§èƒ½åº¦é‡å¤§æ¦‚æœ‰ä¸¤ç±».</p>
<ol>
<li>å°†ç»“æœä¸æŸä¸ªå‚è€ƒæ¨¡å‹è¿›è¡Œæ¯”è¾ƒ,ç§°ä¸º<strong>å¤–éƒ¨æŒ‡æ ‡</strong></li>
<li>ç›´æ¥è€ƒå¯Ÿèšç±»ç»“æœè€Œä¸åˆ©ç”¨ä»»ä½•å‚è€ƒæ¨¡å‹,ç§°ä¸º<strong>å†…éƒ¨æŒ‡æ ‡</strong></li>
</ol>
<p>ä¸‹é¢æˆ‘ä»¬æ¥è€ƒè™‘ç”¨å¤–éƒ¨æŒ‡æ ‡è¿›è¡Œæ€§èƒ½åº¦é‡çš„æƒ…å†µ</p>
<h3 id="å¤–éƒ¨æŒ‡æ ‡"><a href="#å¤–éƒ¨æŒ‡æ ‡" class="headerlink" title="å¤–éƒ¨æŒ‡æ ‡"></a>å¤–éƒ¨æŒ‡æ ‡</h3><p>å‡å®šå¯¹äºä¸Šè¿°ç»™å®šçš„æ•°æ®é›†<strong>D</strong>,é€šè¿‡<strong>èšç±»</strong>åˆ’åˆ†å‡ºçš„ç°‡ä¸€å…±æœ‰kä¸ª,<strong>å‚è€ƒæ¨¡å‹</strong>ç»™å‡ºçš„ç°‡ä¸€å…±æœ‰sä¸ª.å°†Dä¸­çš„æ ·æœ¬ä¸¤ä¸¤é…å¯¹è€ƒè™‘,ä¸”æœ‰å¦‚ä¸‹å®šä¹‰:</p>
<p>a = |SS|,|SS| = {(x<sub>i</sub>,x<sub>j</sub>) | &lambda;<sub>i</sub> = &lambda;<sub>j</sub>, &lambda;<sup>â€˜</sup> <sub>i</sub>= &lambda;<sup>â€˜</sup> <sub>j</sub>}<br>b = |SD|,|SD| = {(x<sub>i</sub>,x<sub>j</sub>) | &lambda;<sub>i</sub> = &lambda;<sub>j</sub>, &lambda;<sup>â€˜</sup> <sub>i</sub> &ne; &lambda;<sup>â€˜</sup> <sub>j</sub>}<br>c = |DS|,|DS| = {(x<sub>i</sub>,x<sub>j</sub>) | &lambda;<sub>i</sub> &ne; &lambda;<sub>j</sub>, &lambda;<sup>â€˜</sup> <sub>i</sub>= &lambda;<sup>â€˜</sup> <sub>j</sub>}<br>d = |DD|,|DD| = {(x<sub>i</sub>,x<sub>j</sub>) | &lambda;<sub>i</sub> &ne; &lambda;<sub>j</sub>, &lambda;<sup>â€˜</sup> <sub>i</sub>&ne; &lambda;<sup>â€˜</sup> <sub>j</sub>}</p>
<p>åŸºäºä¸Šè¿°å®šä¹‰æˆ‘ä»¬å¯¼å‡ºå¦‚ä¸‹çš„ä¸€äº›æŒ‡æ ‡(è™½ç„¶æˆ‘å¹¶æ²¡æœ‰çœ‹æ‡‚å®ƒåˆ°åº•æ˜¯æ€ä¹ˆæ¨å‡ºæ¥çš„)</p>
<ul>
<li>Jaccardç³»æ•°: JC = $ \frac{a}{a+b+c}$</li>
<li>FMæŒ‡æ•°: FMI = $ \sqrt{\frac{a}{a+b}  \times \frac{a}{a+c} }$</li>
<li>RandæŒ‡æ•°: RI =  $ \frac {2(a+d)}{m(m-1)}$</li>
</ul>
<p>ä¸Šè¿°æ€§èƒ½åº¦é‡çš„ç»“æœåœ¨åŒºé—´[0,1]å†…,è¶Šæ¥è¿‘1è¶Šå¥½,ä¸‹é¢æˆ‘ä»¬è€ƒè™‘èšç±»ç»“æœçš„ç°‡åˆ’åˆ†$C$ = {C<sub>1</sub>, C<sub>2</sub>,C<sub>3</sub>â€¦C<sub>k</sub>},å®šä¹‰å¦‚ä¸‹æ¦‚å¿µ:</p>
<ul>
<li>avg(C) = $ \frac{2}{|C|(|C| - 1)} \sum _{1 \leq i \le j \leq |C|} dist(x_i,x_j)$</li>
<li>diam (C) = $max_{1 \leq i \le j \leq |C|} dist(x_i,x_j)$</li>
<li>d$<em>{min}$($C_i,C_j$) = $min</em>{x_i \in C_i, x_j \in C_j} dist(x_i,x_j)$</li>
<li>$d_{cen}{(C_i,C_j)} = dist( \mu_i, \mu_j)$</li>
</ul>
<p>å…¶ä¸­distç”¨äºè®¡ç®—ä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„è·ç¦», $ \mu$ ä»£è¡¨ç°‡$C$çš„ä¸­å¿ƒç‚¹$ \mu = \frac{1}{|C|} \sum<em>{1 \leq i \leq |C|} x_i$.æ˜¾ç„¶å¯ä»¥çŸ¥é“avg(C)å¯¹åº”çš„å«ä¹‰æ˜¯ç°‡Cå†…æ ·æœ¬çš„å¹³å‡è·ç¦»(å½“ç„¶æˆ‘ä»¬å¸Œæœ›avgçš„å€¼è¶Šå°è¶Šå¥½).$d</em>{min}(C<em>i,C_j)$ å¯¹åº”äºç°‡$C_i$å’Œç°‡$C_j$<strong>æœ€è¿‘æ ·æœ¬</strong>é—´çš„è·ç¦»,$d</em>{cen}(C_i,C_j)$å¯¹åº”äºç°‡$C_i$å’Œç°‡$C_j$ <strong>ä¸­å¿ƒç‚¹ä¹‹é—´</strong>çš„è·ç¦».<br>åŒæ ·çš„,æ ¹æ®ä»¥ä¸Šå®šä¹‰æˆ‘ä»¬å¯ä»¥å¯¼å‡ºä¸‹é¢å¸¸ç”¨çš„æ€§èƒ½åº¦é‡çš„å†…éƒ¨æŒ‡æ ‡</p>
<ul>
<li>DBæŒ‡æ•°: DBI = $ \frac{1}{k} \sum<em>{i = 1}^{k} max</em>{j \neq i}( \frac{avg(C<em>i) + avg(C_j)}{d</em>{cen}(\mu_i\mu_j)} $</li>
<li>DunnæŒ‡æ•°: DI = $min<em>{1 \leq i \leq k}{ min</em>{i \neq j}(\frac {d<em>{min}(C_i,C_j)}{max</em>{1 \leq l \leq k}diam(C_l)})}$</li>
</ul>
<p>æ˜¾ç„¶DBIçš„å€¼è¶Šå°è¶Šå¥½(å¯¹åº”ç°‡å†…éƒ¨æ ·æœ¬è·ç¦»è¶Šå°,ç°‡ä¹‹é—´çš„ä¸­å¿ƒè·ç¦»è¶Šå¤§),DIçš„å€¼è¶Šå¤§è¶Šå¥½,è¿™é‡Œå°±ä¸å†èµ˜è¿°</p>
<h2 id="åŸå‹èšç±»"><a href="#åŸå‹èšç±»" class="headerlink" title="åŸå‹èšç±»"></a>åŸå‹èšç±»</h2><h3 id="kå‡å€¼ç®—æ³•"><a href="#kå‡å€¼ç®—æ³•" class="headerlink" title="kå‡å€¼ç®—æ³•"></a>kå‡å€¼ç®—æ³•</h3><p>ç»™å®šæ ·æœ¬é›†D=$ \left{ x_1, x_2, x_3â€¦x_m \right}$,kå‡å€¼ç®—æ³•é’ˆå¯¹èšç±»ç®—æ³•æ‰€å¾—åˆ°çš„ç°‡åˆ’åˆ†C = $ \left{C_1,C_2,C_3..C_k \right}$æœ€å°åŒ–å¹³æ–¹è¯¯å·®</p>
<script type="math/tex; mode=display">
E = \sum_{i = 1}^{k} \sum_{x \in C_i} ||x - \mu_i||^2_2</script><p>å…¶ä¸­$\mu_i$æ˜¯ç°‡$C_i$çš„å‡å€¼å‘é‡,ä»ç›´è§‚ä¸Šæ¥çœ‹Eåˆ»ç”»çš„æ˜¯ç°‡å†…æ ·æœ¬å¯¹ç°‡$C_i$çš„å›´ç»•ç´§å¯†ç¨‹åº¦.Eå€¼è¶Šå°è¯´æ˜ç°‡å†…æ ·æœ¬ç›¸ä¼¼åº¦è¶Šé«˜.æœ€å°åŒ–è¿™ä¸ªå¼å­æˆ‘ä»¬ç°åœ¨é‡‡ç”¨çš„æ˜¯è´ªå¿ƒç­–ç•¥,é€šè¿‡è¿­ä»£ä¼˜åŒ–æ¥è¿‘ä¼¼æ±‚è§£.</p>
<p><img src="https://s1.ax1x.com/2020/03/25/8XkUEj.png" alt="8XkUEj.png"></p>
<p>ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯,åœ¨æœ€å¼€å§‹åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­æ˜¯<strong>éšæœºé€‰å–</strong>æ ·æœ¬ä½œä¸ºåˆå§‹çš„å‡å€¼å‘é‡.</p>
<ul>
<li><p>å¯¹äºæ¯ä¸€ä¸ªæ ·æœ¬$x_j$,å…¶ä¸­$j = 1, 2, 3, â€¦m$</p>
<ul>
<li>è®¡ç®—æ ·æœ¬ä¸å„ä¸ªç°‡ä¹‹é—´çš„è·ç¦»</li>
<li>æ ¹æ®è·ç¦»æœ€è¿‘çš„å‡å€¼ç¡®å®šæ ·æœ¬$x_j$çš„ç°‡æ ‡è®°</li>
<li>å°†æ ·æœ¬$x<em>j$åˆ’å…¥å¯¹åº”çš„ç°‡:$C</em>{\lambda<em>j} = C</em>{\lambda_j} \cup \left{x_j \right}$</li>
</ul>
</li>
<li><p>å¯¹äºæ¯ä¸€ä¸ªç°‡$\mu_i$,å…¶ä¸­$i = 1,2,3, â€¦ k$</p>
<ul>
<li>è®¡ç®—æ¯ä¸€ä¸ªç°‡å†…<strong>æ–°çš„å‡å€¼å‘é‡$\muâ€™$</strong></li>
<li>å¦‚æœæ–°çš„å‡å€¼å‘é‡$\muâ€™$å’ŒåŸæœ‰çš„å‡å€¼å‘é‡$\mu$ä¸ç›¸ç­‰,åˆ™å°†å‡å€¼å‘é‡æ›´æ–°ä¸ºæ–°çš„å‡å€¼å‘é‡$\muâ€™$.å¦åˆ™å‡å€¼å‘é‡ä¸æ›´æ–°</li>
</ul>
<p>é‡å¤ä¸Šè¿°æ“ä½œ,ç›´åˆ°å½“å‰å‡å€¼å‘é‡éƒ½æœªæ›´æ–°æˆ–è€…åˆ°è¾¾äº†æœ€å¤§è¿è¡Œè½®æ¬¡</p>
</li>
</ul>
<h3 id="å­¦ä¹ å‘é‡åŒ–-Learning-Vector-Quantization"><a href="#å­¦ä¹ å‘é‡åŒ–-Learning-Vector-Quantization" class="headerlink" title="å­¦ä¹ å‘é‡åŒ–(Learning Vector Quantization)"></a>å­¦ä¹ å‘é‡åŒ–(Learning Vector Quantization)</h3><ul>
<li>LVQå‡è®¾æ•°æ®æ ·æœ¬å¸¦æœ‰æ ‡è®°,å­¦ä¹ è¿‡ç¨‹åˆ©ç”¨è¿™äº›ç›‘ç£ä¿¡æ¯è¾…åŠ©èšç±»</li>
</ul>
<p>ç»™å®šæ ·æœ¬é›†$D = \left{(x<em>1,y_1),(x_2,y_2),â€¦,(x_m,y_m)\right}$.æ¯ä¸ªæ ·æœ¬$x_j$æ˜¯ç”±nä¸ªå±æ€§æè¿°çš„ç‰¹å¾å‘é‡$(x</em>{j1} ;x<em>{j2};x</em>{j3}â€¦x_{jn})$.LVQçš„ç›®æ ‡æ˜¯<strong>$å­¦ä¹ åˆ°ä¸€ç»„nç»´åŸå‹å‘é‡\left{p_1,p_2,p_3â€¦p_n\right}$</strong> ,æ¯ä¸€ä¸ªåŸå‹å‘é‡ä»£è¡¨ä¸€ä¸ªèšç±»ç°‡.</p>
<h4 id="å­¦ä¹ å‘é‡åŒ–ç®—æ³•"><a href="#å­¦ä¹ å‘é‡åŒ–ç®—æ³•" class="headerlink" title="å­¦ä¹ å‘é‡åŒ–ç®—æ³•"></a>å­¦ä¹ å‘é‡åŒ–ç®—æ³•</h4><ul>
<li>åˆå§‹åŒ–ä¸€ç»„åŸå‹å‘é‡(è¿™ä¸ªè¥¿ç“œä¹¦ä¸Šå¹¶æ²¡æœ‰å†™çš„å¾ˆæ¸…æ¥šå…·ä½“çš„åˆå§‹åŒ–è¿‡ç¨‹,åªæœ‰å¾ˆç®€å•çš„ä¸€å¥è¯)</li>
<li>ä»Dä¸­éšæœºé€‰å–ä¸€ä¸ªæœ‰æ ‡è®°çš„æ ·æœ¬$(x_j,y_j)$,è®¡ç®—æ ·æœ¬ä¸æ¯ä¸€ä¸ªèšç±»ç°‡$p_j$çš„è·ç¦».</li>
<li>æ‰¾å‡ºä¸æ ·æœ¬æœ€è¿‘çš„èšç±»ç°‡$ p<em>{iâ€™} $ ,å¦‚æœæ ·æœ¬çš„æ ‡è®°å’Œèšç±»ç°‡ç›¸ç­‰,åˆ™ä»¤åŸå‹å‘é‡å‘$x_j$çš„æ–¹å‘é æ‹¢,$pâ€™ = p</em>{iâ€™} + \eta (x<em>j - p</em>{iâ€™})$</li>
<li>å¦‚æœæ ‡è®°å’Œèšç±»ç°‡ä¸ç›¸ç­‰,åˆ™ä»¤åŸå‹å‘é‡è¿œç¦»$x<em>j$,$pâ€™ = p</em>{iâ€™} + \eta (x<em>j - p</em>{iâ€™})$</li>
<li>å°†åŸå‹å‘é‡$p_{iâ€™}$æ›´æ–°ä¸º$pâ€™$,ä¸æ–­è¿­ä»£,ç›´åˆ°è¾¾åˆ°åœæ­¢æ¡ä»¶</li>
</ul>
<p>æ–°çš„åŸå‹å‘é‡$pâ€™$ä¸åŸæ¥æ ·æœ¬$x<em>j$çš„è·ç¦»ä¸º$||pâ€™ - x_j|| = (1- \eta ) || p</em>{iâ€™} - x_j||_2$ .ä»¤å­¦ä¹ ç‡ $\eta \in (0,1)$ .åœ¨æ›´æ–°ä¸º$pâ€™$ä¹‹åå°†æ›´æ¥è¿‘$x_j$.<br>å½“æ ‡è®°ä¸åŒçš„æ—¶å€™ä¹Ÿæ˜¯ç±»ä¼¼.</p>
<h2 id="å¯†åº¦èšç±»"><a href="#å¯†åº¦èšç±»" class="headerlink" title="å¯†åº¦èšç±»"></a>å¯†åº¦èšç±»</h2><p>å‡å®šèšç±»ç»“æ„èƒ½å¤Ÿé€šè¿‡æ ·æœ¬åˆ†å¸ƒçš„ç´§å¯†ç¨‹åº¦å†³å®š.åŸºäº<strong>å¯è¿æ¥æ ·æœ¬</strong>ä¸æ–­æ‰©å±•èšç±»ç°‡è·å¾—æœ€ç»ˆç»“æœ.</p>
<ul>
<li>$\epsilon$-é‚»åŸŸ,å¯¹$x<em>j \in D$,å…¶$\epsilon$-é‚»åŸŸåŒ…å«æ ·æœ¬é›†Dä¸­ä¸$x_j$è·ç¦»ä¸å¤§äº$\epsilon$çš„æ ·æœ¬,å³ $N</em>{\epsilon}(x_j) = \left{x_i \in D |dist(x_i,x_j) \leq \epsilon \right}$</li>
<li>æ ¸å¿ƒå¯¹è±¡,è‹¥$x_i$çš„$\epsilon$-é‚»åŸŸè‡³å°‘åŒ…å« MinPtsä¸ªæ ·æœ¬(å…·ä½“æ•°å€¼ç”±æˆ‘ä»¬æ‰‹åŠ¨è®¾ç½®),åˆ™$x_i$æ˜¯ä¸€ä¸ªæ ¸å¿ƒå¯¹è±¡</li>
<li>å¯†åº¦ç›´è¾¾: è‹¥$x_j$ä½äº$x_i$çš„$\epsilon$-é‚»åŸŸä¸­,ä¸”$x_i$æ˜¯æ ¸å¿ƒå¯¹è±¡,åˆ™ç§°$x_j$ç”±$x_i$å¯†åº¦ç›´è¾¾</li>
<li>å¯†åº¦å¯è¾¾: å¯¹$x<em>j$å’Œ$x_i$,å¦‚æœå­˜åœ¨æ ·æœ¬åºåˆ—$p_1$,$p_2$,$p_3$,â€¦$p_n$,å…¶ä¸­p=$p_1 = x_i,p_n = x_j,$,ä¸”$p</em>{i+1}$ç”±$p_i$å¯†åº¦ç›´è¾¾,åˆ™ç§°$x_j$ç”±$x_i$å¯†åº¦å¯è¾¾</li>
<li>å¯†åº¦ç›¸è¿: å¯¹$x_j$å’Œ$x_i$,å¦‚æœå­˜åœ¨$x_k$,ä½¿å¾—$x_i$å’Œ$x_j$å‡ç”±$x_k$å¯†åº¦å¯è¾¾,åˆ™ç§°$x_i$ä¸$x_j$å¯†åº¦ç›¸è¿</li>
</ul>
<p><a href="https://imgchr.com/i/8XUHOS" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/03/25/8XUHOS.png" alt="8XUHOS.png"></a></p>
<p>åŸºäºä»¥ä¸Šæ¦‚å¿µ,DBSCANå°†<strong>ç°‡</strong>å®šä¹‰ä¸ºç”±å¯†åº¦å¯è¾¾å…³ç³»å¯¼å‡ºçš„æœ€å¤§å¯†åº¦ç›¸è¿æ ·æœ¬é›†åˆ.</p>
<h4 id="DBSCANç®—æ³•"><a href="#DBSCANç®—æ³•" class="headerlink" title="DBSCANç®—æ³•"></a>DBSCANç®—æ³•</h4><ul>
<li>åˆå§‹åŒ–æ ¸å¿ƒå¯¹è±¡é›†åˆ$\Omega$ä¸ºç©ºé›†</li>
<li>å¯¹äºæ ·æœ¬é›†Dä¸­çš„æ¯ä¸€ä¸ªæ ·æœ¬$x_j$,ç¡®å®šå®ƒæ˜¯å¦æ»¡è¶³<strong>æ ¸å¿ƒå¯¹è±¡</strong>çš„æ¡ä»¶å¦‚æœæ»¡è¶³,å°†è¯¥æ ·æœ¬åŠ å…¥æ ¸å¿ƒå¯¹è±¡é›†åˆ$\Omega$ä¸­</li>
<li>è®°å½•å½“å‰æœªè®¿é—®æ ·æœ¬é›†åˆ$\Gamma_{old} = \Gamma$ .</li>
<li>åˆå§‹åŒ–èšç±»ç°‡æ•°ä¸º0,æœªè®¿é—®æ ·æœ¬æ•°é›†åˆ$\Gamma$ = D</li>
<li>å½“$\Omega$ä¸ä¸ºç©ºé›†æ—¶,éšæœºé€‰å–ä¸€ä¸ª$\Omega$ä¸­çš„å…ƒç´ o,åˆå§‹åŒ–é˜Ÿåˆ—Q = &lt; o &gt;</li>
<li>å°†æœªè®¿é—®æ ·æœ¬é›†åˆ$\Gamma$æ›´æ–°ä¸º$\Gamma$ \ { o }</li>
<li>å½“Qä¸ä¸ºç©ºæ—¶,æå‡ºQä¸­çš„é¦–ä¸ªæ ·æœ¬$q$,å¦‚æœ$q$æ˜¯æ ¸å¿ƒå¯¹è±¡,ä»¤$\Delta$ä¸º$q$çš„$\epsilon$-é‚»åŸŸä¸­çš„æ ·æœ¬å’Œæœªè®¿é—®é›†åˆ$\Gamma$ä¸­çš„äº¤é›†</li>
<li>å°†$\Delta$ä¸­çš„å…ƒç´ åŠ å…¥é˜Ÿåˆ—Qä¸­.æ›´æ–°$\Gamma$ä¸º $\Gamma = \Gamma \backslash \Delta$</li>
<li>å½“Qä¸­æ‰€æœ‰å…ƒç´ éƒ½è¢«å–å‡ºæ¥ä¹‹å, kè‡ªå¢ä¸€,ç”Ÿæˆèšç±»ç°‡$C<em>k$     = $\Gamma</em>{old} \backslash \Gamma$, æ›´æ–°æ ¸å¿ƒå¯¹è±¡é›†åˆ$\Omega = \Omega \backslash C_k$</li>
</ul>
<h2 id="å±‚æ¬¡èšç±»"><a href="#å±‚æ¬¡èšç±»" class="headerlink" title="å±‚æ¬¡èšç±»"></a>å±‚æ¬¡èšç±»</h2><ul>
<li>åœ¨ä¸åŒå±‚æ¬¡å¯¹æ•°æ®é›†è¿›è¡Œåˆ’åˆ†,å½¢æˆ<strong>æ ‘å½¢</strong>çš„èšç±»ç»“æ„.å¯ä»¥é‡‡ç”¨è‡ªåº•å‘ä¸Šçš„èšåˆç­–ç•¥,ä¹Ÿå¯ä»¥é‡‡ç”¨è‡ªé¡¶å‘ä¸‹çš„åˆ†æ‹†ç­–ç•¥.<h3 id="AGNES"><a href="#AGNES" class="headerlink" title="AGNES"></a>AGNES</h3>å°†æ•°æ®é›†ä¸­çš„æ¯ä¸€ä¸ªæ ·æœ¬çœ‹ä½œä¸€ä¸ª<strong>åˆå§‹èšç±»ç°‡</strong>,åœ¨ç®—æ³•è¿è¡Œçš„æ¯ä¸€æ­¥æ‰¾å‡ºè·ç¦»æœ€è¿‘çš„ä¸¤ä¸ªèšç±»ç°‡è¿›è¡Œåˆå¹¶.é‡å¤è¿‡ç¨‹ç›´åˆ°è¾¾åˆ°é¢„è®¾çš„ç°‡çš„ä¸ªæ•°.</li>
<li>ç°‡ä¹‹é—´è·ç¦»çš„è®¡ç®—:</li>
</ul>
<ol>
<li>æœ€å°è·ç¦»: $d<em>{min}(C_i,C_j) = min</em>{x \in C_i, y \in C_j}dist(x,y)$</li>
<li>æœ€å¤§è·ç¦»: $d<em>{max}(C_i,C_j) = max</em>{x \in C_i, y \in C_j}dist(x,y)$</li>
<li><p>å¹³å‡è·ç¦»: $d<em>{avg}(C_i,C_j) = \frac {1}{|C_i||C_j|} \sum</em>{x \in C<em>i} \sum</em>{y \in C_j}dist(x,y)$</p>
<p><img src="https://s1.ax1x.com/2020/03/25/8vEA7F.png" alt="8vEA7F.png"></p>
</li>
</ol>
<p>ç®—æ³•çš„1-9è¡Œå¯¹ä»…å«ä¸€ä¸ªæ ·æœ¬çš„<strong>åˆå§‹èšç±»ç°‡</strong>å’Œ<strong>è·ç¦»çŸ©é˜µ</strong>è¿›è¡Œåˆå§‹åŒ–.æ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç¬¬ä¸ƒè¡Œä¼šæœ‰$M(j,i) = M(i,j)$ .<br>ç¬¬11-23è¡Œåˆ™æ˜¯å¯¹è¿™ä¸ªçŸ©é˜µä¸æ–­è¿›è¡Œæ›´æ–°æ“ä½œ.çŸ©é˜µåˆå¹¶ä¹‹åç›¸åº”çš„è·ç¦»çŸ©é˜µä¹Ÿéœ€è¦æ›´æ–°.</p>
]]></content>
  </entry>
  <entry>
    <title>åœ¨è‡ªå·±çš„åšå®¢ä¸­æ’å…¥BGM</title>
    <url>/2020/03/09/%E5%9C%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%8F%92%E5%85%A5BGM/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å‰å‡ å¤©å¿ƒè¡€æ¥æ½®,è§‰å¾—è‡ªå·±çš„åšå®¢åº”è¯¥åŠ ä¸€ç‚¹èƒŒæ™¯éŸ³ä¹.<del>äºæ˜¯ç¨‹åºå‘˜ä»–è¯´â€è¦æœ‰musicâ€,ä¾¿æœ‰äº†music</del> äº‹æƒ…æ€ä¹ˆå¯èƒ½è¿™ä¹ˆç¾å¥½!.ä¸å‡ºæ„å¤–çš„åœ¨æ’å…¥èƒŒæ™¯éŸ³ä¹çš„è¿‡ç¨‹ä¸­åˆé‡åˆ°äº†è®¸å¤šé—®é¢˜,æœ€åçš„è§£å†³æ–¹å¼ä¹Ÿæ˜¯å’Œä¹‹å‰ä¸€æ ·çš„<strong>ç„å­¦</strong>,ä¸è¿‡è¿˜æ˜¯å¼€ä¸ªå¸–å­è®°å½•ä¸€ä¸‹ğŸ¤”<br><a id="more"></a><br>ä»è¿™å‡ å¤©åœ¨ç½‘ç»œä¸Šæ‰¾åˆ°çš„èµ„æ–™æ¥çœ‹æ’å…¥èƒŒæ™¯éŸ³ä¹çš„æ–¹æ³•å¤§æ¦‚åˆ†ä¸‰ç±»</p>
<ol>
<li>åˆ©ç”¨éŸ³ä¹å¹³å°çš„â€å¤–é“¾ç”Ÿæˆå™¨â€,ç„¶åæ’å…¥åˆ°ç½‘é¡µå½“ä¸­</li>
<li>åˆ©ç”¨<code>hexo-tag-aplayer</code>æ’ä»¶,åœ¨å†™åšå®¢çš„æ—¶å€™æŠŠæ­Œæ›²æ’å…¥åˆ°å¯¹åº”çš„åšæ–‡ä¹‹ä¸­</li>
<li>ä½¿ç”¨<code>Aplayer</code>,å…¨å±€çš„ç”ŸæˆèƒŒæ™¯éŸ³ä¹æ’­æ”¾å™¨.</li>
</ol>
<h2 id="å¤–é“¾ç”Ÿæˆå™¨"><a href="#å¤–é“¾ç”Ÿæˆå™¨" class="headerlink" title="å¤–é“¾ç”Ÿæˆå™¨"></a>å¤–é“¾ç”Ÿæˆå™¨</h2><p>è¿™ä¸ªæ–¹æ³•çš„ä¼˜ç‚¹æ˜¯<strong>ç®€å•,é«˜æ•ˆ</strong>,ä¸åƒå…¶ä»–çš„ä¸¤ç§æ–¹æ³•åˆæ˜¯å®‰è£…æ’ä»¶åˆæ˜¯è‡ªå·±è®¾ç½®éŸ³ä¹çš„<code>url</code>,<code>æ­Œè¯</code>ç­‰ç­‰,ä½†æ˜¯å¾ˆè‡´å‘½çš„é—®é¢˜æ˜¯å¹¶ä¸æ˜¯éŸ³ä¹å¹³å°ä¸Šæ‰€æœ‰çš„æ­Œæ›²éƒ½æ”¯æŒå¤–é“¾ç”Ÿæˆ.æ¯”å¦‚:<br>æ›´ä¸è¦æå•¥æ—¶å€™è¿™é¦–æ­Œåœ¨ç½‘æ˜“äº‘å°±ä¼šå˜ç°â€¦.æ‰€ä»¥è¿™ç§ä¾èµ–éŸ³ä¹å¹³å°è‡ªèº«çš„æ’å…¥BGMçš„æ–¹æ³•åœ¨è¿™é‡Œå¹¶ä¸é€‚åˆæˆ‘<br>æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬è€ƒè™‘ç¬¬äºŒç§</p>
<h2 id="hexo-tag-playeræ’ä»¶"><a href="#hexo-tag-playeræ’ä»¶" class="headerlink" title="hexo-tag-playeræ’ä»¶"></a>hexo-tag-playeræ’ä»¶</h2><p><code>hexo-tag-player</code>æœ¬è´¨ä¸Šå°±æ˜¯æˆ‘ä»¬ç¬¬ä¸‰ç§æ–¹æ³•çš„ä¸€ä¸ªæ’ä»¶,<a href="https://github.com/MoePlayer/hexo-tag-aplayer" target="_blank" rel="noopener">GitHubé¡¹ç›®åœ°å€</a>é€ä¸Š.<br>é¦–å…ˆæˆ‘ä»¬è¦åœ¨åšå®¢çš„ç›®å½•ä¸‹é¢æ‰“å¼€<code>git bash</code>,è¾“å…¥<code>npm install --save hexo-tag-aplayer</code>æŒ‡ä»¤æ¥å®‰è£…è¿™æ¬¾æ’ä»¶,å¦‚æœæ˜¯åœ¨Linuxç³»ç»Ÿä¸‹é¢å°±åº”è¯¥æ˜¯è¦æ‰“å¼€ç»ˆç«¯äº†.ä¸è¿‡ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½çš„å‰ææ˜¯<code>Aplayer.js</code>çš„ç‰ˆæœ¬è¦é«˜äº<code>1.8.0</code>,<code>Meting.js</code>çš„ç‰ˆæœ¬è¦é«˜äº<code>1.1.1</code>.(Metingå±äºåé¢çš„æ‰©å±•å†…å®¹.ä¸æ˜¯å¿…é¡»é¡¹).ç„¶åå°±å¯ä»¥åœ¨<strong>åšå®¢çš„æ­£æ–‡çš„markdowné‡Œé¢</strong>,æ’å…¥ä¸‹é¢çš„ç¥å¥‡ä»£ç ,æ¥å®ç°èƒŒæ™¯éŸ³ä¹æ’­æ”¾<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125;</span><br></pre></td></tr></table></figure><br>è¿™é‡Œç¨ç¨è§£é‡Šä¸‹æ ‡ç­¾å‚æ•°,GitHubæ–‡æ¡£ä¸­éƒ½æœ‰å¾ˆè¯¦ç»†çš„æè¿°.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>æ ‡ç­¾</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td>æ›²ç›®æ ‡é¢˜</td>
</tr>
<tr>
<td><code>author</code></td>
<td>æ›²ç›®ä½œè€…</td>
</tr>
<tr>
<td><code>url</code></td>
<td>éŸ³ä¹æ–‡ä»¶ URL åœ°å€</td>
</tr>
<tr>
<td><code>picture_url</code></td>
<td>(å¯é€‰) éŸ³ä¹å¯¹åº”çš„å›¾ç‰‡åœ°å€</td>
</tr>
<tr>
<td><code>narrow</code></td>
<td>(å¯é€‰) æ’­æ”¾å™¨è¢–çé£æ ¼</td>
</tr>
<tr>
<td><code>autoplay</code></td>
<td>(å¯é€‰) è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½</td>
</tr>
<tr>
<td><code>width:xxx</code></td>
<td>(å¯é€‰) æ’­æ”¾å™¨å®½åº¦ (é»˜è®¤: 100%)</td>
</tr>
<tr>
<td><code>lrc:xxx</code></td>
<td>(å¯é€‰)æ­Œè¯æ–‡ä»¶ URL åœ°å€</td>
</tr>
</tbody>
</table>
</div>
<p>åŒæ ·,æ­Œè¯æ ‡ç­¾å’Œæ’­æ”¾åˆ—è¡¨GitHubçš„<a href="https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md" target="_blank" rel="noopener">æ–‡æ¡£</a>é‡Œéƒ½æœ‰å†™.ä¸è¿‡è¿™ä¸ªåœ°æ–¹æˆ‘çœŸçš„è¦åæ§½ä¸€ä¸‹.æ–‡æ¡£è™½ç„¶å†™çš„å¾ˆç¿”å®å„ç§å‚æ•°éƒ½ç»™ä½ æ ‡æ³¨å‡ºæ¥äº†ä½†æ˜¯ä½ <sup>TM</sup> éƒ½ä¸å‘Šè¯‰æˆ‘åœ¨é‚£é‡Œæ’å…¥è¿™æ®µç¥å¥‡ä»£ç çš„å—?ä¸è¯´è°çŸ¥é“æ˜¯æ’å…¥åœ¨å¸ƒå±€çš„swigæ–‡ä»¶è¿˜æ˜¯markdownè¿˜æ˜¯åˆ«çš„å•¥åœ°æ–¹å•Š.(æ¥è‡ªä¸€ä¸ªä¸€ç‚¹éƒ½ä¸ä¼šå‰ç«¯çš„èœé¸¡æ·±æ·±çš„æ€¨å¿µ).<br>ä¸è¿‡è¿™ç§æ–¹æ³•ä¹Ÿæœ‰ç¼ºç‚¹,å°±æ˜¯å¿…é¡»åœ¨å†™æ–‡ç« çš„æ—¶å€™æ’å…¥.è¿™å°±ä¸ç¬¦åˆæˆ‘çš„å…¨å±€çš„è¦æ±‚.æ‰€ä»¥æˆ‘ä»¬è½¬å‘å®ƒçš„æœ¬å°Š-Aplayer</p>
<h2 id="APlayer"><a href="#APlayer" class="headerlink" title="APlayer"></a>APlayer</h2><p>åŒæ ·,è¿˜æ˜¯å…ˆè´´<a href="https://github.com/MoePlayer/APlayer" target="_blank" rel="noopener">GitHubé¡¹ç›®åœ°å€</a>.è¦ä½¿ç”¨Aplayeré¦–å…ˆéœ€è¦<code>npm install aplayer --save</code>å®‰è£….<a href="https://aplayer.js.org/#/zh-Hans/" target="_blank" rel="noopener">ä¸­æ–‡æ–‡æ¡£</a>åœ¨è¿™é‡Œ.ç„¶åä»å®ƒçš„ä»“åº“cloneä¸‹æ¥å®ƒçš„ä»£ç ,æŠŠå…¶ä¸­çš„<code>dist</code>æ–‡ä»¶å¤¹æ‹·è´åˆ°<code>themes\next\source</code> ä¸‹é¢,å†åœ¨<code>dist</code>æ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ª<code>music.js</code>.ç„¶åæŠŠè¿™æ®µä»£ç æ‹·è´è¿›å»<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ap = <span class="keyword">new</span> APlayer(&#123;</span><br><span class="line">    container: <span class="built_in">document</span>.getElementById(<span class="string">'aplayer'</span>),</span><br><span class="line">    audio: [&#123;</span><br><span class="line">        name: <span class="string">'name'</span>,</span><br><span class="line">        artist: <span class="string">'artist'</span>,</span><br><span class="line">        url: <span class="string">'url.mp3'</span>,</span><br><span class="line">        cover: <span class="string">'cover.jpg'</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾å‚æ•°äº†,å°±æ¡å‡ ä¸ªä¸»è¦çš„è¯´</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>é»˜è®¤å€¼</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>container</code></td>
<td>document.querySelector(â€˜.aplayerâ€™)</td>
<td>æ’­æ”¾å™¨å®¹å™¨å…ƒç´ </td>
</tr>
<tr>
<td><code>fixed</code></td>
<td>false</td>
<td>å¼€å¯å¸åº•æ¨¡å¼</td>
</tr>
<tr>
<td><code>mini</code></td>
<td>false</td>
<td>å¼€å¯è¿·ä½ æ¨¡å¼</td>
</tr>
<tr>
<td><code>autoplay</code></td>
<td>false</td>
<td>éŸ³é¢‘è‡ªåŠ¨æ’­æ”¾</td>
</tr>
<tr>
<td><code>theme</code></td>
<td>â€˜#b7daffâ€™</td>
<td>ä¸»é¢˜è‰²</td>
</tr>
<tr>
<td><code>loop</code></td>
<td>â€˜allâ€™</td>
<td>éŸ³é¢‘å¾ªç¯æ’­æ”¾, å¯é€‰å€¼: â€˜allâ€™, â€˜oneâ€™, â€˜noneâ€™</td>
</tr>
<tr>
<td><code>order</code></td>
<td>â€˜listâ€™</td>
<td>éŸ³é¢‘å¾ªç¯é¡ºåº, å¯é€‰å€¼: â€˜listâ€™, â€˜randomâ€™</td>
</tr>
<tr>
<td><code>preload</code></td>
<td>â€˜autoâ€™</td>
<td>é¢„åŠ è½½ï¼Œå¯é€‰å€¼: â€˜noneâ€™, â€˜metadataâ€™, â€˜autoâ€™</td>
</tr>
</tbody>
</table>
</div>
<p>ä¸€æ®µæˆç†Ÿçš„ä»£ç åº”è¯¥åƒä¸‹é¢è¿™ä¸ªäºšå­</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ap = <span class="keyword">new</span> APlayer(&#123;</span><br><span class="line">    container: <span class="built_in">document</span>.getElementById(<span class="string">'player'</span>),</span><br><span class="line">    mini: <span class="literal">false</span>,</span><br><span class="line">    autoplay: <span class="literal">false</span>,</span><br><span class="line">    theme: <span class="string">'#FADFA3'</span>,</span><br><span class="line">    loop: <span class="string">'all'</span>,</span><br><span class="line">    order: <span class="string">'random'</span>,</span><br><span class="line">    preload: <span class="string">'auto'</span>,</span><br><span class="line">    volume: <span class="number">0.7</span>,</span><br><span class="line">    mutex: <span class="literal">true</span>,</span><br><span class="line">    listFolded: <span class="literal">false</span>,</span><br><span class="line">    listMaxHeight: <span class="number">90</span>,</span><br><span class="line">    lrcType: <span class="number">3</span>,</span><br><span class="line">    audio: [</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'name1'</span>,</span><br><span class="line">            artist: <span class="string">'artist1'</span>,</span><br><span class="line">            url: <span class="string">'url1.mp3'</span>,</span><br><span class="line">            cover: <span class="string">'cover1.jpg'</span>,</span><br><span class="line">            lrc: <span class="string">'lrc1.lrc'</span>,</span><br><span class="line">            theme: <span class="string">'#ebd0c2'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'name2'</span>,</span><br><span class="line">            artist: <span class="string">'artist2'</span>,</span><br><span class="line">            url: <span class="string">'url2.mp3'</span>,</span><br><span class="line">            cover: <span class="string">'cover2.jpg'</span>,</span><br><span class="line">            lrc: <span class="string">'lrc2.lrc'</span>,</span><br><span class="line">            theme: <span class="string">'#46718b'</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>å°†ä¸Šé¢è¿™æ®µå®Œæ•´çš„ä»£ç å†™è¿›<code>music.js</code>,å…¶ä»–çš„é€‰é¡¹å¯ä»¥è‡ªå·±è®¾å®š.æä¸€ä¸‹,åœ¨Aplayerçš„å®˜æ–¹æ–‡æ¡£ä¸­ä¼¼ä¹æ²¡æœ‰æåˆ°å¯ä»¥åˆ©ç”¨èµ„æºæ–‡ä»¶å¤¹çš„æ“ä½œ,æ‰€ä»¥åœ¨å¡«å†™urlé“¾æ¥çš„æ—¶å€™éœ€è¦æ³¨æ„.æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è¯•ä¸€è¯•åˆ©ç”¨æœ¬åœ°èµ„æºçš„æ–¹æ³•.åœ¨æˆ‘è‡ªå·±çš„ä»£ç æˆ‘æ˜¯é‡‡ç”¨å¤–é“¾çš„æ–¹æ³•.è™½ç„¶æˆ‘è§‰å¾—è¿™ä¸ªå¤–é“¾çš„è·å–æ–¹å¼å ªç§°å¥‡æŠ€æ·«å·§,ä½†å®ƒååå°±æ˜¯æœ‰æ•ˆ(æ‘Šæ‰‹).<br>è¿˜æ˜¯åˆ°ç½‘æ˜“äº‘,æ‰¾åˆ°æƒ³å¬çš„æ­Œ.<br><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/InsertBGM/%E7%BD%91%E6%98%93%E4%BA%91%E6%89%BE%E6%AD%8C.png" alt=""></p>
<p>ç„¶åå¤åˆ¶åœ°å€æ ä¸­çš„é“¾æ¥ï¼Œç²˜è´´åˆ°ä¸Šé¢çš„<code>url</code>å­—æ®µ,ç„¶åä¿®æ”¹ä¸€ä¸‹.è®©æˆ‘æ¥ä¸¾ä¸ªğŸ’.</p>
<p>ä»ç½‘æ˜“äº‘éŸ³ä¹ä¸Šå¤åˆ¶ä¸‹æ¥çš„<code>Skylark</code>çš„é“¾æ¥ä¸º<code>https://music.163.com/#/song?id=32320830</code>,åªéœ€è¦æŠŠå®ƒé­”æ”¹æˆ<code>https://music.163.com/song/media/outer/url?id=32320830.mp3</code>.ä¸€ä¸ªæœ‰æ•ˆçš„urlé“¾æ¥å°±è¯ç”Ÿäº†.</p>
<p>åˆ«é—®æˆ‘åŸç†æ˜¯å•¥â€¦.æˆ‘ä¹Ÿä¸æ¸…æ¥š.But it does work.æ‰€ä»¥å¯¹äºä»»ä½•ç½‘æ˜“äº‘éŸ³ä¹ä¸Šçš„æ­Œ(åªè¦å®ƒæ”¶å½•äº†),æˆ‘ä»¬éƒ½å¯ä»¥é‡‡ç”¨è¿™ç§æ–¹å¼æ¥è·å–å®ƒçš„<code>url</code>.è‡³äºå…¶ä»–çš„éŸ³ä¹å¹³å°,å¦‚QQ,è™¾ç±³,è¿™ç§æ–¹å¼æˆ‘è¿˜æ²¡æœ‰è¯•è¿‡.æ¬¢è¿è¯•è¿‡çš„åŒå­¦åœ¨è¯„è®ºåŒºè®¨è®ºä¸€ä¸‹å¼~.è‡³äºå¦‚ä½•è·å–ä¸“è¾‘çš„å›¾ç‰‡.åªéœ€è¦åœ¨ç½‘é¡µä¸“è¾‘å³é”®,ç„¶åé€‰æ‹©<code>æ£€æŸ¥</code>é¡¹.æ‰¾åˆ°å…¶ä¸­çš„åç¼€ä¸º<code>png</code>æˆ–è€…<code>jpg</code>çš„é“¾æ¥å³å¯.å°±åƒä¸‹é¢è¿™æ ·.<img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/InsertBGM/%E8%8E%B7%E5%8F%96%E4%B8%93%E8%BE%91%E5%B0%81%E9%9D%A2.png" alt=""></p>
<p>å³ä¸Šè§’ç¬¬ä¸€ä¸ªç®­å¤´å’Œç¬¬äºŒä¸ªç®­å¤´æŒ‡å‘çš„è·¯å¾„å…¶å®æ˜¯ä¸€ä¸ª(<del>é‚£ä½ ç”»ä¸¤ä¸ªç®­å¤´å¹²å˜›</del>),åªä¸è¿‡ç¬¬ä¸€ä¸ªè·¯å¾„ç›¸æ¯”ç¬¬äºŒä¸ªè·¯å¾„åœ¨ä»–çš„jpgåé¢å¤šäº†ä¸€ä¸²ä»£ç .è‡³æ­¤æˆ‘ä»¬çš„å‡†å¤‡å·¥ä½œå°±å·®ä¸å¤šç»“æŸäº†.ä¸‡äº‹ä¿±å¤‡,åªæ¬ ä¸œé£.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"/dist/APlayer.min.css"</span>&gt;</span><br><span class="line">&lt;div id=<span class="string">"aplayer"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script type="text/</span>javascript<span class="string">" src="</span>/dist/APlayer.min.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script type="</span>text/javascript<span class="string">" src="</span>/dist/music.js<span class="string">"&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€<br><code>theme/next/layout</code>è·¯å¾„ä¸‹é¢çš„<code>_layout.swig</code>æ–‡ä»¶.<img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/InsertBGM/_layout.swig%E6%96%87%E4%BB%B6.png" alt="">.æŠŠä¸Šé¢é‚£æ®µä»£ç æ’å…¥åˆ°<code>&lt;body itemscope...&gt;</code>ä¹‹å,<code>&lt;/body&gt;</code>ä¹‹å‰å³å¯(<code>&lt;/body&gt;</code>æ²¡æœ‰åœ¨æˆªå›¾ä¸­æ˜¾ç¤ºå‡ºæ¥).æˆ‘æ˜¯ç›´æ¥æ’å…¥åœ¨äº†ç¬¬13è¡Œ.ç„¶åé‡æ–°éƒ¨ç½²æˆ‘ä»¬çš„åšå®¢,é‡å¯,å¤§åŠŸå‘Šæˆ!åœ¨åšå®¢çš„å·¦ä¸‹è§’å³å¯çœ‹åˆ°æˆ‘ä»¬é™„åº•æ¨¡å¼çš„Aplayer<br><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/InsertBGM/%E5%A4%A7%E5%8A%9F%E5%91%8A%E6%88%90.png" alt=""></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://helloblack2017.github.io/2018/04/22/use-hexo-tag-aplayer/" target="_blank" rel="noopener">Hugo Blackçš„Blog</a><br><a href="https://mackvord.github.io/aplayer-dplayer/547187035.html" target="_blank" rel="noopener">Mackvordâ€™s Blog</a><br><a href="https://hakurei.red/2019/11/25/%E4%B8%BAHexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E5%85%A8%E5%B1%80APlayer%E6%92%AD%E6%94%BE%E5%99%A8/" target="_blank" rel="noopener">åšä¸½å¹ç¬›åˆ†ç¤¾ - ä¸ºHexoåšå®¢æ·»åŠ å…¨å±€APlayeræ’­æ”¾å™¨ </a></p>
]]></content>
      <tags>
        <tag>hexo</tag>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title>è¯„è®ºç³»ç»ŸValineçš„ä½¿ç”¨</title>
    <url>/2020/03/07/%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9FValine%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="è¯„è®ºç³»ç»ŸValineçš„ä½¿ç”¨"><a href="#è¯„è®ºç³»ç»ŸValineçš„ä½¿ç”¨" class="headerlink" title="è¯„è®ºç³»ç»ŸValineçš„ä½¿ç”¨"></a>è¯„è®ºç³»ç»ŸValineçš„ä½¿ç”¨</h1><p><a href="https://ioliu.cn/2017/add-valine-comments-to-your-blog/" target="_blank" rel="noopener">@äº‘æ·¡é£è½»</a> å¼€å‘äº†ä¸€æ¬¾è½»é‡çº§çš„Blogè¯„è®ºåº”ç”¨,è¿™é‡Œè®°å½•ä¸‹Valineçš„ä½¿ç”¨å’Œè‡ªå®šä¹‰è¿‡ç¨‹</p>
<a id="more"></a>
<h2 id="è·å–App-IDå’ŒApp-Key"><a href="#è·å–App-IDå’ŒApp-Key" class="headerlink" title="è·å–App IDå’ŒApp Key"></a>è·å–App IDå’ŒApp Key</h2><p>åœ¨<a href="https://leancloud.cn/dashboard/applist.html#/apps" target="_blank" rel="noopener">LeanCloudçš„å®˜ç½‘</a>ä¸Šæ³¨å†Œä¸€ä¸ªå¸å·,å®åå¹¶é‚®ç®±éªŒè¯é€šè¿‡ä¹‹åå¯ä»¥<a href="https://leancloud.cn/dashboard/applist.html#/apps" target="_blank" rel="noopener">è¿™é‡Œ</a>åˆ›å»ºä¸€ä¸ªåº”ç”¨.åº”ç”¨åå¯ä»¥éšä¾¿å–.</p>
<p>åœ¨åˆšåˆšåˆ›å»ºçš„åº”ç”¨çš„è®¾ç½®ä¸­é€‰æ‹©<strong>åº”ç”¨Key</strong>,å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº”ç”¨çš„App IDå’ŒApp Keyäº†.<br><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/TIM%E6%88%AA%E5%9B%BE20200307120352.png" alt="TIMæˆªå›¾20200307120352"></p>
<h2 id="è®¾ç½®å®‰å…¨åŸŸå"><a href="#è®¾ç½®å®‰å…¨åŸŸå" class="headerlink" title="è®¾ç½®å®‰å…¨åŸŸå"></a>è®¾ç½®å®‰å…¨åŸŸå</h2><p>ç„¶åæ‰“å¼€è®¾ç½®ä¸­çš„<strong>å®‰å…¨ä¸­å¿ƒ</strong>,åœ¨ä¸‹é¢çš„<strong>Webå®‰å…¨åŸŸå</strong>ä¸­å¡«å…¥æˆ‘ä»¬ç½‘ç«™çš„åŸŸå,å¦‚ä¸‹å›¾<br><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/%E5%A1%AB%E5%86%99Web%E5%AE%89%E5%85%A8%E5%9F%9F%E5%90%8D.png" alt="å¡«å†™Webå®‰å…¨åŸŸå"></p>
<h2 id="åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å¡«å…¥ç›¸åº”å­—æ®µ"><a href="#åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å¡«å…¥ç›¸åº”å­—æ®µ" class="headerlink" title="åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å¡«å…¥ç›¸åº”å­—æ®µ"></a>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å¡«å…¥ç›¸åº”å­—æ®µ</h2><p>æ‰“å¼€åšå®¢æ‰€åœ¨ç›®å½•,æ‰¾åˆ°<strong>ä¸»é¢˜</strong>çš„é…ç½®æ–‡ä»¶,ä¸æ˜¯æ•´ä¸ªåšå®¢çš„.åœ¨æ–‡æœ¬ä¸­æœç´¢â€valineâ€,æŠŠåˆšæ‰è·å–åˆ°çš„App IDå’ŒApp Keyå¡«å…¥è¿›å».<br><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.png" alt="ä¿®æ”¹é…ç½®æ–‡ä»¶"><br>è¿™é‡Œæä¸€ä¸ªå‘,åœ¨å¤åˆ¶App IDå’ŒApp Keyçš„æ—¶å€™æ³¨æ„ä¸è¦<strong>æ¿€æ´»äº†åé¢çš„æ³¨é‡Š</strong>,å¦‚æœæ³¨é‡Šè¢«è§†ä¸ºäº†ä»£ç çš„ä¸€éƒ¨åˆ†å°±ä¼šæŠ¥ä¸€ä¸ª</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Code : undefined [410 GET https:&#x2F;&#x2F;avoscloud.com&#x2F;1.1&#x2F;classes&#x2F;Comment]</span><br></pre></td></tr></table></figure>
<p>çš„é”™è¯¯,è¿™ä¸ªæ—¶å€™å°±åº”è¯¥æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦é…ç½®æ–‡ä»¶ä¸­çš„æ³¨é‡Šå‡ºç°äº†é—®é¢˜<br>å¦å¤–åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¿˜å¯èƒ½å‡ºç°å…¶ä»–çš„é—®é¢˜,æ¯”å¦‚<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Code 403: è®¿é—®è¢«apiåŸŸåç™½åå•æ‹’ç»ï¼Œè¯·æ£€æŸ¥ä½ çš„å®‰å…¨åŸŸåè®¾ç½®</span><br></pre></td></tr></table></figure><br>å°±è¦æ£€æŸ¥åœ¨ç¬¬äºŒæ­¥<strong>è®¾ç½®å®‰å…¨åŸŸå</strong>çš„è¿‡ç¨‹ä¸­æ˜¯å¦æ¼æ‰äº†ç½‘å€æœ€åçš„â€/â€œ,æ¯”å¦‚åŸæ¥çš„ç½‘å€æ˜¯<code>https://godlowd.github.io/</code>,ä½†æ˜¯å¡«å†™è¿›å»çš„æ—¶å€™æ˜¯<code>https://godlowd.github.io</code>.å»ºè®®è¿˜æ˜¯ç›´æ¥å¤åˆ¶æµè§ˆå™¨åœ°å€æ ä¸­çš„åœ°å€,å†ç²˜è´´è¿›å»,å°±å¯ä»¥é¿å…ç±»ä¼¼é—®é¢˜<br>é‡æ–°éƒ¨ç½²æˆ‘ä»¬çš„Blogä¹‹åæ‰“å¼€å°±å¯ä»¥çœ‹åˆ°è¯„è®ºåŠŸèƒ½äº†.ä¸è¿‡è¿™ä¸ªæ—¶å€™è¿˜å¤„äºä¸€ä¸ªæ¯”è¾ƒåŸºæœ¬çš„çŠ¶æ€.è¦è¿›è¡Œæ›´æ·±å±‚æ¬¡çš„å®šåˆ¶è¿˜éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–.</p>
<h2 id="æ‰“å¼€è¯„è®ºé‚®ä»¶æé†’ç³»ç»Ÿ"><a href="#æ‰“å¼€è¯„è®ºé‚®ä»¶æé†’ç³»ç»Ÿ" class="headerlink" title="æ‰“å¼€è¯„è®ºé‚®ä»¶æé†’ç³»ç»Ÿ"></a>æ‰“å¼€è¯„è®ºé‚®ä»¶æé†’ç³»ç»Ÿ</h2><p>é¦–å…ˆè´´ä¸€ä¸‹<a href="https://github.com/zhaojun1998/Valine-Admin" target="_blank" rel="noopener">å¤§ä½¬çš„GitHubé¡¹ç›®åœ°å€</a>,è¿™æ˜¯ä¸€ä¸ªValineçš„æ‹“å±•åº”ç”¨,å¯ä»¥ç”¨æ¥é€šçŸ¥ç«™é•¿æ–°è¯„è®º,è€Œä¸”æ”¯æŒè‡ªå®šä¹‰é‚®ä»¶ä¸»é¢˜(æœ‰ä¸€è¯´ä¸€,å½©è™¹è‰²çš„è¿˜è›®å¥½åº·çš„å—·).ä¸‹é¢å°±è®©æˆ‘æ¥åº·åº·è¿™ä¸ªç©æ„æ˜¯æ€ä¹ˆæ•´çš„</p>
<h3 id="è®¾ç½®ä»£ç åº“"><a href="#è®¾ç½®ä»£ç åº“" class="headerlink" title="è®¾ç½®ä»£ç åº“"></a>è®¾ç½®ä»£ç åº“</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨Lean Cloudçš„<strong>äº‘å¼•æ“</strong>çš„<strong>è®¾ç½®</strong>ä¸­æŠŠä¸Šé¢å¤§ä½¬çš„é¡¹ç›®åœ°å€æ·»åŠ è¿›å»å¹¶ä¿å­˜<br><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%A0%81%E5%BA%93.png" alt="è®¾ç½®ä»£ç åº“"></p>
<h3 id="è‡ªå®šä¹‰ç¯å¢ƒå˜é‡"><a href="#è‡ªå®šä¹‰ç¯å¢ƒå˜é‡" class="headerlink" title="è‡ªå®šä¹‰ç¯å¢ƒå˜é‡"></a>è‡ªå®šä¹‰ç¯å¢ƒå˜é‡</h3><p>å…‰æœ‰äº†å¤§ä½¬çš„ä»£ç è¿˜ä¸å¤Ÿ,æˆ‘ä»¬è¿˜éœ€è¦çŸ¥é“æœ‰äº†æ–°è¯„è®ºå¦‚ä½•ç™»å½•ä¸€ä¸ªé‚®ç®±å¹¶ä¸”æŠŠé€šçŸ¥å‘é€åˆ°ç«™é•¿çš„é‚®ç®±ä¸æ˜¯?,æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨<strong>ç¯å¢ƒå˜é‡</strong>è¿™ä¸ªåœ°æ–¹è®¾ç½®å¥½è¿™äº›ä¸œè¥¿</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ç¯å¢ƒå˜é‡å</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td>SITE_NAME</td>
<td>ç½‘ç«™åç§°,å°±æ˜¯åœ¨åšå®¢çš„é…ç½®æ–‡ä»¶ä¸­çš„<strong>title</strong>é¡¹</td>
</tr>
<tr>
<td>SITE_URL</td>
<td>ç½‘ç«™çš„åœ°å€,<strong>æœ€åä¸è¦åŠ  / </strong>,å’Œä¸Šé¢çš„å®‰å…¨åŸŸåç•¥æœ‰ä¸åŒ</td>
</tr>
<tr>
<td>SMTP_USER</td>
<td>SMTP æœåŠ¡ç”¨æˆ·åï¼Œä¸€èˆ¬ä¸ºé‚®ç®±åœ°å€ã€‚</td>
</tr>
<tr>
<td>SMTP_PASS</td>
<td>SMTPå¯†ç ,è¿™ä¸ªå¯ä»¥è‡ªè¡ŒæŸ¥è¯¢å¯¹åº”é‚®ä»¶æœåŠ¡å•†çš„è·å–æ–¹å¼,ä¸æ˜¯ç™»å½•å¯†ç </td>
</tr>
<tr>
<td>SMTP_SERVICE</td>
<td>é‚®ä»¶æœåŠ¡æä¾›å•†,æ”¯æŒ<code>QQ</code>ã€<code>163</code>ã€<code>126</code>ã€<code>Gmail</code>ã€<code>Yahoo</code></td>
</tr>
<tr>
<td>SENDER_NAME</td>
<td>å¯„ä»¶äººåç§°</td>
</tr>
</tbody>
</table>
</div>
<p><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" alt="SENDER_NAME"></p>
<p>å¦å¤–è¿˜æœ‰ä¸€äº›ç¯å¢ƒå˜é‡æ˜¯è¿™æ ·å­çš„:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ç¯å¢ƒå˜é‡å</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td>TO_EMAIL</td>
<td>æŒ‡å®š<strong>æ”¶ä¿¡ä¿¡ç®±</strong>,é»˜è®¤ä¸ºSITE_USER.ç”¨äºSITE_USERå‘ä»¶äººå’Œæ”¶ä»¶äººä¸ä¸€è‡´çš„æƒ…å†µä¸‹ä½¿ç”¨</td>
</tr>
<tr>
<td>TEMPLATE_NAME</td>
<td>æé†’é‚®ä»¶çš„æ¨¡æ¿,é»˜è®¤ä¸ºdefault,ç›®å‰æ”¯æŒrainbow</td>
</tr>
</tbody>
</table>
</div>
<h3 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h3><p>åˆ‡æ¢åˆ°<strong>éƒ¨ç½²</strong>é¡µé¢,é€‰æ‹©ä¸­é—´çš„Gitæºç éƒ¨ç½²,ä¸‹é¢çš„åˆ†æ”¯æˆ–ç‰ˆæœ¬å·å¡«å†™<strong>master</strong>,,ç„¶åç­‰å¾…å¤§æ¦‚7-8åˆ†é’Ÿ.<br><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/%E9%83%A8%E7%BD%B2.png" alt="éƒ¨ç½²"><br>éƒ¨ç½²å®Œæˆä¹‹åçš„é¡µé¢åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­<br><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/%E9%83%A8%E7%BD%B22.png" alt="éƒ¨ç½²2"></p>
<p>ä¸è¿‡å¾ˆå¥‡æ€ªçš„æ˜¯éƒ¨ç½²å®Œæˆä¹‹åæˆ‘çš„webç»„æ ä¸‹é¢å¹¶æ²¡æœ‰å’Œ<a href="https://11.tt/posts/2018/add-valine-to-your-blog/" target="_blank" rel="noopener">å…¶ä»–åšä¸»ä¸€æ ·</a>å‡ºç°å®ä¾‹çš„å­—æ ·.è¿™ä¹Ÿå¯¼è‡´äº†ä»–ä»¬çš„é‡å¯å®ä¾‹æˆ‘ä¸çŸ¥é“åœ¨å“ªé‡Œè¿è¡Œ.å¦‚æœæœ‰çŸ¥é“çš„å…„å¼ŸèŒæ¬¢è¿åœ¨è¯„è®ºåŒºæŒ‡å‡º.</p>
<p>ä¸è¿‡å›°éš¾æ€»æ˜¯å¯ä»¥å…‹æœçš„å˜›.æ—¢ç„¶ä¸èƒ½åœ¨å®ä¾‹é‡Œé¢é‡å¯,é‚£æˆ‘å°±åœ¨éƒ¨ç½²çš„ç”Ÿäº§ç¯å¢ƒé‡Œé‡å¯.åæ­£éƒ½æ˜¯é‡å¯ä¸æ˜¯?(æ­¤å¤„æ‰‹åŠ¨è´´å§æ»‘ç¨½).</p>
<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>ä¸Šè¿°å·¥ä½œå®Œæˆä¹‹å,æˆ‘ä»¬åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­é€‰æ‹©å°†å®ƒçš„<code>notify</code>é¡¹è®¾ä¸º<code>true</code>æ¥æ‰“å¼€é‚®ä»¶æé†’,åŒæ—¶åœ¨è¯„è®ºåŒºè¾“å…¥ä¸€æ¡è¯„è®ºæ¥æµ‹è¯•ä¸€ä¸‹.<br><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.PNG" alt="æµ‹è¯•ç»“æœ"><br>å°±æµ‹è¯•ç»“æœæ¥çœ‹.ç¡®å®æˆ‘æ”¶åˆ°äº†è‡ªå·±ç»™è‡ªå·±å‘çš„é‚®ä»¶(å› ä¸ºä¹‹å‰åœ¨è®¾ç½®ç¯å¢ƒå˜é‡çš„æ—¶å€™è®¾ç½®çš„æ˜¯è¿™æ ·å­çš„å˜›).è€Œä¸”å‘é€é‚®ä»¶çš„ä¸»é¢˜ä¹Ÿå’Œæˆ‘ä»¬åœ¨ç¯å¢ƒå˜é‡ä¸­å®šä¹‰çš„<code>rainbow</code>ç›¸åŒ.æˆ‘ä»¬å¯ä»¥è®¤ä¸ºValineçš„é‚®ä»¶æé†’åŠŸèƒ½ç®—æ˜¯æˆåŠŸå¯åŠ¨äº†.</p>
<p><img src="https://raw.githubusercontent.com/Godlowd/MarkdownPhoto/master/%E5%A6%99%E5%95%8A.jpg" alt="å¦™å•Š"></p>
<h2 id="Valineçš„å…¶ä»–åŠŸèƒ½"><a href="#Valineçš„å…¶ä»–åŠŸèƒ½" class="headerlink" title="Valineçš„å…¶ä»–åŠŸèƒ½"></a>Valineçš„å…¶ä»–åŠŸèƒ½</h2><p>æ—¶é—´å…³ç³»,æœ¬äººè¿˜éœ€è¦è‹¦é€¼çš„å¹²æ´»,æ‰€ä»¥ä¸èƒ½ä¸€æ¬¡æ€§æ•´å®ŒValineçš„å…¨éƒ¨åŠŸèƒ½,ç›®å‰åœ¨æ—¥ç¨‹è¡¨ä¸Šçš„è®¡åˆ’(æ—¥ç¨‹è¡¨: æˆ‘ä¸æ˜¯æˆ‘æ²¡æœ‰ä½ åˆ«çè¯´)æœ‰æ›´æ¢è‡ªå®šä¹‰è¡¨æƒ…åŒ…,å¼€è¾Ÿä¸“é—¨çš„ç•™è¨€æ¿é¡µé¢.å–æ¶ˆæ˜¾ç¤ºOSå’Œæµè§ˆå™¨å‹å·,æ”¯æŒæ¸¸å®¢çš„ç•™è¨€è¢«å›å¤ä¹Ÿå¯è¢«é€šçŸ¥,ç­‰ç­‰.è¾£ä¹ˆå°±ä¸‹æ¬¡å†è§å•¦</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://deserts.io/valine-admin-document/" target="_blank" rel="noopener">https://deserts.io/valine-admin-document/</a><br><a href="https://bestzuo.cn/posts/3307440964.html" target="_blank" rel="noopener">https://bestzuo.cn/posts/3307440964.html</a><br><a href="https://deserts.io/diy-a-comment-system/" target="_blank" rel="noopener">https://deserts.io/diy-a-comment-system/</a><br><a href="https://rightofriver.github.io/2019/10/30/ValineBug1/#fnref:3" target="_blank" rel="noopener">https://rightofriver.github.io/2019/10/30/ValineBug1/#fnref:3</a></p>
]]></content>
      <tags>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»ŸåŸç†ç¬”è®°</title>
    <url>/2020/03/02/OS/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Operating-System"><a href="#Operating-System" class="headerlink" title="Operating System"></a>Operating System</h1><ul>
<li>æ²¡æœ‰å®‰è£…æ“ä½œç³»ç»Ÿ,è®¡ç®—æœº<strong>ä¾ç„¶å¯ä»¥è¿è¡Œç¨‹åº</strong></li>
<li>æ™®é€šç”¨æˆ·ä¸èƒ½æ­£å¸¸ä½¿ç”¨</li>
</ul>
<a id="more"></a>
<h4 id="æ“ä½œç³»ç»ŸåŠŸèƒ½å’Œå®šä¹‰"><a href="#æ“ä½œç³»ç»ŸåŠŸèƒ½å’Œå®šä¹‰" class="headerlink" title="æ“ä½œç³»ç»ŸåŠŸèƒ½å’Œå®šä¹‰"></a>æ“ä½œç³»ç»ŸåŠŸèƒ½å’Œå®šä¹‰</h4><ol>
<li>è¿›ç¨‹ç®¡ç†(CPUç®¡ç†)</li>
</ol>
<ul>
<li>è¿›ç¨‹æ§åˆ¶: åˆ›å»º,æš‚åœ,å”¤é†’,æ’¤é”€</li>
<li>è¿›ç¨‹è°ƒåº¦: è°ƒåº¦ç­–ç•¥,ä¼˜å…ˆçº§</li>
<li>è¿›ç¨‹é€šä¿¡: è¿›ç¨‹é—´é€šä¿¡</li>
</ul>
<ol>
<li>å†…å­˜ç®¡ç†</li>
</ol>
<ul>
<li>å†…å­˜åˆ†é…</li>
<li>å†…å­˜å…±äº«</li>
<li>å†…å­˜ä¿æŠ¤</li>
<li>è™šæ‹Ÿå†…å­˜</li>
</ul>
<ol>
<li>è®¾å¤‡ç®¡ç†</li>
</ol>
<ul>
<li>è®¾å¤‡ç®¡ç†å’Œè°ƒåº¦</li>
<li>è®¾å¤‡æ— å…³æ€§</li>
<li>è®¾å¤‡ä¼ è¾“æ§åˆ¶</li>
<li>è®¾å¤‡é©±åŠ¨</li>
</ul>
<ol>
<li>æ–‡ä»¶ç®¡ç†</li>
</ol>
<ul>
<li>å­˜å‚¨ç©ºé—´æ“ä½œ</li>
<li>æ–‡ä»¶æ“ä½œ</li>
<li>ç›®å½•æ“ä½œ</li>
<li>æ–‡ä»¶å’Œç›®å½•å­˜å–æƒé™çš„ç®¡ç†</li>
</ul>
<h4 id="æ“ä½œç³»ç»Ÿå®šä¹‰"><a href="#æ“ä½œç³»ç»Ÿå®šä¹‰" class="headerlink" title="æ“ä½œç³»ç»Ÿå®šä¹‰"></a>æ“ä½œç³»ç»Ÿå®šä¹‰</h4><ul>
<li>æä¾›ç”¨æˆ·<strong>æ¥å£</strong></li>
<li>è´Ÿè´£ä¸ºåº”ç”¨ç¨‹åº<strong>åˆ†é…å’Œè°ƒåº¦è½¯ç¡¬ä»¶èµ„æº</strong>, æ§åˆ¶ä¸åè°ƒç¨‹åºå¹¶å‘æ´»åŠ¨,å¸®åŠ©ç”¨æˆ·å­˜å–ç­‰ç­‰</li>
</ul>
<h4 id="æ“ä½œç³»ç»Ÿçš„ç‰¹æ€§"><a href="#æ“ä½œç³»ç»Ÿçš„ç‰¹æ€§" class="headerlink" title="æ“ä½œç³»ç»Ÿçš„ç‰¹æ€§"></a>æ“ä½œç³»ç»Ÿçš„ç‰¹æ€§</h4><ul>
<li>å¹¶å‘æ€§: åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡çš„èƒ½åŠ›</li>
<li>å…±äº«æ€§: ä¸ºå¤šä¸ªå¹¶å‘ä»»åŠ¡æä¾›èµ„æºå…±äº«</li>
<li>ä¸ç¡®å®šæ€§: å…·æœ‰å¤„ç†éšæœºäº‹ä»¶çš„èƒ½åŠ›,ä¾‹å¦‚å¤„ç†ç»ˆç«¯,è‡ªåŠ¨åŒ–å¤„ç†èƒ½åŠ›</li>
</ul>
<h4 id="æ“ä½œç³»ç»Ÿå†å²"><a href="#æ“ä½œç³»ç»Ÿå†å²" class="headerlink" title="æ“ä½œç³»ç»Ÿå†å²"></a>æ“ä½œç³»ç»Ÿå†å²</h4><p><strong>ç”¨æˆ·éœ€æ±‚æå‡</strong>å’Œ<strong>ç¡¬ä»¶æŠ€æœ¯è¿›æ­¥</strong>æ˜¯æ“ä½œç³»ç»Ÿå‘å±•ä¸¤å¤§åŠ¨åŠ›<br><strong>è®¡ç®—æœºç¡¬ä»¶å‘å±•</strong>çš„å››ä¸ªå…¸å‹é˜¶æ®µ:</p>
<ol>
<li>ç”µå­ç®¡</li>
<li>æ™¶ä½“ç®¡</li>
<li>é›†æˆç”µè·¯</li>
<li>å¤§è§„æ¨¡é›†æˆç”µè·¯</li>
</ol>
<p><strong>æ“ä½œç³»ç»Ÿ</strong>å‘å±•çš„å››ä¸ªå…¸å‹é˜¶æ®µ</p>
<p>æ¯ä¸€ç±»æ“ä½œç³»ç»Ÿæ˜¯å¦‚ä½•<strong>æå‡CPU/è®¾å¤‡åˆ©ç”¨ç‡çš„</strong></p>
<ol>
<li>æ‰‹å·¥</li>
<li>å•é“æ‰¹å¤„ç†ç³»ç»Ÿ(æ‰¹é‡,è‡ªåŠ¨,å•é“)<br>å°†å¤šä¸ªä½œä¸šè¾“å…¥åˆ°ç£ç›˜å½¢æˆä½œä¸šé˜Ÿåˆ—<br>æ“ä½œç³»ç»Ÿä¾æ¬¡è‡ªåŠ¨å¤„ç†é˜Ÿåˆ—ä¸­çš„æ¯ä¸ªä½œä¸š<br>å¤–è®¾å’ŒCPUäº¤æ›¿ç©ºé—²å’Œå¿™ç¢Œ,åˆ©ç”¨æ•ˆç‡ä½</li>
<li>å¤šé“æ‰¹å¤„ç†ç³»ç»Ÿ(å¤šé“,å¹¶è¡Œ(å®è§‚),ä¸²è¡Œ(å¾®è§‚))<br>å­˜æ”¾<strong>å¤šé“ç¨‹åº</strong><br>ç¼ºç‚¹:ä½œä¸šå¤„ç†æ—¶é—´é•¿,äº¤äº’èƒ½åŠ›å·®,è¿è¡Œæ—¶é—´ä¸ç¡®å®š</li>
<li>åˆ†æ—¶ç³»ç»Ÿ</li>
</ol>
<h4 id="åˆ†æ—¶æŠ€æœ¯ä¸åˆ†æ—¶æ“ä½œç³»ç»Ÿ"><a href="#åˆ†æ—¶æŠ€æœ¯ä¸åˆ†æ—¶æ“ä½œç³»ç»Ÿ" class="headerlink" title="åˆ†æ—¶æŠ€æœ¯ä¸åˆ†æ—¶æ“ä½œç³»ç»Ÿ"></a>åˆ†æ—¶æŠ€æœ¯ä¸åˆ†æ—¶æ“ä½œç³»ç»Ÿ</h4><ul>
<li>ä¸­æ–­æŠ€æœ¯, é€šé“æŠ€æœ¯: ä¸“é—¨å¤„ç†å¤–è®¾ä¸å†…å­˜ä¹‹é—´æ•°æ®ä¼ è¾“çš„å¤„ç†æœº(é€šé“)<br>å¤šç»ˆç«¯è®¡ç®—æœº: <ul>
<li>é«˜æ€§èƒ½ä¸»æœº + å¤šä¸ªç»ˆç«¯<ul>
<li>ä¸»æœº:è¿ç®—,CPUå¼ºå¤§,å¤§å®¹é‡å†…å­˜</li>
<li>ç»ˆç«¯: è¾“å…¥å’Œæ˜¾ç¤º,é€šè¿‡ä¸²å£çº¿è¿œç¨‹è¿æ¥è‡³ä¸»æœº<br>é‡‡ç”¨åˆ†æ—¶æŠ€æœ¯è½®æµä¸ºæ¯ä¸ªç»ˆç«¯æœåŠ¡</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>åˆ†æ—¶æŠ€æœ¯</strong>:    ä¸»æœºä»¥<strong>å¾ˆçŸ­</strong>çš„<strong>æ—¶é—´ç‰‡</strong>ä¸ºå•ä½,æŠŠCPUè½®æµåˆ†ç»™æ¯ä¸ªç»ˆç«¯ä½¿ç”¨,ç›´åˆ°ä½œä¸šå…¨è¢«æ‰§è¡Œå®Œ.ç”±äº<strong>æ—¶é—´ç‰‡</strong>å¾ˆçŸ­,æ¯ä¸ªç»ˆç«¯éƒ½èƒ½å¾ˆå¿«é‡æ–°è·å¾—CPU,å¾—åˆ°åŠæ—¶å“åº”.</p>
<p><strong>ç­‰å¾…å‘¨æœŸ</strong> = <strong>æ—¶é—´ç‰‡</strong> $\times$ ç»ˆç«¯æ•°é‡</p>
<h5 id="åˆ†æ—¶ç³»ç»Ÿçš„ç‰¹ç‚¹"><a href="#åˆ†æ—¶ç³»ç»Ÿçš„ç‰¹ç‚¹" class="headerlink" title="åˆ†æ—¶ç³»ç»Ÿçš„ç‰¹ç‚¹"></a>åˆ†æ—¶ç³»ç»Ÿçš„ç‰¹ç‚¹</h5><ul>
<li>å¤šè·¯è°ƒåˆ¶æ€§:<strong>å¤šç”¨æˆ·</strong>è”æœºä½¿ç”¨åŒä¸€å°è®¡ç®—æœº</li>
<li>äº¤äº’æ€§: åŠæ—¶å“åº”</li>
<li><p>ç‹¬å æ€§: ç”¨æˆ·æ„Ÿè§‰ç‹¬å è®¡ç®—æœº</p>
</li>
<li><p>å¤§å‹åˆ†æ—¶ç³»ç»Ÿçš„å®è·µ:Multics</p>
</li>
</ul>
<h5 id="UNIX"><a href="#UNIX" class="headerlink" title="UNIX"></a>UNIX</h5><ul>
<li>ç¬¬ä¸€ä¸ª<strong>å®ç”¨åŒ–</strong>çš„åˆ†æ—¶æ“ä½œç³»ç»Ÿ</li>
<li>å®ç°äº†æ“ä½œç³»ç»Ÿçš„<strong>å¯ç§»æ¤æ€§</strong></li>
<li>å®ç°äº†ç¡¬ä»¶æ— å…³æ€§</li>
<li>å¼•è¿›äº†ç‰¹æ®Šæ–‡ä»¶çš„æ¦‚å¿µ:<br>æŠŠå¤–è®¾çœ‹ä½œæ–‡ä»¶,å®ç°ç»Ÿä¸€ç®¡ç†</li>
</ul>
<h4 id="å…¸å‹æ“ä½œç³»ç»Ÿç±»å‹"><a href="#å…¸å‹æ“ä½œç³»ç»Ÿç±»å‹" class="headerlink" title="å…¸å‹æ“ä½œç³»ç»Ÿç±»å‹"></a>å…¸å‹æ“ä½œç³»ç»Ÿç±»å‹</h4><ul>
<li>å¾®æœºæ“ä½œç³»ç»Ÿ</li>
<li>å¤šå¤„ç†æœº</li>
<li>ç½‘ç»œ</li>
<li>å®æ—¶</li>
<li>åµŒå…¥å¼</li>
<li>åˆ†å¸ƒå¼</li>
</ul>
<h5 id="å¾®æœºç³»ç»Ÿ"><a href="#å¾®æœºç³»ç»Ÿ" class="headerlink" title="å¾®æœºç³»ç»Ÿ"></a>å¾®æœºç³»ç»Ÿ</h5><p>Control Program Microprocessor </p>
<ul>
<li>è‰¯å¥½çš„å±‚æ¬¡ç»“æ„,<strong>BIOS</strong>å°†æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶åˆ†éš”<br>Mac OSxi</li>
<li>æœ€æ—©ä½¿ç”¨å›¾å½¢ç•Œé¢å’Œé¼ æ ‡çš„æ“ä½œç³»ç»Ÿ<br>MS DOS</li>
<li>ç£ç›˜æ“ä½œç³»ç»Ÿ</li>
<li>å•ç”¨æˆ·å•ä»»åŠ¡<br>Windows</li>
</ul>
<h5 id="å®æ—¶æ“ä½œç³»ç»Ÿ"><a href="#å®æ—¶æ“ä½œç³»ç»Ÿ" class="headerlink" title="å®æ—¶æ“ä½œç³»ç»Ÿ"></a>å®æ—¶æ“ä½œç³»ç»Ÿ</h5><p>äº§ç”ŸèƒŒæ™¯:æŸäº›ä»»åŠ¡<strong>ä¼˜å…ˆç´§æ€¥</strong>å¤„ç†<br>å¼ºè°ƒä½œä¸šå®Œæˆæ—¶é™</p>
<h5 id="åµŒå…¥å¼"><a href="#åµŒå…¥å¼" class="headerlink" title="åµŒå…¥å¼"></a>åµŒå…¥å¼</h5><p>çº¦ç­‰äºå®æ—¶æ“ä½œç³»ç»Ÿ,å®æ—¶OSå¯ä»¥çœ‹ä½œåµŒå…¥å¼OSçš„ä¸€ä¸ªåˆ†æ”¯</p>
<ul>
<li>è½¯ç¡¬ä»¶å¯ä»¥è£å‰ª,è½¯ç¡¬ä»¶ä¸€ä½“åŒ–,è€ƒè™‘æˆæœ¬é€ ä»·éœ€æ±‚ç­‰è‡ªå·±é€‰æ‹©ç¡¬ä»¶å’ŒOS.</li>
<li>å…¸å‹çš„åµŒå…¥å¼æ“ä½œç³»ç»Ÿ:Linux,ucOS</li>
</ul>
<h5 id="ç½‘ç»œæ“ä½œç³»ç»Ÿ"><a href="#ç½‘ç»œæ“ä½œç³»ç»Ÿ" class="headerlink" title="ç½‘ç»œæ“ä½œç³»ç»Ÿ"></a>ç½‘ç»œæ“ä½œç³»ç»Ÿ</h5><p>åœ¨æ™®é€šæ“ä½œç³»ç»Ÿçš„åŸºç¡€ä¸Šå¢åŠ äº†ç½‘ç»œé€šä¿¡å’Œç½‘ç»œæœåŠ¡çš„åŠŸèƒ½,å¸¸è§çš„æ“ä½œç³»ç»Ÿéƒ½æ˜¯ç½‘ç»œæ“ä½œç³»ç»ŸUNIX,LINUX,WINDOWS</p>
<ul>
<li>ç½‘ç»œèµ„æºé€æ˜å­˜å–</li>
<li>å­˜å–æ§åˆ¶</li>
</ul>
<h3 id="æ“ä½œç³»ç»Ÿè¯„ä»·æŒ‡æ ‡"><a href="#æ“ä½œç³»ç»Ÿè¯„ä»·æŒ‡æ ‡" class="headerlink" title="æ“ä½œç³»ç»Ÿè¯„ä»·æŒ‡æ ‡"></a>æ“ä½œç³»ç»Ÿè¯„ä»·æŒ‡æ ‡</h3><ul>
<li>ååç‡: å•ä½æ—¶é—´å¤„ç†ä¿¡æ¯çš„èƒ½åŠ›</li>
<li>å“åº”èƒ½åŠ›: ä»æ¥æ”¶æ•°æ®åˆ°è¾“å‡ºç»“æœçš„æ—¶é—´é—´éš”</li>
<li>èµ„æºåˆ©ç”¨ç‡: è®¾å¤‡çš„ä½¿ç”¨é¢‘åº¦(CPU,å†…å­˜ç­‰ç­‰),ä»¥æ›´ä¼˜åŒ–çš„è°ƒåº¦å’Œç®¡ç†æ–¹å¼è®©CPUå°½å¯èƒ½çš„å¿™ç¢Œ.</li>
<li>å¯ç§»æ¤æ€§:æ”¹å˜ç¡¬ä»¶ç¯å¢ƒä»èƒ½æ­£å¸¸å·¥ä½œçš„èƒ½åŠ›(<strong>ä»£ç ä¿®æ”¹é‡</strong>)</li>
<li>å¯é æ€§:å‘ç°,è¯Šæ–­å’Œæ¢å¤ç³»ç»Ÿæ•…éšœçš„èƒ½åŠ›</li>
</ul>
<h3 id="æ“ä½œç³»ç»Ÿé€»è¾‘ç»“æ„"><a href="#æ“ä½œç³»ç»Ÿé€»è¾‘ç»“æ„" class="headerlink" title="æ“ä½œç³»ç»Ÿé€»è¾‘ç»“æ„"></a>æ“ä½œç³»ç»Ÿé€»è¾‘ç»“æ„</h3><ul>
<li>è®¾è®¡é€»è¾‘å’Œå®ç°æ€è·¯</li>
</ul>
<ol>
<li>æ•´ä½“å¼</li>
<li>å±‚æ¬¡å¼</li>
<li>å¾®å†…æ ¸å¼</li>
</ol>
<h5 id="æ•´ä½“å¼"><a href="#æ•´ä½“å¼" class="headerlink" title="æ•´ä½“å¼"></a>æ•´ä½“å¼</h5><p>ä»¥<strong>æ¨¡å—</strong>ä¸ºåŸºæœ¬å•ä½æ„å»º</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ¨¡å—è®¾è®¡ï¼Œç¼–ç ï¼Œè°ƒè¯•ç‹¬ç«‹</li>
<li>æ¨¡å—è°ƒåº¦è‡ªç”±</li>
<li>é€šä¿¡å¤šä»¥<strong>å…¨å±€å˜é‡</strong>å®Œæˆï¼Œ</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>ä¿¡æ¯ä¼ é€’éšæ„ï¼Œç»´æŠ¤å’Œæ›´æ–°å›°éš¾</li>
</ul>
<h5 id="å±‚æ¬¡å¼"><a href="#å±‚æ¬¡å¼" class="headerlink" title="å±‚æ¬¡å¼"></a>å±‚æ¬¡å¼</h5><p>TCP/IPåè®®æ ˆï¼Œè¶Šå¾€åº•å±‚å’Œç¡¬ä»¶è”ç³»è¶Šç´§å¯†ï¼Œè¶Šå¾€ä¸Šå±‚å’Œç”¨æˆ·è”ç³»è¶Šç´§å¯†</p>
<p>åˆ†å±‚åŸåˆ™ï¼š</p>
<ul>
<li>ç¡¬ä»¶ç›¸å…³â€”â€”æœ€åº•å±‚</li>
<li>å¤–éƒ¨ç‰¹æ€§â€”â€”æœ€å¤–å±‚</li>
<li>ä¸­é—´å±‚â€”â€”è°ƒç”¨æ¬¡åºæˆ–æ¶ˆæ¯ä¼ é€’é¡ºåº</li>
<li>å…±æ€§çš„æœåŠ¡â€”â€”è¾ƒä½å±‚</li>
<li>æ´»è·ƒåŠŸèƒ½â€”â€”è¾ƒä½å±‚</li>
</ul>
<p>ä¼˜ç‚¹ï¼š </p>
<ul>
<li>ç»“æ„æ¸…æ™°ï¼Œé¿å…å¾ªç¯è°ƒç”¨</li>
<li>æ•´ä½“é—®é¢˜å±€éƒ¨åŒ–ï¼Œç³»ç»Ÿçš„æ­£ç¡®æ€§å®¹æ˜“ä¿è¯</li>
<li>æœ‰åˆ©äºæ“ä½œç³»ç»Ÿçš„æ‰©å……ï¼Œç»´æŠ¤å’Œç§»æ¤</li>
</ul>
<h5 id="Linuxå†…æ ¸"><a href="#Linuxå†…æ ¸" class="headerlink" title="Linuxå†…æ ¸"></a>Linuxå†…æ ¸</h5><p>Linux = å†…æ ¸ + shell + X Windows+ åº”ç”¨ç¨‹åº<br>å®å†…æ ¸ç»“æ„<br>å°†å›¾å½¢,è®¾å¤‡é©±åŠ¨,åŠæ–‡ä»¶ç³»ç»Ÿå…¨éƒ¨åŠŸèƒ½éƒ½åœ¨å†…æ ¸å®ç°.</p>
<ul>
<li>ä¼˜ç‚¹: å‡å°‘é€šä¿¡å’ŒçŠ¶æ€åˆ‡æ¢å¼€é”€,è¿è¡Œæ•ˆç‡è¾ƒé«˜</li>
<li></li>
</ul>
<h5 id="å¾®å†…æ ¸-å®¢æˆ·-æœåŠ¡å™¨ç»“æ„"><a href="#å¾®å†…æ ¸-å®¢æˆ·-æœåŠ¡å™¨ç»“æ„" class="headerlink" title="å¾®å†…æ ¸(å®¢æˆ·/æœåŠ¡å™¨ç»“æ„)"></a>å¾®å†…æ ¸(å®¢æˆ·/æœåŠ¡å™¨ç»“æ„)</h5><p>å¾®å†…æ ¸ + æ ¸å¤–æœåŠ¡å™¨</p>
<p>å¾®å†…æ ¸ï¼š æä¾›osæœ€åŸºæœ¬çš„æ ¸å¿ƒåŠŸèƒ½å’ŒæœåŠ¡</p>
<ul>
<li>ä¼˜ç‚¹: å†…æ ¸ä¾¿äºè£å‰ªå’Œç§»æ¤,ç¨³å®šæ€§å’Œå®‰å…¨æ€§è¾ƒé«˜.</li>
<li>å®ç°ä¸ç¡¬ä»¶ç´§å¯†ç›¸å…³çš„å¤„ç†</li>
<li>å®ç°ä¸€äº›è¾ƒåŸºæœ¬çš„åŠŸèƒ½</li>
<li>è´Ÿè´£å®¢æœå’ŒæœåŠ¡å™¨é—´çš„é€šä¿¡<br>æ ¸å¤–æœåŠ¡å™¨ï¼š å®Œæˆosçš„ç»å¤§éƒ¨ä»½æœåŠ¡åŠŸèƒ½ï¼Œç­‰å¾…åº”ç”¨ç¨‹åºæå‡ºè¯·æ±‚</li>
<li>ç”±è‹¥å¹²æœåŠ¡å™¨æˆ–è€…è¿›ç¨‹å…±åŒæ„æˆ</li>
</ul>
<h3 id="CPUçš„æ€"><a href="#CPUçš„æ€" class="headerlink" title="CPUçš„æ€"></a>CPUçš„æ€</h3><p>æ”¯æŒOSæœ€åŸºæœ¬çš„ç¡¬ä»¶ç»“æ„ï¼š</p>
<ol>
<li>CPU</li>
<li>å†…å­˜</li>
<li>ä¸­æ–­</li>
<li>æ—¶é’Ÿ</li>
</ol>
<h3 id="CPUæ€"><a href="#CPUæ€" class="headerlink" title="CPUæ€"></a>CPUæ€</h3><p>CPUçš„å·¥ä½œçŠ¶æ€ï¼Œä¹Ÿæ˜¯ä¸€ç§å¯¹èµ„æºå’ŒæŒ‡ä»¤ä½¿ç”¨æƒé™çš„æè¿°</p>
<p>æ€ä¸»è¦å¯åˆ†ä¸º3ç±»ï¼š</p>
<ol>
<li>æ ¸æ€ï¼ˆkernel mode), å¯è®¿é—®æ‰€æœ‰èµ„æºï¼Œä½¿ç”¨æ‰€æœ‰æŒ‡ä»¤ï¼Œç®¡ç†ç¨‹åºæˆ–OSå†…æ ¸</li>
<li>ç”¨æˆ·æ€(User mode)ï¼Œå¯è®¿é—®éƒ¨åˆ†èµ„æºï¼Œæƒé™å—é™ï¼Œç”¨æˆ·ç¨‹åº</li>
<li>ç®¡æ€(Supervisor mode)ï¼Œä»‹äºäºŒè€…ä¹‹é—´</li>
</ol>
<h4 id="ç”¨æˆ·æ€å’Œæ ¸æ€çš„ç›¸äº’è½¬æ¢"><a href="#ç”¨æˆ·æ€å’Œæ ¸æ€çš„ç›¸äº’è½¬æ¢" class="headerlink" title="ç”¨æˆ·æ€å’Œæ ¸æ€çš„ç›¸äº’è½¬æ¢"></a>ç”¨æˆ·æ€å’Œæ ¸æ€çš„ç›¸äº’è½¬æ¢</h4><p>ç”¨æˆ·æ€å‘æ ¸æ€è½¬æ¢ï¼š</p>
<ul>
<li>ç”¨æˆ·è¯·æ±‚OSæä¾›æœåŠ¡</li>
<li>å‘ç”Ÿä¸­æ–­</li>
<li>ç”¨æˆ·è¿›ç¨‹äº§ç”Ÿé”™è¯¯ï¼ˆäº§ç”Ÿä¸­æ–­ï¼‰</li>
<li>ç”¨æˆ·æ€ä¼å›¾æ‰§è¡Œç‰¹æƒæŒ‡ä»¤</li>
</ul>
<p>æ ¸æ€å‘ç”¨æˆ·æ€è½¬æ¢ï¼š</p>
<ul>
<li>ä¸­æ–­è¿”å›ï¼šIRET</li>
</ul>
<h4 id="ç¡¬ä»¶å’ŒOSå¯¹CPUçš„è§‚å¯Ÿ"><a href="#ç¡¬ä»¶å’ŒOSå¯¹CPUçš„è§‚å¯Ÿ" class="headerlink" title="ç¡¬ä»¶å’ŒOSå¯¹CPUçš„è§‚å¯Ÿ"></a>ç¡¬ä»¶å’ŒOSå¯¹CPUçš„è§‚å¯Ÿ</h4><ul>
<li>ç¡¬ä»¶æŒ‰ç…§<strong>æ€</strong>ï¼Œæ ¸æ€æˆ–è€…ç”¨æˆ·æ€ï¼Œæ¥åŒºåˆ†CPUçš„çŠ¶æ€</li>
<li>OSæŒ‰<strong>è¿›ç¨‹</strong>æ¥åŒºåˆ†CPUçš„çŠ¶æ€ï¼Œè¿›ç¨‹Aï¼Œè¿›ç¨‹Bï¼Œè¿˜æ˜¯è¿›ç¨‹C</li>
</ul>
<h5 id="Intel-CPUçš„æ€"><a href="#Intel-CPUçš„æ€" class="headerlink" title="Intel CPUçš„æ€"></a>Intel CPUçš„æ€</h5><ul>
<li>Ring0ï½Ring3ï¼ˆ0ä¸ºæœ€æ ¸å¿ƒï¼Œ3ä¸ºæœ€å¤–å±‚ï¼‰</li>
<li>ç¨‹åºAè®¿é—®ç¨‹åºBæ—¶éœ€è¦è¿›è¡Œæƒé™çš„æ£€æŸ¥ï¼Œä¹Ÿå°±æ˜¯å¯¹æ€çš„æ£€æŸ¥ï¼Œæ¯”è¾ƒDPLå’ŒRPL</li>
<li>RPLæè¿°ç¨‹åºæ®µçš„å±æ€§</li>
</ul>
<h4 id="å­˜å‚¨ç¨‹åºå’Œæ•°æ®çš„éƒ¨ä»¶"><a href="#å­˜å‚¨ç¨‹åºå’Œæ•°æ®çš„éƒ¨ä»¶" class="headerlink" title="å­˜å‚¨ç¨‹åºå’Œæ•°æ®çš„éƒ¨ä»¶"></a>å­˜å‚¨ç¨‹åºå’Œæ•°æ®çš„éƒ¨ä»¶</h4><ul>
<li><p>æŒ‰ç…§è¯»å†™çš„å·¥ä½œæ–¹å¼ï¼š </p>
<p>RAM</p>
<p>ROM:å›ºå®šåœ¨ä¸»æ¿ä¸Š,æ™®é€šç”¨æˆ·æ— æ³•ç›´æ¥æ›´æ–°å’Œæ‹†é™¤</p>
</li>
<li><p>æŒ‰ç…§ä¸CPUçš„è”ç³»ï¼š<br>ä¸»å­˜:ç›´æ¥ä¸CPUäº¤æ¢ä¿¡æ¯<br>è¾…å­˜:ä¸èƒ½ç›´æ¥ä¸CPUäº¤æ¢ä¿¡æ¯</p>
</li>
</ul>
<h5 id="åˆ†çº§å­˜å‚¨ç³»ç»Ÿçš„å·¥ä½œåŸç†"><a href="#åˆ†çº§å­˜å‚¨ç³»ç»Ÿçš„å·¥ä½œåŸç†" class="headerlink" title="åˆ†çº§å­˜å‚¨ç³»ç»Ÿçš„å·¥ä½œåŸç†"></a>åˆ†çº§å­˜å‚¨ç³»ç»Ÿçš„å·¥ä½œåŸç†</h5><p>CPUè¯»å–æŒ‡ä»¤æˆ–æ•°æ®æ—¶è®¿é—®é¡ºåºï¼š</p>
<ol>
<li>é¦–å…ˆè®¿é—®é«˜é€Ÿç¼“å­˜Cacheä¸­çš„æ•°æ®ï¼Œå¦‚æœéœ€è¦è®¿é—®çš„æ•°æ®åœ¨Cacheä¸­ï¼Œç§°ä¹‹ä¸ºå‘½ä¸­</li>
<li>å¦‚æœæ²¡æœ‰å‘½ä¸­ï¼Œåˆ™CPUä¼šåˆ°ä¸»å­˜ä¸­è®¿é—®ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™MISS</li>
<li>å†åˆ°è¾…å­˜ä¸­è®¿é—®ï¼Œå¦‚æœè¾…å­˜ä¸­ä¹Ÿæ²¡æœ‰ï¼Œåˆ™ç§°ä¹‹ä¸ºç¼ºé¡µ</li>
</ol>
<h3 id="ä¸­æ–­æœºåˆ¶"><a href="#ä¸­æ–­æœºåˆ¶" class="headerlink" title="ä¸­æ–­æœºåˆ¶"></a>ä¸­æ–­æœºåˆ¶</h3><ul>
<li>CPUå¯¹çªå‘å¤–éƒ¨äº‹ä»¶ååº”è¿‡ç¨‹æˆ–æœºåˆ¶</li>
<li>CPUæ”¶åˆ°<strong>å¤–éƒ¨ä¿¡å·</strong>(ä¸­æ–­ä¿¡å·),åœæ­¢å½“å‰å·¥ä½œ,è½¬å»å¤„ç†è¯¥<strong>å¤–éƒ¨ä¿¡å·</strong>,å¤„ç†å®Œæ¯•ä¹‹åå›åˆ°åŸæ¥å·¥ä½œçš„<strong>ä¸­æ–­å¤„</strong>(æ–­ç‚¹)ç»§ç»­åŸæ¥çš„å·¥ä½œ</li>
<li>å¼•å…¥ä¸­æ–­çš„ç›®çš„<ol>
<li>å®ç°å¹¶å‘æ´»åŠ¨</li>
<li>å®ç°å®æ—¶å¤„ç†</li>
<li>æ•…éšœè‡ªåŠ¨å¤„ç†</li>
</ol>
</li>
</ul>
<h4 id="ä¸­æ–­çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ"><a href="#ä¸­æ–­çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ä¸­æ–­çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ"></a>ä¸­æ–­çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ</h4><p>ä¸­æ–­æº: å¼•èµ·ç³»ç»Ÿä¸­æ–­çš„äº‹ä»¶</p>
<p>æ–­ç‚¹: å°†è¦æ‰§è¡Œçš„ä¸‹ä¸€æŒ‡ä»¤çš„åœ°å€:<strong>CS:IP</strong></p>
<p>ç°åœº: ç¨‹åºè¿è¡Œæ‰€ä¾èµ–çš„ä¿¡æ¯é›†åˆ.</p>
<p>ä¸­æ–­ç±»å‹: å¼ºè¿«æ€§ä¸­ä¸­æ–­å’Œè‡ªæ„¿ä¸­æ–­</p>
<ul>
<li>å¼ºè¿«æ€§: ç¨‹åºæ²¡æœ‰é¢„æœŸ,ä¾‹å¦‚: <strong>I/O</strong>,<strong>å¤–éƒ¨ä¸­æ–­</strong></li>
<li>è‡ªæ„¿ä¸­æ–­: ç¨‹åºæœ‰é¢„æœŸçš„,ä¾‹å¦‚: <strong>æ‰§è¡Œè®¿ç®¡æŒ‡ä»¤</strong></li>
</ul>
<p>å¤–ä¸­æ–­(<strong>ä¸­æ–­</strong>)å’Œå†…ä¸­æ–­(<strong>ä¿˜è·</strong>)</p>
<ul>
<li>å¤–ä¸­æ–­:ç”±CPUå¤–éƒ¨äº‹ä»¶å¼•èµ·, ä¾‹å¦‚:  <strong>I/O</strong>, å¤–éƒ¨äº‹æƒ…</li>
<li>å†…ä¸­æ–­: ç”±CPUå†…éƒ¨äº‹ä»¶å¼•èµ·. ä¾‹å¦‚: è®¿ç®¡ä¸­æ–­,ç¨‹åºä¸­æ–­</li>
</ul>
<p>å¤–ä¸­æ–­: ä¸å¯å±è”½å’Œå¯å±è”½</p>
<ul>
<li>ä¸å¯å±è”½ä¸­æ–­: ä¸­æ–­çš„åŸå› å¾ˆç´§è¦,CPUå¿…é¡»å“åº”</li>
<li>å¯å±è”½ä¸­æ–­: ä¸­æ–­çš„åŸå› ä¸å¾ˆç´§è¦,CPUå¯ä»¥ä¸å¿…å“åº”</li>
</ul>
<p>æ–­ç‚¹: ç¨‹åºå°†è¦æ‰§è¡Œçš„ä¸‹ä¸€ä¸ªæŒ‡ä»¤çš„åœ°å€</p>
<p>ç°åœº: ç¨‹åºæ­£ç¡®è¿è¡Œæ‰€ä¾èµ–çš„ä¿¡æ¯é›†åˆ</p>
<ul>
<li>ç›¸å…³å¯„å­˜å™¨çš„å†…å®¹</li>
</ul>
<p>ç°åœºçš„<strong>ä¸¤ä¸ª</strong>å¤„ç†è¿‡ç¨‹</p>
<ul>
<li>ç°åœºçš„ä¿æŠ¤: è¿›å…¥ä¸­æ–­æœåŠ¡ç¨‹åºä¹‹å‰,å°†å¯„å­˜å™¨çš„å€¼å…¥æ ˆ</li>
<li>ç°åœºçš„æ¢å¤: é€€å‡ºä¸­æ–­æœåŠ¡ç¨‹åºä¹‹å,å‡ºæ ˆ</li>
</ul>
<h4 id="ä¸­æ–­å“åº”è¿‡ç¨‹"><a href="#ä¸­æ–­å“åº”è¿‡ç¨‹" class="headerlink" title="ä¸­æ–­å“åº”è¿‡ç¨‹"></a>ä¸­æ–­å“åº”è¿‡ç¨‹</h4><ol>
<li>è¯†åˆ«ä¸­æ–­æº</li>
<li>ä¿æŠ¤æ–­ç‚¹å’Œç°åœº</li>
<li>è£…å…¥<strong>ä¸­æ–­æœåŠ¡ç¨‹åºçš„å…¥å£åœ°å€</strong></li>
<li>è¿›å…¥ä¸­æ–­æœåŠ¡ç¨‹åº</li>
<li>æ¢å¤ç°åœºå’Œæ–­ç‚¹</li>
<li>ä¸­æ–­è¿”å›(<strong>IRET</strong>)</li>
</ol>
<h4 id="ä¸­æ–­å“åº”çš„å®è´¨"><a href="#ä¸­æ–­å“åº”çš„å®è´¨" class="headerlink" title="ä¸­æ–­å“åº”çš„å®è´¨"></a>ä¸­æ–­å“åº”çš„å®è´¨</h4><ul>
<li>äº¤æ¢æŒ‡ä»¤æ‰§è¡Œåœ°å€çš„è¿‡ç¨‹(CS:IPå‘ç”Ÿå˜åŒ–,)</li>
<li>äº¤æ¢äº†CPUçš„æ€:ä¸»ç¨‹åºåœ¨<strong>ç”¨æˆ·æ€</strong>å®Œæˆ,ä¸­æ–­ç¨‹åºåœ¨<strong>æ ¸æ€</strong>å®Œæˆ</li>
<li>å·¥ä½œ:ç°åœºä¿æŠ¤å’Œæ¢å¤.é€šä¿¡</li>
</ul>
<h2 id="æ“ä½œç³»ç»Ÿç”¨æˆ·ç•Œé¢"><a href="#æ“ä½œç³»ç»Ÿç”¨æˆ·ç•Œé¢" class="headerlink" title="æ“ä½œç³»ç»Ÿç”¨æˆ·ç•Œé¢"></a>æ“ä½œç³»ç»Ÿç”¨æˆ·ç•Œé¢</h2><ul>
<li>é‡ç‚¹/éš¾ç‚¹</li>
</ul>
<ol>
<li>æ“ä½œç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹</li>
<li>æ“ä½œç³»ç»Ÿç”Ÿæˆè¿‡ç¨‹</li>
<li>ç³»ç»Ÿè°ƒç”¨æœºåˆ¶</li>
</ol>
<h3 id="æ“ä½œç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹"><a href="#æ“ä½œç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹" class="headerlink" title="æ“ä½œç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹"></a>æ“ä½œç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹</h3><ol>
<li>æ“ä½œç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹<br>å®æ¨¡å¼å’Œä¿æŠ¤æ¨¡å¼</li>
</ol>
<ul>
<li><p>å®æ¨¡å¼(REAL MODE,åˆšåˆšå¼€æœº)</p>
</li>
<li><p>ç¨‹åºæŒ‰ç…§8086å¯»å€æ–¹æ³•,1MBç©ºé—´</p>
</li>
<li><p>å‰é¢640K [00000~9FFFF]: åŸºæœ¬å†…å­˜</p>
</li>
<li><p>ä¸­é—´128K [A0000~BFFFF]: æ˜¾å¡æ˜¾å­˜</p>
</li>
<li><p>æœ«å°¾256K [C0000~FFFFF]: BIOS</p>
<ul>
<li>æ˜¾å¡BIOS<ul>
<li>IDEæ§åˆ¶å™¨BIOS</li>
<li>ç³»ç»Ÿ<strong>BIOS</strong>(é‡ç‚¹)</li>
</ul>
</li>
<li>å¯»å€æ–¹å¼: ç‰©ç†åœ°å€(20ä½) = æ®µåœ°å€(16ä½):åç§»åœ°å€(16ä½)</li>
<li>CPUå•ä»»åŠ¡è¿è¡Œ</li>
</ul>
</li>
<li><p>ä¿æŠ¤æ¨¡å¼(å†…å­˜æ¨¡å¼,PROTECT MODE)</p>
<ul>
<li>å¯»å€æ–¹å¼: æ®µ(<strong>32ä½</strong>)å’Œåç§»é‡(<strong>32ä½</strong>),</li>
<li>å¯å¯»å€<strong>4GB</strong>ç©ºé—´</li>
<li>æ®µé¡µå¼å¯»å€æœºåˆ¶</li>
<li>è™šæ‹Ÿåœ°å€,è¿›ç¨‹,å°é—­ç©ºé—´</li>
<li>CPUæ”¯æŒå¤šä»»åŠ¡</li>
<li>åº”ç”¨ç¨‹åºå’Œæ“ä½œç³»ç»Ÿçš„è¿è¡Œç¯å¢ƒéƒ½è¢«<strong>ä¿æŠ¤</strong>(ä¿æŠ¤äº†å†…å­˜)</li>
</ul>
</li>
</ul>
<h4 id="ç³»ç»ŸBIOS"><a href="#ç³»ç»ŸBIOS" class="headerlink" title="ç³»ç»ŸBIOS"></a>ç³»ç»ŸBIOS</h4><ul>
<li><p>ç³»ç»Ÿå¯åŠ¨é…ç½®</p>
<ul>
<li>åŸºæœ¬è®¾å¤‡IOæœåŠ¡</li>
<li>ç³»ç»ŸåŠ ç”µè‡ªæ£€å’Œå¯åŠ¨</li>
</ul>
<p>æŒ‰ä¸‹<strong>PowerOn</strong>æˆ–è€…Resetæ‰§è¡Œç¬¬ä¸€æ¡æŒ‡ä»¤</p>
<ul>
<li>æ‰§è¡ŒFFFF0å¤„çš„æŒ‡ä»¤: <strong>JUMP POST</strong> ,è·³è½¬åˆ°<strong>åŠ ç”µè‡ªæ£€</strong>å¤„.</li>
</ul>
<p>åŠ ç”µè‡ªæ£€Power On Self-Test</p>
<ul>
<li>åˆå§‹åŒ–åŸºæœ¬ç¡¬ä»¶(CPU,å†…å­˜,æ˜¾å¡)</li>
<li>è‡ªæ£€æ­£å¸¸ä¸æç¤º,é”™è¯¯åˆ™å–‡å­æç¤º</li>
</ul>
<p>åŠ ç”µè‡ªæ£€å®Œæˆå:</p>
<ul>
<li>æŸ¥æ‰¾BIOS,è°ƒç”¨æ˜¾å¡BIOS</li>
<li>æŸ¥æ‰¾å…¶ä»–è®¾å¤‡æ‰§è¡Œç›¸åº”è®¾å¤‡çš„BIOS</li>
<li>æ˜¾ç¤ºå¯åŠ¨ç”»é¢</li>
<li>è¯»å…¥OS,OSæ¥ç®¡è®¡ç®—æœº </li>
</ul>
</li>
</ul>
<h4 id="ä¸»å¯åŠ¨è®°å½•"><a href="#ä¸»å¯åŠ¨è®°å½•" class="headerlink" title="ä¸»å¯åŠ¨è®°å½•"></a><a href="MBR">ä¸»å¯åŠ¨è®°å½•</a></h4><ul>
<li>å­˜æ”¾åœ¨ç¡¬ç›˜/è½¯ç›˜çš„é¦–æ‰‡åŒº<ul>
<li>å­˜æ”¾å’ŒOSå¯åŠ¨çš„ç›¸å…³ä¿¡æ¯,å¦‚è·¯å¾„,éœ€è¦çš„å‚æ•°ç­‰</li>
<li>512MB</li>
<li>ç»“æŸäº0xAA55H</li>
</ul>
</li>
</ul>
<h5 id="MBR-ç¡¬ç›˜åˆ†åŒº-æ ¼å¼åŒ–"><a href="#MBR-ç¡¬ç›˜åˆ†åŒº-æ ¼å¼åŒ–" class="headerlink" title="MBR/ç¡¬ç›˜åˆ†åŒº/æ ¼å¼åŒ–"></a>MBR/ç¡¬ç›˜åˆ†åŒº/æ ¼å¼åŒ–</h5><p>ç¡¬ç›˜çš„<strong>ç¬¬ä¸€ä¸ªæ‰‡åŒº</strong>å­˜æ”¾MBR, å³ä¸»å¯åŠ¨æ‰‡åŒº.å‰©ä¸‹çš„åˆ†åŒºçš„é¦–æ‰‡åŒºè®°å½•ç‰¹æ®Šçš„å†…å®¹,ç§°ä¸º<strong>åˆ†åŒºå¯åŠ¨ä¿¡æ¯</strong></p>
<p>é¦–æ‰‡åŒºçš„æœ€å‰é¢ä¹Ÿæœ‰ä¸€å—ç‰¹æ®Šçš„å†…å®¹,ç§°ä¹‹ä¸º<a href="PBR">ä¸»å¯åŠ¨æ‰‡åŒº</a> , ç”¨äºå¯åŠ¨æ“ä½œç³»ç»Ÿå’ŒåŠ è½½æ“ä½œç³»ç»Ÿ</p>
<h6 id="BIOSå’ŒMBRç¨‹åºè¿è¡Œè¿‡ç¨‹"><a href="#BIOSå’ŒMBRç¨‹åºè¿è¡Œè¿‡ç¨‹" class="headerlink" title="BIOSå’ŒMBRç¨‹åºè¿è¡Œè¿‡ç¨‹"></a>BIOSå’ŒMBRç¨‹åºè¿è¡Œè¿‡ç¨‹</h6><ol>
<li>POST $\rightarrow$ CMOSè®¾ç½®(ç¡¬ç›˜å¯åŠ¨) $\rightarrow$  è¯»å–MBR $\rightarrow$ æ§åˆ¶æƒäº¤ç»™MBR</li>
<li>MBRè¯»å–<a href="Partion Table">åˆ†åŒºè¡¨</a> $\rightarrow$ æ‰¾åˆ°<a href="Active Partion">æ´»åŠ¨åˆ†åŒº</a> , å¹¶ç¡®è®¤å…¶ä»–åˆ†åŒºéƒ½æ˜¯ä¸æ´»åŠ¨åˆ†åŒº $\rightarrow$ è¯»å–æ´»åŠ¨åˆ†åŒºçš„<a href="åˆ†åŒºå¼•å¯¼è®°å½•PBR">ç¬¬ä¸€ä¸ªåˆ†åŒº</a> $\rightarrow$ åŠ è½½åˆ°å†…å­˜</li>
<li>PBRç»§ç»­æ§åˆ¶åé¢çš„å¼•å¯¼è¿‡ç¨‹</li>
</ol>
<h3 id="æ“ä½œç³»ç»Ÿçš„å¯åŠ¨"><a href="#æ“ä½œç³»ç»Ÿçš„å¯åŠ¨" class="headerlink" title="æ“ä½œç³»ç»Ÿçš„å¯åŠ¨"></a>æ“ä½œç³»ç»Ÿçš„å¯åŠ¨</h3><ul>
<li>å¯åŠ¨è¿‡ç¨‹: ä»<strong>åŠ ç”µ</strong> åˆ°<strong>ç”¨æˆ·å·¥ä½œç¯å¢ƒ</strong>å‡†å¤‡å¥½çš„è¿‡ç¨‹</li>
</ul>
<ol>
<li>åˆå§‹å¼•å¯¼</li>
<li>æ ¸å¿ƒåˆå§‹åŒ–</li>
<li>ç³»ç»Ÿåˆå§‹åŒ–</li>
</ol>
<h4 id="åˆå§‹å¼•å¯¼"><a href="#åˆå§‹å¼•å¯¼" class="headerlink" title="åˆå§‹å¼•å¯¼"></a>åˆå§‹å¼•å¯¼</h4><ul>
<li><p>æŠŠOSæ ¸å¿ƒ(ä»¥æ–‡ä»¶çš„æ–¹å¼å­˜åœ¨åœ¨ç¡¬ç›˜ä¸Š)è£…å…¥å†…å­˜,å¹¶ä½¿ä¹‹å¼€å§‹å·¥ä½œæ¥ç®¡æ“ä½œç³»ç»Ÿ</p>
<ul>
<li><p>åŠ ç‚¹,JUMP POST  </p>
</li>
<li><p>BIOSä¸­çš„å¯åŠ¨ç¨‹åºè¿è¡Œ</p>
</li>
</ul>
<p>å¯åŠ¨ç¨‹åº: è¯»å–<a href="0é¢0é“ç¬¬1æ‰‡åŒº">MBR</a>çš„å†…å®¹,åŠ è½½MBRä¸­çš„å¼•å¯¼ç¨‹åº</p>
<p>å¼•å¯¼ç¨‹åº: æ ¹æ®ç›¸å…³å‚æ•°,è¯»å–ç¡¬ç›˜æŒ‡å®šä½ç½®çš„æ–‡ä»¶åˆ°å†…å­˜</p>
<p>åŠ è½½ç¡¬ç›˜ä¸Šçš„OSå†…æ ¸,å¹¶åˆå§‹åŒ–åŸºæœ¬å‚æ•°</p>
</li>
</ul>
<h4 id="æ ¸å¿ƒåˆå§‹åŒ–"><a href="#æ ¸å¿ƒåˆå§‹åŒ–" class="headerlink" title="æ ¸å¿ƒåˆå§‹åŒ–"></a>æ ¸å¿ƒåˆå§‹åŒ–</h4><ul>
<li>OSå†…æ ¸åˆå§‹åŒ–ç³»ç»Ÿçš„æ ¸å¿ƒæ•°æ®</li>
<li>å„ç§å¯„å­˜å™¨çš„åˆå§‹åŒ–</li>
<li>å­˜å‚¨ç³»ç»Ÿå’Œé¡µè¡¨çš„åˆå§‹åŒ–</li>
<li>æ ¸å¿ƒè¿›ç¨‹çš„æ„å»º</li>
</ul>
<h4 id="ç³»ç»Ÿåˆå§‹åŒ–"><a href="#ç³»ç»Ÿåˆå§‹åŒ–" class="headerlink" title="ç³»ç»Ÿåˆå§‹åŒ–"></a>ç³»ç»Ÿåˆå§‹åŒ–</h4><ul>
<li>ä¸ºç”¨æˆ·ä½¿ç”¨ç³»ç»Ÿåšå‡†å¤‡,ä½¿ç³»ç»Ÿå¤„äºå¾…å‘½çŠ¶æ€</li>
</ul>
<h4 id="Windowså¯åŠ¨"><a href="#Windowså¯åŠ¨" class="headerlink" title="Windowså¯åŠ¨"></a>Windowså¯åŠ¨</h4><ol>
<li>POST</li>
</ol>
<ul>
<li>åŠ ç”µå¼BIOSå¯åŠ¨ä¸»æœºè‡ªæ£€</li>
</ul>
<ol>
<li>åˆå§‹å¼•å¯¼</li>
</ol>
<ul>
<li>BIOSä»MBRè¯»å…¥<strong>å¼•å¯¼ç¨‹åº</strong>, è£…å…¥å†…å­˜çš„ç‰¹å®šä½ç½®</li>
<li>å¼•å¯¼ç¨‹åºå¯åŠ¨DOS7.0,è°ƒå…¥æ“ä½œç³»ç»Ÿæ ¸å¿ƒ</li>
<li>WINDOWSæ¥ç®¡ç³»ç»Ÿ</li>
</ul>
<ol>
<li>æ ¸å¿ƒåˆå§‹åŒ–</li>
</ol>
<ul>
<li>èµ„æºçŠ¶æ€,æ ¸å¿ƒæ•°æ®åˆå§‹åŒ–</li>
</ul>
<ol>
<li>ç³»ç»Ÿåˆå§‹åŒ–</li>
</ol>
<ul>
<li>GUIç•Œé¢ç”Ÿæˆ, ç³»ç»Ÿå¤„äºå¾…å‘½/æ¶ˆæ¯æ¥å—çŠ¶æ€</li>
</ul>
<h3 id="æ“ä½œç³»ç»Ÿç”Ÿæˆ"><a href="#æ“ä½œç³»ç»Ÿç”Ÿæˆ" class="headerlink" title="æ“ä½œç³»ç»Ÿç”Ÿæˆ"></a>æ“ä½œç³»ç»Ÿç”Ÿæˆ</h3><ul>
<li>æ»¡è¶³ç‰¹å®šç¡¬ä»¶ç¯å¢ƒå’Œç”¨æˆ·éœ€è¦ï¼Œ<strong>ç»„è£…</strong>å’Œ<strong>æ„å»º</strong>æ“ä½œç³»ç»Ÿçš„è¿‡ç¨‹</li>
</ul>
<h4 id="ä¸»è¦æ­¥éª¤"><a href="#ä¸»è¦æ­¥éª¤" class="headerlink" title="ä¸»è¦æ­¥éª¤"></a>ä¸»è¦æ­¥éª¤</h4><ul>
<li>æ ¹æ®ç¡¬ä»¶ç¯å¢ƒ/ç”¨æˆ·é…ç½®åŠŸèƒ½æ¨¡å—å’Œæ„é€ å‚æ•°</li>
<li><strong><a href="build">æ„å»º</a>OSçš„æ˜ åƒ</strong></li>
</ul>
<h4 id="OSç”Ÿæˆçš„å‰æ"><a href="#OSç”Ÿæˆçš„å‰æ" class="headerlink" title="OSç”Ÿæˆçš„å‰æ"></a>OSç”Ÿæˆçš„å‰æ</h4><ul>
<li>OSç”±å¯æ‹†è£…æ¨¡å—æ„æˆ</li>
<li>æœ‰äº¤äº’å¼é…ç½®å·¥å…·ï¼ˆæ”¹å˜ç°æœ‰å‚æ•°ï¼‰</li>
<li>æœ‰æ˜ åƒ<a href="build">æ„å»º</a>å·¥å…·ï¼Œå°†ç¬¬äºŒæ­¥è·å¾—çš„æºä»£ç ç¼–è¯‘</li>
</ul>
<h5 id="LINUX"><a href="#LINUX" class="headerlink" title="LINUX"></a>LINUX</h5><ol>
<li><p>è·å–Linuxæºä»£ç </p>
</li>
<li><p>é€‰æ‹©å’Œå¯åŠ¨å†…æ ¸é…ç½®ç¨‹åº</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make menuconfig</span><br></pre></td></tr></table></figure>
<ol>
<li>æ ¹æ®éœ€è¦é…ç½®å†…æ ¸æ¨¡å—å’Œå‚æ•°</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Loadable module support	//è®¾ç½®å¯¹å¯åŠ è½½æ¨¡å—çš„æ”¯æŒ</span><br><span class="line">Processor <span class="built_in">type</span> and features	//è®¾ç½®CPUç±»å‹</span><br><span class="line">General setup	//å¯¹æ™®é€šå±æ€§çš„ä¸€äº›è®¾ç½®</span><br><span class="line">Parallel port support //å¹¶å£æ”¯æŒ</span><br><span class="line">Plug and Play configuration //å³æ’å³ç”¨é…ç½®</span><br><span class="line">Block devices	//å—è®¾å¤‡æ”¯æŒçš„é€‰é¡¹</span><br></pre></td></tr></table></figure>
<ol>
<li>é‡æ–°ç¼–è¯‘æ–°çš„å†…æ ¸</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make dep	//ç”Ÿæˆä¾èµ–dependencyä¿¡æ¯</span><br><span class="line">make clean	//æ¸…é™¤æ—§çš„ç¼–è¯‘ç»“æœ</span><br><span class="line">make bzImage	//äºŒè¿›åˆ¶æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<ol>
<li>ç¼–è¯‘å’Œå®‰è£…æ–°çš„æ¨¡å—</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make modules</span><br><span class="line">make modules install	//æ¨¡å—è¢«ç¼–è¯‘ä¸”å®‰è£…åˆ°/usr/lib/å†…æ ¸ç‰ˆæœ¬å·ç›®å½•ä¸‹</span><br></pre></td></tr></table></figure>
<ol>
<li>å¯åŠ¨æ–°å†…æ ¸</li>
</ol>
<h3 id="OSç”¨æˆ·ç•Œé¢"><a href="#OSç”¨æˆ·ç•Œé¢" class="headerlink" title="OSç”¨æˆ·ç•Œé¢"></a>OSç”¨æˆ·ç•Œé¢</h3><ul>
<li>OSæä¾›ç»™ç”¨æˆ·æ§åˆ¶è®¡ç®—æœºçš„æœºåˆ¶ï¼Œåˆç§°ç”¨æˆ·æ¥å£</li>
</ul>
<p>ç”¨æˆ·ç•Œé¢çš„åˆ†ç±»ï¼š</p>
<ul>
<li>æ“ä½œç•Œé¢</li>
<li>ç³»ç»Ÿè°ƒç”¨:ç³»ç»ŸåŠŸèƒ½è°ƒç”¨,ç¨‹åºç•Œé¢</li>
</ul>
<h4 id="æ“ä½œç•Œé¢"><a href="#æ“ä½œç•Œé¢" class="headerlink" title="æ“ä½œç•Œé¢"></a>æ“ä½œç•Œé¢</h4><ul>
<li><p>å›¾å½¢ç”¨æˆ·æ¥å£ï¼ˆGUI,Graphic User Interfaceï¼‰</p>
<p>åŒ…æ‹¬çª—å£ï¼Œå›¾æ ‡ï¼Œèœå•ï¼ŒæŒ‰é’®ï¼Œé¼ æ ‡</p>
</li>
<li><p>é”®ç›˜å‘½ä»¤ï¼ˆCOMMAND)</p>
<ul>
<li>åœ¨æ§åˆ¶å°ä¸‹æ¥å—é”®ç›˜è¾“å…¥çš„å‘½ä»¤</li>
<li>ç±»å‹ï¼š æ™®é€šå‘½ä»¤ï¼Œæ‰¹å¤„ç†ç¨‹åºï¼Œshell</li>
</ul>
</li>
</ul>
<h4 id="Shellè„šæœ¬ç¼–ç¨‹"><a href="#Shellè„šæœ¬ç¼–ç¨‹" class="headerlink" title="Shellè„šæœ¬ç¼–ç¨‹"></a>Shellè„šæœ¬ç¼–ç¨‹</h4><p><a href="Script">è„šæœ¬</a>é€šè¿‡ç±»ä¼¼ç¨‹åºçš„æ–¹å¼æ‰§è¡Œå…·æœ‰ä¸€å®šé€»è¾‘é¡ºåºçš„å‘½ä»¤åºåˆ—å®Œæˆè¾ƒå¤æ‚çš„åŠŸèƒ½å’Œäººæœºäº¤äº’</p>
<ul>
<li>è„šæœ¬ç¨‹åºä¿å­˜åœ¨<strong>æ–‡æœ¬æ–‡ä»¶</strong>ä¸­</li>
<li>è„šæœ¬ç¨‹åºæ˜¯Shellå‘½ä»¤è¯­å¥çš„é›†åˆ</li>
</ul>
<p>mkdir:åˆ›å»ºè·¯å¾„<br>ldconfig:ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ<br>rm: åˆ é™¤æ–‡ä»¶<br>-rf(å‚æ•°)è¡¨ç¤ºåˆ é™¤æ–‡ä»¶å¤¹ä¸­çš„ä¸€ä¸ªå­ç›®å½•</p>
<ul>
<li>æ‰§è¡ŒShellè„šæœ¬æ–‡ä»¶éœ€è¦å…·æœ‰<a href="x">å¯æ‰§è¡Œå±æ€§</a><br><code>Chmod + x MyScript.sh</code>æ¥æ·»åŠ å¯æ‰§è¡Œå±æ€§</li>
</ul>
<h5 id="è¿è¡Œè„šæœ¬ç¨‹åºçš„ä¸‰ä¸ªæ–¹æ³•"><a href="#è¿è¡Œè„šæœ¬ç¨‹åºçš„ä¸‰ä¸ªæ–¹æ³•" class="headerlink" title="è¿è¡Œè„šæœ¬ç¨‹åºçš„ä¸‰ä¸ªæ–¹æ³•"></a>è¿è¡Œè„šæœ¬ç¨‹åºçš„ä¸‰ä¸ªæ–¹æ³•</h5><ol>
<li>ç›´æ¥è¿è¡Œ(ä½¿ç”¨ç¼ºçœç‰ˆæœ¬çš„Shellè¿è¡Œ)</li>
<li>ä½¿ç”¨æŸä¸ªç‰¹å®šç‰ˆæœ¬çš„Shellæ‰§è¡Œè„šæœ¬</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ bash first_script</span><br></pre></td></tr></table></figure>
<ul>
<li>æŒ‡å®šä¸€ä¸ªç‰¹å®šç‰ˆæœ¬çš„shellç‰ˆæœ¬(æ­¤ä¾‹æ˜¯<strong>bash</strong>)</li>
<li>é€è¡Œæ‰§è¡Œè„šæœ¬ä¸­çš„å‘½ä»¤</li>
<li>å½“è„šæœ¬æ–‡ä»¶ä¸­çš„å‘½ä»¤ä¾æ¬¡æ‰§è¡Œå®Œæ¯•,ä¸´æ—¶å­shell<strong>è‡ªåŠ¨ç»“æŸè¿è¡Œ</strong>,è¿”å›ç”¨æˆ·åŸæ¥ä½¿ç”¨çš„shell</li>
</ul>
<ol>
<li>åœ¨è„šæœ¬æ–‡ä»¶<strong>é¦–è¡Œ</strong>æŒ‡å®šshell</li>
</ol>
<ul>
<li>åœ¨è„šæœ¬æ–‡ä»¶å¼€å¤´å¢åŠ ä¸€è¡Œ``#!/bin/bash â€”#!å¿…é¡»é¡¶æ ¼,åé¢æ¥shellå…¨è·¯å¾„</li>
<li>å¯ä»¥ä»/etc/shellè·çŸ¥æ‰€æœ‰å¯ç”¨shellåŠå…¶ç»å¯¹è·¯å¾„</li>
</ul>
<h4 id="ç³»ç»Ÿè°ƒç”¨"><a href="#ç³»ç»Ÿè°ƒç”¨" class="headerlink" title="ç³»ç»Ÿè°ƒç”¨"></a>ç³»ç»Ÿè°ƒç”¨</h4><ul>
<li>æ“ä½œç³»ç»Ÿ<strong>å†…æ ¸</strong>ä¸ºåº”ç”¨ç¨‹åºæä¾›çš„<strong>æœåŠ¡</strong>/<strong>å‡½æ•°</strong></li>
</ul>
<p>ç‰¹ç‚¹: </p>
<ol>
<li>ä¸€èˆ¬æ¶‰åŠæ ¸å¿ƒèµ„æºæˆ–ç¡¬ä»¶çš„æ“ä½œ</li>
<li>è¿è¡Œäºæ ¸æ€</li>
<li>æ¯ä¸ªç³»ç»Ÿè°ƒç”¨å…·æœ‰<strong>å”¯ä¸€çš„ç¼–å·</strong></li>
<li>è°ƒç”¨è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿ<strong>ä¸­æ–­</strong>.è‡ªæ„¿ä¸­æ–­</li>
</ol>
<h5 id="Linuxåˆ©ç”¨INT-80Hä¸­æ–­å®ç°ç³»ç»Ÿè°ƒç”¨"><a href="#Linuxåˆ©ç”¨INT-80Hä¸­æ–­å®ç°ç³»ç»Ÿè°ƒç”¨" class="headerlink" title="Linuxåˆ©ç”¨INT 80Hä¸­æ–­å®ç°ç³»ç»Ÿè°ƒç”¨"></a>Linuxåˆ©ç”¨INT 80Hä¸­æ–­å®ç°ç³»ç»Ÿè°ƒç”¨</h5><ul>
<li>åˆ©ç”¨<strong>EAXå¯„å­˜å™¨</strong>å­˜æ”¾ç³»ç»Ÿè°ƒç”¨çš„ç¼–å·</li>
</ul>
<h5 id="éšå¼ç³»ç»Ÿè°ƒç”¨"><a href="#éšå¼ç³»ç»Ÿè°ƒç”¨" class="headerlink" title="éšå¼ç³»ç»Ÿè°ƒç”¨"></a>éšå¼ç³»ç»Ÿè°ƒç”¨</h5><ul>
<li>ç±»ä¼¼APIå‡½æ•°</li>
<li>åœ¨é«˜çº§è¯­è¨€ä¸­ä½¿ç”¨</li>
<li>åœ¨ç³»ç»Ÿå†…éƒ¨è½¬æ¢ä¸ºåŒ…å«<strong>INT 80H</strong>çš„æŒ‡ä»¤,æ‰§è¡Œç›¸åº”çš„ç³»ç»Ÿè°ƒç”¨</li>
</ul>
<h5 id="Linuxç³»ç»Ÿè°ƒç”¨çš„å·¥ä½œåŸç†"><a href="#Linuxç³»ç»Ÿè°ƒç”¨çš„å·¥ä½œåŸç†" class="headerlink" title="Linuxç³»ç»Ÿè°ƒç”¨çš„å·¥ä½œåŸç†"></a>Linuxç³»ç»Ÿè°ƒç”¨çš„å·¥ä½œåŸç†</h5><h2 id="è¿›ç¨‹ç®¡ç†"><a href="#è¿›ç¨‹ç®¡ç†" class="headerlink" title="è¿›ç¨‹ç®¡ç†"></a>è¿›ç¨‹ç®¡ç†</h2><ul>
<li>é‡ç‚¹æŒæ¡<strong>çº¿ç¨‹</strong>,<strong>åŒæ­¥å’ŒP-Væ“ä½œ</strong>, <strong>Windowså’ŒLinuxåŒæ­¥æœºåˆ¶</strong>,<strong>è¿›ç¨‹é€šä¿¡</strong></li>
</ul>
<p>OSåŒºåˆ«ä¸åº”ç”¨è½¯ä»¶æœ€æ ¸å¿ƒçš„åŠŸèƒ½åœ¨äºOSæœ‰è¿›ç¨‹ç®¡ç†åŠŸèƒ½å’Œå†…å­˜ç®¡ç†åŠŸèƒ½ï¼Œå¦‚æœä¸€ä¸ªåº”ç”¨è½¯ä»¶å…·æœ‰ä¸Šè¿°ä¸¤ä¸ªåŠŸèƒ½æˆ‘ä»¬å¯ä»¥æŠŠä»–çœ‹åšä¸€ä¸ªOS</p>
<h3 id="è¿›ç¨‹æ¦‚å¿µ"><a href="#è¿›ç¨‹æ¦‚å¿µ" class="headerlink" title="è¿›ç¨‹æ¦‚å¿µ"></a>è¿›ç¨‹æ¦‚å¿µ</h3><h4 id="è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µ"><a href="#è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µ"></a>è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µ</h4><ul>
<li>ç¨‹åºåœ¨å¹¶å‘ç¯å¢ƒä¸­çš„é—®é¢˜:</li>
</ul>
<ol>
<li>è¿è¡Œè¿‡ç¨‹ä¸ç¡®å®š,ä¸€ä¸ªç¨‹åºä»€ä¹ˆæ—¶å€™æš‚åœä»€ä¹ˆæ—¶å€™ç»§ç»­,ç¨‹åºå‘˜æ— æ³•æ§åˆ¶.å®Œå…¨ç”±æ“ä½œç³»ç»Ÿæ§åˆ¶</li>
<li>ç»“æœä¸å¯å†ç°.å¯èƒ½å—åˆ°å¹²æ‰°,å¹²æ‰°çš„ç»“æœä¸å¯ç¡®å®š<br>è§£å†³æ–¹æ¡ˆ: å¯¹è¿è¡Œè¿‡ç¨‹æ–½åŠ ç›¸äº’çº¦æŸ</li>
</ol>
<ul>
<li>æ–°çš„æ¦‚å¿µ:è¿›ç¨‹<br>æè¿°å’Œç®¡ç†ç¨‹åº<strong>è¿è¡Œè¿‡ç¨‹</strong><br>ç¨‹åºåœ¨æŸä¸ªæ•°æ®é›†åˆä¸Šçš„<strong>ä¸€æ¬¡</strong> <strong>è¿è¡Œæ´»åŠ¨</strong></li>
<li>æ•°æ®é›†åˆ: è½¯/ç¡¬ä»¶ç¯å¢ƒ,å¤šä¸ªè¿›ç¨‹å…±å­˜/å…±äº«çš„ç¯å¢ƒ</li>
<li>è¿›ç¨‹çš„ç‰¹æ€§:</li>
</ul>
<ol>
<li>åŠ¨æ€æ€§<br>è¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹,åŠ¨æ€åœ°äº§ç”Ÿ/æ¶ˆäº¡</li>
<li>å¹¶å‘æ€§<br>è¿›ç¨‹åŒå…¶ä»–è¿›ç¨‹ä¸€èµ·å‘å‰æ¨è¿›</li>
<li>å¼‚æ­¥æ€§<br>è¿›ç¨‹æŒ‰ç…§å„è‡ªçš„é€Ÿåº¦å‘å‰æ¨è¿›</li>
<li>ç‹¬ç«‹æ€§<br>è¿›ç¨‹æ˜¯OSåˆ†é…èµ„æºå’Œè°ƒåº¦CPUçš„å•ä½</li>
</ol>
<h6 id="è¿›ç¨‹å’Œç¨‹åºçš„åŒºåˆ«"><a href="#è¿›ç¨‹å’Œç¨‹åºçš„åŒºåˆ«" class="headerlink" title="ã€€è¿›ç¨‹å’Œç¨‹åºçš„åŒºåˆ«"></a>ã€€è¿›ç¨‹å’Œç¨‹åºçš„åŒºåˆ«</h6><ul>
<li>é™æ€å’ŒåŠ¨æ€</li>
</ul>
<ol>
<li>è¿›ç¨‹æ˜¯åŠ¨æ€çš„:ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹</li>
<li>ç¨‹åºæ˜¯é™æ€çš„:ä¸€ç»„æŒ‡ä»¤çš„æœ‰æ•ˆé›†åˆ</li>
</ol>
<ul>
<li>æš‚å­˜å’Œé•¿å­˜</li>
</ul>
<ol>
<li>è¿›ç¨‹æ˜¯æš‚å­˜çš„: åœ¨<strong>å†…å­˜</strong>ä¸Šé©»ç•™</li>
<li>ç¨‹åºæ˜¯é•¿å­˜çš„: åœ¨ä»‹è´¨ä¸Šé•¿æœŸä¿å­˜</li>
</ol>
<ul>
<li>ç¨‹åºå’Œè¿›ç¨‹çš„å¯¹åº”<br>ä¸€ä¸ªç¨‹åºå¯èƒ½æœ‰å¤šä¸ªè¿›ç¨‹</li>
</ul>
<h5 id="è¿›ç¨‹çš„ç±»å‹"><a href="#è¿›ç¨‹çš„ç±»å‹" class="headerlink" title="è¿›ç¨‹çš„ç±»å‹"></a>è¿›ç¨‹çš„ç±»å‹</h5><ul>
<li>æŒ‰ç…§ä½¿ç”¨èµ„æºçš„æƒé™</li>
</ul>
<ol>
<li>ç³»ç»Ÿè¿›ç¨‹:æŒ‡ç³»ç»Ÿå†…æ ¸ç›¸å…³å’Œè¿›ç¨‹</li>
<li>ç”¨æˆ·è¿›ç¨‹: æŒ‡è¿è¡Œäºç”¨æˆ·æ€çš„è¿›ç¨‹</li>
</ol>
<ul>
<li>æŒ‰å¯¹CPUçš„ä¾èµ–æ€§</li>
</ul>
<ol>
<li>åCPUè¿›ç¨‹: è®¡ç®—å‹è¿›ç¨‹: å¦‚ç§‘å­¦è®¡ç®—ç­‰</li>
<li>åI/Oè¿›ç¨‹: ä¾§é‡äºI/Oçš„è¿›ç¨‹</li>
</ol>
<h4 id="è¿›ç¨‹çŠ¶æ€"><a href="#è¿›ç¨‹çŠ¶æ€" class="headerlink" title="è¿›ç¨‹çŠ¶æ€"></a>è¿›ç¨‹çŠ¶æ€</h4><ul>
<li>è¿è¡ŒçŠ¶æ€(Running)<br>è¿›ç¨‹å·²ç»å æœ‰CPU,åœ¨CPUä¸Šè¿è¡Œ,å¯¹äºå¤§å¤šæ•°è®¡ç®—æœºæ¥è¯´åªæœ‰ä¸€ä¸ªCPUæ‰€ä»¥åªæœ‰ä¸€ä¸ªè¿›ç¨‹èƒ½å¤ŸçœŸæ­£çš„å ç”¨CPU</li>
<li>å°±ç»ªçŠ¶æ€(Ready)<br>å…·å¤‡è¿è¡Œæ¡ä»¶,ä½†ç”±äº<strong>æ— CPU</strong>,æš‚æ—¶ä¸èƒ½è¿è¡Œ</li>
<li>é˜»å¡çŠ¶æ€(Block)æˆ–ç­‰å¾…çŠ¶æ€(Wait)<br>å› ä¸ºç­‰å¾…æŸé¡¹æœåŠ¡å®Œæˆæˆ–ä¿¡å·ä¸èƒ½è¿è¡Œçš„çŠ¶æ€,å¦‚ç­‰å¾…: ç³»ç»Ÿè°ƒç”¨, I/Oæ“ä½œ, åˆä½œè¿›ç¨‹ä¿¡å·</li>
</ul>
<h5 id="æ”¯æŒæŒ‚èµ·-suspend-å’Œè§£æŒ‚-resume-æ“ä½œ"><a href="#æ”¯æŒæŒ‚èµ·-suspend-å’Œè§£æŒ‚-resume-æ“ä½œ" class="headerlink" title="æ”¯æŒæŒ‚èµ·(suspend)å’Œè§£æŒ‚(resume)æ“ä½œ"></a>æ”¯æŒæŒ‚èµ·(suspend)å’Œè§£æŒ‚(resume)æ“ä½œ</h5><ul>
<li>æŒ‚èµ·: ç”¨æˆ·æˆ–è€…OSå°†è¿›ç¨‹æœ‰æ„æš‚åœ</li>
<li>è§£æŒ‚: å°†æŒ‚èµ·çš„è¿›ç¨‹ç»§ç»­</li>
<li>é˜»å¡: æ´»åŠ¨é˜»å¡(æ­£å¸¸é˜»å¡)å’Œé™æ­¢é˜»å¡(é˜»å¡æ—¶æŒ‚èµ·)</li>
<li>å°±ç»ª: æ´»åŠ¨å°±ç»ª(æ­£å¸¸å°±ç»ª)å’Œé™æ­¢å°±ç»ª(å°±ç»ªæ—¶æŒ‚èµ·)</li>
</ul>
<h5 id="è¿›ç¨‹çŠ¶æ€çš„å˜è¿"><a href="#è¿›ç¨‹çŠ¶æ€çš„å˜è¿" class="headerlink" title="ã€€è¿›ç¨‹çŠ¶æ€çš„å˜è¿"></a>ã€€è¿›ç¨‹çŠ¶æ€çš„å˜è¿</h5><p>è¿›ç¨‹çš„çŠ¶æ€å¯ä»¥ä¾æ®ä¸€å®šçš„æ¡ä»¶ç›¸äº’è½¬åŒ–ï¼</p>
<ol>
<li><p>å°±ç»ª$ \rightarrow$ è¿è¡Œ<br>è¿›ç¨‹è°ƒåº¦</p>
<ol>
<li>è¿è¡Œ$ \rightarrow$ å°±ç»ª<br>æ—¶é—´ç‰‡åˆ°äº†,æˆ–è€…ä¼˜å…ˆçº§æ›´é«˜çš„è¿›ç¨‹æŠ¢å äº†CPU</li>
<li>è¿è¡Œ$ \rightarrow$ é˜»å¡<br>è¯·æ±‚OSæä¾›æœåŠ¡,ç­‰å¾…æŸä¸ªä¿¡å·çš„åˆ°æ¥</li>
<li>é˜»å¡$ \rightarrow$ å°±ç»ª<br>ç­‰å¾…çš„æœåŠ¡å®Œæˆ äº†,ç­‰å¾…çš„ä¿¡å·åˆ°æ¥äº†</li>
</ol>
<h4 id="è¿›ç¨‹æ§åˆ¶å—-Process-Control-Block"><a href="#è¿›ç¨‹æ§åˆ¶å—-Process-Control-Block" class="headerlink" title="è¿›ç¨‹æ§åˆ¶å—(Process Control Block)"></a>è¿›ç¨‹æ§åˆ¶å—(Process Control Block)</h4><ul>
<li>æè¿°è¿›ç¨‹çŠ¶æ€,èµ„æº,å’Œç›¸å…³è¿›ç¨‹å…³ç³»çš„<strong>æ•°æ®ç»“æ„</strong></li>
<li>PCBæ˜¯è¿›ç¨‹çš„<strong>æ ‡å¿—</strong></li>
<li>åˆ›å»ºè¿›ç¨‹æ—¶åˆ›å»ºPCB,è¿›ç¨‹æ’¤é”€åPCBåŒæ—¶æ’¤é”€</li>
</ul>
</li>
</ol>
<p>è¿›ç¨‹= ç¨‹åº + PCB. ç¨‹åºåŒ…å«ä»£ç å’Œæ•°æ®</p>
<h6 id="PCBçš„æ•°æ®ç»“æ„"><a href="#PCBçš„æ•°æ®ç»“æ„" class="headerlink" title="PCBçš„æ•°æ®ç»“æ„"></a>PCBçš„æ•°æ®ç»“æ„</h6><ol>
<li>name(ID): è¿›ç¨‹åç§°,æ ‡è¯†ç¬¦</li>
<li>status: çŠ¶æ€</li>
<li>next: æŒ‡å‘ä¸‹ä¸€ä¸ªPCBçš„æŒ‡é’ˆ</li>
<li>start_addr: ç¨‹åºåœ°å€</li>
<li>priority: ä¼˜å…ˆçº§</li>
<li>cpu_status: ç°åœºä¿ç•™åŒº(å †æ ˆ)</li>
<li>comm_info: è¿›ç¨‹é€šä¿¡</li>
<li>process_family: å®¶æ—</li>
<li>own_resource: èµ„æº</li>
</ol>
<h5 id="è¿›ç¨‹çš„åˆ‡æ¢"><a href="#è¿›ç¨‹çš„åˆ‡æ¢" class="headerlink" title="è¿›ç¨‹çš„åˆ‡æ¢"></a>è¿›ç¨‹çš„åˆ‡æ¢</h5><ul>
<li>è¿›ç¨‹çš„ä¸Šä¸‹æ–‡:Context,è¿›ç¨‹çš„è¿è¡Œç¯å¢ƒ,CPUç¯å¢ƒ<br>è¿›ç¨‹çš„åˆ‡æ¢è¿‡ç¨‹</li>
<li>æ¢å…¥è¿›ç¨‹çš„ä¸Šä¸‹æ–‡è¿›å…¥CPU,ä»<strong>æ ˆ</strong>ä¸Šè¯»å…¥,åŒæ—¶æ›´æ–°å¯„å­˜å™¨çš„ä¿¡æ¯</li>
<li>æ¢å‡ºè¿›ç¨‹çš„ä¸Šä¸‹æ–‡ç¦»å¼€CPU,ä¿å­˜åˆ°<strong>æ ˆ</strong>ä¸­,å°†æ¥CPUé‡æ–°è¯»å–è¿›ç¨‹çš„æ—¶å€™å°±ä»æ ˆä¸Šè¯»å–</li>
</ul>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<h3 id="è¿›ç¨‹æ§åˆ¶"><a href="#è¿›ç¨‹æ§åˆ¶" class="headerlink" title="è¿›ç¨‹æ§åˆ¶"></a>è¿›ç¨‹æ§åˆ¶</h3><ul>
<li>è¿›ç¨‹ç”Ÿå­˜æœŸé—´å¯¹å…¶å…¨éƒ¨è¡Œä¸ºçš„æ§åˆ¶</li>
</ul>
<p>å››ä¸ªå…¸å‹æ§åˆ¶è¡Œä¸º: </p>
<ol>
<li>åˆ›å»ºè¿›ç¨‹</li>
<li>æ’¤é”€è¿›ç¨‹</li>
<li>é˜»å¡è¿›ç¨‹</li>
<li>å”¤é†’è¿›ç¨‹</li>
</ol>
<h4 id="è¿›ç¨‹åˆ›å»º"><a href="#è¿›ç¨‹åˆ›å»º" class="headerlink" title="è¿›ç¨‹åˆ›å»º"></a>è¿›ç¨‹åˆ›å»º</h4><ul>
<li>åŠŸèƒ½: åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šæ ‡è¯†çš„è¿›ç¨‹</li>
<li>å‚æ•°: è¿›ç¨‹æ ‡è¯†,ä¼˜å…ˆçº§,è¿›ç¨‹èµ·å§‹åœ°å€,CPUåˆå§‹çŠ¶æ€,èµ„æºæ¸…å•</li>
</ul>
<h6 id="åˆ›å»ºè¿›ç¨‹çš„è¿‡ç¨‹"><a href="#åˆ›å»ºè¿›ç¨‹çš„è¿‡ç¨‹" class="headerlink" title="åˆ›å»ºè¿›ç¨‹çš„è¿‡ç¨‹"></a>åˆ›å»ºè¿›ç¨‹çš„è¿‡ç¨‹</h6><ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºçš„PCB</li>
<li>è·å¾—å¹¶èµ‹äºˆè¿›ç¨‹æ ‡è¯†ç¬¦ID</li>
<li>ä¸ºè¿›ç¨‹åˆ†é…ç©ºé—´</li>
<li>åˆå§‹åŒ–PCBçš„æˆå‘˜å˜é‡</li>
<li>æ’å…¥ç›¸åº”çš„è¿›ç¨‹é˜Ÿåˆ—(æ–°è¿›ç¨‹æ’å…¥å°±ç»ªé˜Ÿåˆ—)<br>æˆ‘ä»¬æ€»æ˜¯é»˜è®¤æ–°åˆ›å»ºçš„è¿›ç¨‹æ˜¯<strong>å°±ç»ªçš„</strong> ,åªè¦ç»™ä»–CPUç«‹åˆ»å°±å¯ä»¥è¿è¡Œ</li>
</ol>
<h4 id="è¿›ç¨‹æ’¤é”€"><a href="#è¿›ç¨‹æ’¤é”€" class="headerlink" title="è¿›ç¨‹æ’¤é”€"></a>è¿›ç¨‹æ’¤é”€</h4><ul>
<li>åŠŸèƒ½: æ’¤é”€ä¸€ä¸ªæŒ‡å®šçš„è¿›ç¨‹,æ”¶å›è¿›ç¨‹æ‰€å æœ‰çš„èµ„æº,æ’¤é”€è¯¥è¿›ç¨‹çš„PCB</li>
<li>æ’¤é”€è¿›ç¨‹çš„æ—¶æœº/äº‹ä»¶</li>
</ul>
<ol>
<li>æ­£å¸¸ç»“æŸ</li>
<li>å¼‚å¸¸ç»“æŸ</li>
<li>å¤–ç•Œå¹²é¢„</li>
</ol>
<ul>
<li>å‚æ•°: è¢«æ’¤é”€çš„è¿›ç¨‹ID</li>
</ul>
<h6 id="æ’¤é”€çš„è¿‡ç¨‹"><a href="#æ’¤é”€çš„è¿‡ç¨‹" class="headerlink" title="æ’¤é”€çš„è¿‡ç¨‹"></a>æ’¤é”€çš„è¿‡ç¨‹</h6><ol>
<li>åœ¨PCBé˜Ÿåˆ—ä¸­æ£€ç´¢å‡ºè¯¥PCB</li>
<li>è·å–è¯¥è¿›ç¨‹çš„çŠ¶æ€</li>
<li>è‹¥è¯¥è¿›ç¨‹å¤„åœ¨è¿è¡Œæ€,ç«‹å³ç»ˆæ­¢è¯¥è¿›ç¨‹<br>è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„,åœ¨OSä¸­,ä¸€ä¸ªæ“ä½œç³»ç»Ÿå¯èƒ½æœ‰<strong>çˆ¶è¿›ç¨‹</strong>ä¹Ÿå¯èƒ½æœ‰<strong>å­è¿›ç¨‹</strong>,å¦‚æœè¦è¢«æ’¤é”€çš„è¿›ç¨‹å­˜åœ¨<strong>å­è¿›ç¨‹</strong>,é‚£ä¹ˆæˆ‘ä»¬éœ€è¦å…ˆæ’¤é”€ä»–çš„<strong>å­è¿›ç¨‹</strong>(é€’å½’è¿‡ç¨‹)</li>
<li>é‡Šæ”¾è¿›ç¨‹æ‰€å æœ‰çš„èµ„æº</li>
<li>å°†è¿›ç¨‹ä»PCBé˜Ÿåˆ—ç§»é™¤</li>
</ol>
<h5 id="è¿›ç¨‹é˜»å¡"><a href="#è¿›ç¨‹é˜»å¡" class="headerlink" title="è¿›ç¨‹é˜»å¡"></a>è¿›ç¨‹é˜»å¡</h5><ul>
<li>åŠŸèƒ½: åœæ­¢è¿›ç¨‹çš„æ‰§è¡Œ.å˜ä¸ºé˜»å¡</li>
<li>é˜»å¡çš„æ—¶é—´/äº‹ä»¶</li>
</ul>
<ol>
<li>è¯·æ±‚ç³»ç»ŸæœåŠ¡:ç”±äºæŸç§åŸå› ,OSä¸èƒ½ç«‹å³æ»¡è¶³è¿›ç¨‹çš„è¦æ±‚</li>
<li>å¯åŠ¨æŸç§æ“ä½œ: è¿›ç¨‹å¯åŠ¨æŸç§æ“ä½œ,é˜»å¡ç­‰å¾…è¯¥è¿›ç¨‹æ‰§è¡Œå®Œæ¯•</li>
<li>æ–°æ•°æ®å°šæœªåˆ°è¾¾: Aè¿›ç¨‹éœ€è¦è·å¾—Bè¿›ç¨‹çš„<strong>ä¸­é—´ç»“æœ</strong> Aè¿›ç¨‹ç­‰å¾…</li>
<li>æ— æ–°å·¥ä½œå¯åš: è¿›ç¨‹å®Œæˆä»»åŠ¡å,<strong>è‡ªæˆ‘é˜»å¡</strong> ç­‰å¾…æ–°ä»»åŠ¡åˆ°è¾¾</li>
</ol>
<ul>
<li>å‚æ•°: <strong>é˜»å¡åŸå› </strong>, ä¸åŒçš„é˜»å¡åŸå› æ„å»ºä¸åŒçš„é˜»å¡é˜Ÿåˆ—</li>
</ul>
<h5 id="é˜»å¡çš„å®ç°"><a href="#é˜»å¡çš„å®ç°" class="headerlink" title="é˜»å¡çš„å®ç°"></a>é˜»å¡çš„å®ç°</h5><ol>
<li>åœæ­¢è¿è¡Œ</li>
<li>å°†PCB<strong>è¿è¡Œæ€</strong>æ”¹ä¸º<strong>é˜»å¡æ€</strong></li>
<li>æ’å…¥ç›¸åº”åŸå› çš„é˜»å¡é˜Ÿåˆ—</li>
<li>è½¬è°ƒåº¦ç¨‹åº</li>
</ol>
<h4 id="è¿›ç¨‹å”¤é†’"><a href="#è¿›ç¨‹å”¤é†’" class="headerlink" title="è¿›ç¨‹å”¤é†’"></a>è¿›ç¨‹å”¤é†’</h4><ul>
<li>åŠŸèƒ½: å”¤é†’å¤„äº<strong>é˜»å¡é˜Ÿåˆ—</strong>å½“ä¸­çš„æŸä¸ªè¿›ç¨‹</li>
<li>å‚æ•°: è¢«å”¤é†’è¿›ç¨‹çš„ID</li>
<li>å¼•èµ·å”¤é†’çš„æ—¶æœº/äº‹ä»¶</li>
</ul>
<ol>
<li>ç³»ç»ŸæœåŠ¡ç”±ä¸æ»¡åˆ°æ»¡è¶³</li>
<li>I/Oå®Œæˆ</li>
<li>æ–°æ•°æ®åˆ°è¾¾</li>
<li>è¿›ç¨‹æå‡ºæ–°è¯·æ±‚(æœåŠ¡)</li>
</ol>
<h4 id="è¿›ç¨‹æ§åˆ¶åŸè¯­"><a href="#è¿›ç¨‹æ§åˆ¶åŸè¯­" class="headerlink" title="è¿›ç¨‹æ§åˆ¶åŸè¯­"></a>è¿›ç¨‹æ§åˆ¶åŸè¯­</h4><ul>
<li>ç”±è‹¥å¹²æŒ‡ä»¤æ„æˆçš„å…·æœ‰ç‰¹å®šåŠŸèƒ½çš„å‡½æ•°</li>
<li>å…·æœ‰<strong>åŸå­æ€§</strong>,æ“ä½œä¸å¯åˆ†å‰²,è¦ä¹ˆæ‰§è¡ŒæˆåŠŸ,è¦ä¹ˆæ‰§è¡Œå¤±è´¥,ä¸­é€”ä¸å¯åœä¸‹</li>
</ul>
<p>è¿›ç¨‹æ§åˆ¶åŸè¯­:</p>
<ol>
<li>åˆ›å»º</li>
<li>æ’¤é”€</li>
<li>é˜»å¡</li>
<li>å”¤é†’</li>
</ol>
<h3 id="Windowsæ§åˆ¶è¿›ç¨‹"><a href="#Windowsæ§åˆ¶è¿›ç¨‹" class="headerlink" title="Windowsæ§åˆ¶è¿›ç¨‹"></a>Windowsæ§åˆ¶è¿›ç¨‹</h3><ul>
<li>åˆ›å»ºè¿›ç¨‹çš„æ–¹æ³•: ç‚¹å‡»å›¾æ ‡,å¯åŠ¨/åˆ›å»ºè¿›ç¨‹</li>
</ul>
<h3 id="Linuxè¿›ç¨‹æ§åˆ¶"><a href="#Linuxè¿›ç¨‹æ§åˆ¶" class="headerlink" title="Linuxè¿›ç¨‹æ§åˆ¶"></a>Linuxè¿›ç¨‹æ§åˆ¶</h3><ul>
<li>åˆ›å»ºè¿›ç¨‹fork(),è¿”å›ä¸€ä¸ªpid_tçš„æ•´å½¢å€¼<br>ä¾‹å¦‚,<code>pid_t pid = fork()</code></li>
<li>æ–°å»ºè¿›ç¨‹æ˜¯å½“å‰è¿›ç¨‹çš„<strong>å­è¿›ç¨‹</strong>,åœ¨Linuxä¸­æ‰€æœ‰çš„è¿›ç¨‹éƒ½å…·æœ‰å®¶æ—å…³ç³»</li>
<li>çˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹<br>çˆ¶è¿›ç¨‹: fork()çš„è°ƒç”¨è€…<br>å­è¿›ç¨‹: æ–°å»ºçš„è¿›ç¨‹</li>
<li>å­è¿›ç¨‹æ˜¯çˆ¶è¿›ç¨‹çš„å¤åˆ¶,å…·æœ‰å’Œçˆ¶è¿›ç¨‹ç›¸åŒçš„ä»£ç ,æ•°æ®,å †æ ˆ,å·®åˆ«åœ¨äº<strong>ID</strong>å·ä¸ä¸€æ ·,ä¸æ—¶é—´æœ‰å…³çš„ä¿¡æ¯ä¸ä¸€æ ·</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> 	fork();</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Hello World\n"</span>);</span><br><span class="line"> 	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨å±å¹•ä¸Šä¼šè¾“å‡ºä¸¤ä¸ªHello Worldçš„å­—ç¬¦ä¸²</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">pid_t</span> pid;</span><br><span class="line">    pid = fork();</span><br><span class="line">    <span class="keyword">if</span>(pid == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Hello World\n"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(pid &gt; <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"How are you\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶åœ¨å±å¹•ä¸Šè¾“å‡ºä¸€è¡Œ<code>Hello World</code>ä¸ä¸€è¡Œ<code>How are you</code>.<br>åœ¨å­è¿›ç¨‹ä¸­,<code>pid=0</code>,åœ¨çˆ¶è¿›ç¨‹ä¸­<code>pid&gt;0</code>(å­è¿›ç¨‹ID),å¦‚æœæ‰§è¡Œå‡ºé”™,è¿”å›-1<br>ä½†æ˜¯çˆ¶è¿›ç¨‹,å­è¿›ç¨‹æ˜¯<strong>å¹¶å‘çš„</strong>,æ‰€ä»¥å­—ç¬¦ä¸²è¾“å‡ºé¡ºåº<strong>ä¸ç¡®å®š</strong>.ä¸ä¼šæ— é™å¾ªç¯å’Œé€’å½’åˆ›å»ºå­è¿›ç¨‹.</p>
<h4 id="å­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹çš„å¹¶å‘"><a href="#å­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹çš„å¹¶å‘" class="headerlink" title="å­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹çš„å¹¶å‘"></a>å­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹çš„å¹¶å‘</h4><p>å½“çˆ¶è¿›ç¨‹ä¸­çš„<code>pid = fork()</code>æŒ‡ä»¤æ‰§è¡Œæ—¶,å¤åˆ¶ç›¸åŒçš„ä»£ç åˆ°å­è¿›ç¨‹.<code>fork()</code>æŒ‡ä»¤ä¹‹å‰çš„æŒ‡ä»¤<strong>ä¸å†æ‰§è¡Œ</strong>,ä»æŒ‡ä»¤åé¢çš„è¯­å¥å¹¶å‘.</p>
<h4 id="forkå‡½æ•°çš„å®ç°"><a href="#forkå‡½æ•°çš„å®ç°" class="headerlink" title="forkå‡½æ•°çš„å®ç°"></a>forkå‡½æ•°çš„å®ç°</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">do_fork</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">	<span class="keyword">unsigned</span> <span class="keyword">long</span> clone_flags,</span></span></span><br><span class="line"><span class="function"><span class="params">	<span class="keyword">unsigned</span> <span class="keyword">long</span> stack_start,</span></span></span><br><span class="line"><span class="function"><span class="params">	struct pt_regs *regs,</span></span></span><br><span class="line"><span class="function"><span class="params">	<span class="keyword">unsigned</span> <span class="keyword">long</span> stack_size</span></span></span><br><span class="line"><span class="function"><span class="params">)</span></span>;</span><br><span class="line"><span class="keyword">int</span> do_fork&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">task_struct</span> *<span class="title">p</span>;</span></span><br><span class="line">    p = alloc_task_struct();<span class="comment">//åˆ†é…å­˜æ”¾ä½ç½®çš„å†…å­˜</span></span><br><span class="line">    ......</span><br><span class="line">    copy_files(clone_flags,p);</span><br><span class="line">    copy_fs(clone_flags,p);</span><br><span class="line">    copy_mm(clone_flags,p);<span class="comment">//æ‹·è´è¿›ç¨‹æ‰€æœ‰ä¿¡æ¯</span></span><br><span class="line">    ......</span><br><span class="line">    wake_up_process(p);<span class="comment">//å”¤é†’è¿›ç¨‹,æŒ‚å…¥å¯æ‰§è¡Œé˜Ÿåˆ—ç­‰å¾…è¢«è°ƒåº¦</span></span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Linuxå¯åŠ¨ä»¥åçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹æ˜¯<strong>initè¿›ç¨‹</strong>,æ‰€æœ‰å…¶ä»–è¿›ç¨‹éƒ½æ˜¯initçš„å­å­™</li>
</ul>
<h4 id="execå‡½æ•°ç°‡"><a href="#execå‡½æ•°ç°‡" class="headerlink" title="execå‡½æ•°ç°‡"></a>execå‡½æ•°ç°‡</h4><ul>
<li>è£…å…¥ä¸€ä¸ª<strong>æŒ‡å®šçš„å¯æ‰§è¡Œç¨‹åº</strong>è¿è¡Œ</li>
<li><strong>ä½¿å­è¿›ç¨‹å…·æœ‰å’Œçˆ¶è¿›ç¨‹å®Œå…¨ä¸åŒçš„æ–°åŠŸèƒ½</strong></li>
</ul>
<p>æ­¥éª¤:</p>
<ul>
<li>æ ¹æ®æ–‡ä»¶åæ‰¾åˆ°ç›¸åº”çš„å¯æ‰§è¡Œç¨‹åº</li>
<li>å°†å¯æ‰§è¡Œç¨‹åºçš„å†…å®¹å¡«å…¥å­è¿›ç¨‹çš„åœ°å€ç©ºé—´</li>
<li>è¿›å…¥æ–°è¿›ç¨‹æ‰§è¡Œä¸”ä¸å†è¿”å›</li>
</ul>
<h3 id="çº¿ç¨‹"><a href="#çº¿ç¨‹" class="headerlink" title="çº¿ç¨‹"></a>çº¿ç¨‹</h3><h4 id="çº¿ç¨‹æ¦‚å¿µ"><a href="#çº¿ç¨‹æ¦‚å¿µ" class="headerlink" title="çº¿ç¨‹æ¦‚å¿µ"></a>çº¿ç¨‹æ¦‚å¿µ</h4><ul>
<li>ç”±CPUå¯ä»¥ç›´æ¥è¿è¡Œçš„å®ä½“,ç¨‹åºå†…éƒ¨çš„æ‰§è¡Œè·¯å¾„</li>
<li>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åˆ›å»ºå¤šä¸ªçº¿ç¨‹</li>
<li>å¤šä¸ªçº¿ç¨‹<strong>å…±äº«</strong>CPUå¯ä»¥å®ç°å¹¶å‘è¿è¡Œ</li>
</ul>
<ul>
<li>CreateThread()<br>æŠŠä¸€ä¸ªå‡½æ•°åˆ›å»ºä¸ºä¸€ä¸ªçº¿ç¨‹</li>
</ul>
<h5 id="å•çº¿ç¨‹ç¨‹åºå’Œå¤šçº¿ç¨‹ç¨‹åº"><a href="#å•çº¿ç¨‹ç¨‹åºå’Œå¤šçº¿ç¨‹ç¨‹åº" class="headerlink" title="å•çº¿ç¨‹ç¨‹åºå’Œå¤šçº¿ç¨‹ç¨‹åº"></a>å•çº¿ç¨‹ç¨‹åºå’Œå¤šçº¿ç¨‹ç¨‹åº</h5><ul>
<li>å•çº¿ç¨‹: æ•´ä¸ªè¿›ç¨‹åªæœ‰ä¸€ä¸ªçº¿ç¨‹,Windowsç¨‹åºé»˜è®¤åªæœ‰ä¸€ä¸ªçº¿ç¨‹(ä¸»çº¿ç¨‹:mainçº¿ç¨‹)</li>
<li>å¤šçº¿ç¨‹:æ•´ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸¤ä¸ªçº¿ç¨‹,<strong>ä¸»çº¿ç¨‹</strong>å’Œ<strong>è‡³å°‘ä¸€ä¸ªç”¨æˆ·çº¿ç¨‹</strong></li>
</ul>
<h4 id="çº¿ç¨‹å…¸å‹åº”ç”¨åœºæ™¯"><a href="#çº¿ç¨‹å…¸å‹åº”ç”¨åœºæ™¯" class="headerlink" title="çº¿ç¨‹å…¸å‹åº”ç”¨åœºæ™¯"></a>çº¿ç¨‹å…¸å‹åº”ç”¨åœºæ™¯</h4><ol>
<li>ç¨‹åºçš„å¤šä¸ªåŠŸèƒ½éœ€è¦å¹¶å‘è¿è¡Œ<br>ä¾‹å¦‚åŒæ—¶ç”»åœ†å’Œç”»æ–¹, æš´é£å½±éŸ³(åœ¨çº¿çœ‹ç”µå½±)(è§†é¢‘è§£ç ,éŸ³é¢‘è§£ç ,ç½‘ç»œæ¥æ”¶)<br>ä¸ºæ¯ä¸€ä¸ªåŠŸèƒ½åˆ›å»ºä¸ºä¸€ä¸ªçº¿ç¨‹,ä»è€Œå®ç°å¤šåŠŸèƒ½çš„å¹¶å‘</li>
<li>æé«˜<strong>çª—å£ç¨‹åº</strong>çš„äº¤äº’æ€§</li>
<li>éœ€è¦æ”¹å–„ç¨‹åºç»“æ„çš„åœ°æ–¹</li>
<li>å¤šæ ¸CPUä¸Šçš„åº”ç”¨</li>
</ol>
<h5 id="åˆ›å»ºçº¿ç¨‹çš„è¡¥å……è¯´æ˜"><a href="#åˆ›å»ºçº¿ç¨‹çš„è¡¥å……è¯´æ˜" class="headerlink" title="åˆ›å»ºçº¿ç¨‹çš„è¡¥å……è¯´æ˜"></a>åˆ›å»ºçº¿ç¨‹çš„è¡¥å……è¯´æ˜</h5><ul>
<li>Win32åº“åˆ›å»ºçº¿ç¨‹: CreateThread(çº¿ç¨‹å‡½æ•°,å‚æ•°)</li>
<li>MFCåˆ›å»ºçº¿ç¨‹: AfxBeginThread(çº¿ç¨‹å‡½æ•°,å‚æ•°)</li>
<li>åˆ›å»ºè¿œç¨‹çº¿ç¨‹: CreateRemoteThread(è¿›ç¨‹,çº¿ç¨‹å‡½æ•°,å‚æ•°)<strong>è¿™ä¸ªåˆ›å»ºçš„çº¿ç¨‹ä¸æ˜¯åœ¨å½“å‰æ§åˆ¶çš„è¿›ç¨‹ä¸­</strong></li>
<li>Linuxåˆ›å»ºçº¿ç¨‹:pthread_create(çº¿ç¨‹å‡½æ•°,å‚æ•°)</li>
</ul>
<h3 id="ä¸´ç•ŒåŒºå’Œé”"><a href="#ä¸´ç•ŒåŒºå’Œé”" class="headerlink" title="ä¸´ç•ŒåŒºå’Œé”"></a>ä¸´ç•ŒåŒºå’Œé”</h3><h4 id="ä¸´ç•Œèµ„æºå’Œä¸´ç•ŒåŒº"><a href="#ä¸´ç•Œèµ„æºå’Œä¸´ç•ŒåŒº" class="headerlink" title="ä¸´ç•Œèµ„æºå’Œä¸´ç•ŒåŒº"></a>ä¸´ç•Œèµ„æºå’Œä¸´ç•ŒåŒº</h4><ul>
<li>ä¸´ç•Œèµ„æº(Critical Resource): ä¸€æ¬¡åªå…è®¸<strong>ä¸€ä¸ªè¿›ç¨‹</strong>ç‹¬å è®¿é—®çš„èµ„æº</li>
<li><p>ä¸´ç•ŒåŒº(Critical Section): è¿›ç¨‹ä¸­è®¿é—®ä¸´ç•Œèµ„æºçš„<strong>ç¨‹åºæ®µ</strong></p>
</li>
<li><p>ä¸´ç•ŒåŒºå’Œä¸´ç•Œèµ„æºçš„è®¿é—®ç‰¹ç‚¹:</p>
<ul>
<li>å…·æœ‰æ’ä»–æ€§</li>
<li>å¹¶å‘è¿›ç¨‹ä¸èƒ½<strong>åŒæ—¶è¿›å…¥</strong>ä¸´ç•ŒåŒº</li>
</ul>
</li>
</ul>
<h5 id="è®¾è®¡ä¸´ç•ŒåŒºè®¿é—®æœºåˆ¶çš„å››ä¸ªåŸåˆ™"><a href="#è®¾è®¡ä¸´ç•ŒåŒºè®¿é—®æœºåˆ¶çš„å››ä¸ªåŸåˆ™" class="headerlink" title="è®¾è®¡ä¸´ç•ŒåŒºè®¿é—®æœºåˆ¶çš„å››ä¸ªåŸåˆ™"></a>è®¾è®¡ä¸´ç•ŒåŒºè®¿é—®æœºåˆ¶çš„å››ä¸ªåŸåˆ™</h5><ul>
<li>å¿™åˆ™ç­‰å¾…: å½“ä¸´ç•ŒåŒºå¿™æ—¶,å…¶ä»–è¿›ç¨‹å¿…é¡»åœ¨ä¸´ç•ŒåŒºå¤–ç­‰å¾…</li>
<li>ç©ºé—²è®©è¿›: å½“æ— è¿›ç¨‹å¤„äºä¸´ç•ŒåŒºæ—¶,ä»»ä½•æœ‰æƒè¿›ç¨‹å¯ä»¥è¿›å…¥ä¸´ç•ŒåŒº</li>
<li>æœ‰é™ç­‰å¾…: è¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºçš„è¯·æ±‚åº”è¯¥åœ¨<strong>æœ‰é™æ—¶é—´</strong>å†…å¾—åˆ°æ»¡è¶³</li>
<li>è®©æƒç­‰å¾…: ç­‰å¾…è¿›ç¨‹æ”¾å¼ƒCPU,(è®©å…¶ä»–è¿›ç¨‹æœ‰æœºä¼šå¾—åˆ°CPU)</li>
</ul>
<h5 id="ä¸´ç•ŒåŒºçš„å¤§å°è®¾ç½®"><a href="#ä¸´ç•ŒåŒºçš„å¤§å°è®¾ç½®" class="headerlink" title="ä¸´ç•ŒåŒºçš„å¤§å°è®¾ç½®"></a>ä¸´ç•ŒåŒºçš„å¤§å°è®¾ç½®</h5><p>ä¸´ç•ŒåŒºæ—¢ä¸èƒ½è®¾ç½®çš„<strong>è¿‡å¤§</strong>,ä¹Ÿä¸èƒ½è®¾ç½®çš„<strong>è¿‡å°</strong></p>
<p>è®¾ç½®çš„è¿‡å¤§ç¨‹åºç­‰å¾…çš„æ—¶é—´ä¼šå˜é•¿,è¿‡å°åˆ™è¾¾ä¸åˆ°è®¾ç½®ä¸´ç•ŒåŒºçš„ç›®çš„</p>
<h4 id="é”æœºåˆ¶"><a href="#é”æœºåˆ¶" class="headerlink" title="é”æœºåˆ¶"></a>é”æœºåˆ¶</h4><ul>
<li>åŸºæœ¬åŸç†: è®¾ç½®ä¸€ä¸ªæ ‡å¿—â€Sâ€ï¼Œè¡¨æ˜ä¸´ç•Œèµ„æº<strong>å¯ç”¨</strong>æˆ–è€…<strong>ä¸å¯ç”¨</strong><ol>
<li>è¿›å…¥ä¸´ç•ŒåŒºä¹‹å‰æ£€æŸ¥æ ‡å¿—æ˜¯å¦<strong>å¯ç”¨</strong></li>
<li>å¦‚æœä¸å¯ç”¨çŠ¶æ€,è¿›ç¨‹åœ¨ä¸´ç•ŒåŒºä¹‹å¤–<strong>ç­‰å¾…</strong></li>
<li>å¦‚æœå¯ç”¨,è®¿é—®ä¸´ç•Œèµ„æº,å¹¶ä¸”è®¾ç½®æ ‡å¿—ä¸º<strong>ä¸å¯ç”¨</strong></li>
<li>é€€å‡ºä¸´ç•ŒåŒºæ—¶å°†æ ‡å¿—è®¾ä¸ºå¯ç”¨</li>
</ol>
</li>
</ul>
<h5 id="ä¸Šé”æ“ä½œ"><a href="#ä¸Šé”æ“ä½œ" class="headerlink" title="ä¸Šé”æ“ä½œ"></a>ä¸Šé”æ“ä½œ</h5><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">LOCK(S)		<span class="comment">//ä¸Šé”æ“ä½œ</span></span><br><span class="line">&#123;</span><br><span class="line">    test: <span class="keyword">if</span>(S==<span class="number">0</span>)	</span><br><span class="line">        <span class="keyword">goto</span> test;	<span class="comment">//æµ‹è¯•é”æ ‡å¿—,å†…éƒ¨å¾ªç¯</span></span><br><span class="line">    	<span class="keyword">else</span> <span class="comment">//S==1</span></span><br><span class="line">            S=<span class="number">0</span>;	<span class="comment">//ä¸Šé”</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="å¼€é”æ“ä½œ"><a href="#å¼€é”æ“ä½œ" class="headerlink" title="å¼€é”æ“ä½œ"></a>å¼€é”æ“ä½œ</h5><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">UnLock(S)</span><br><span class="line">&#123;</span><br><span class="line">    S = <span class="number">1</span>;	<span class="comment">//å¼€é”</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å¼€é”åŸè¯­</strong></p>
<h5 id="é”æœºåˆ¶è®¿é—®ä¸´ç•ŒåŒº"><a href="#é”æœºåˆ¶è®¿é—®ä¸´ç•ŒåŒº" class="headerlink" title="é”æœºåˆ¶è®¿é—®ä¸´ç•ŒåŒº"></a>é”æœºåˆ¶è®¿é—®ä¸´ç•ŒåŒº</h5><ol>
<li>åˆå§‹åŒ–é”çŠ¶æ€S=1(å¯ç”¨)</li>
<li>è¿›å…¥ä¸´ç•ŒåŒºä¹‹å‰æ‰§è¡Œ<strong>ä¸Šé”</strong>æ“ä½œ</li>
<li>é€€å‡ºä¸´ç•ŒåŒºä¹‹åæ‰§è¡Œ<strong>å¼€é”</strong>æ“ä½œ</li>
</ol>
<p>é”æœºåˆ¶æ˜¯å¦æ»¡è¶³å››ä¸ªè®¾è®¡åŸåˆ™?</p>
<p>ä¸æ»¡è¶³è®©æƒç­‰å¾…</p>
<h4 id="åŒæ­¥å’ŒP-Væ“ä½œ-é‡ç‚¹"><a href="#åŒæ­¥å’ŒP-Væ“ä½œ-é‡ç‚¹" class="headerlink" title="åŒæ­¥å’ŒP-Væ“ä½œ(é‡ç‚¹)"></a>åŒæ­¥å’ŒP-Væ“ä½œ(é‡ç‚¹)</h4><h5 id="åŒæ­¥å’Œäº’æ–¥çš„æ¦‚å¿µ"><a href="#åŒæ­¥å’Œäº’æ–¥çš„æ¦‚å¿µ" class="headerlink" title="åŒæ­¥å’Œäº’æ–¥çš„æ¦‚å¿µ"></a>åŒæ­¥å’Œäº’æ–¥çš„æ¦‚å¿µ</h5><p>è¿›ç¨‹çš„<strong>äº’æ–¥</strong>å…³ç³»: å¤šä¸ªè¿›ç¨‹ç”±äºå…±äº«äº†ç‹¬å æ€§èµ„æº,å¿…é¡»åè°ƒå„è¿›ç¨‹å¯¹èµ„æºçš„å­˜å–é¡ºåº,ç¡®ä¿æ²¡æœ‰ä»»ä½•ä¸¤ä¸ªæˆ–è€…ä»¥ä¸Šçš„è¿›ç¨‹åŒæ—¶è¿›è¡Œ<strong>å­˜å–æ“ä½œ</strong></p>
<ul>
<li>äº’æ–¥å’Œèµ„æºå…±äº«ç›¸å…³</li>
<li>èµ„æº: ä¸´ç•Œèµ„æº</li>
<li>å­˜å–æ“ä½œåŒºåŸŸ: ä¸´ç•ŒåŒº<br>è¿›ç¨‹çš„<strong>åŒæ­¥</strong>å…³ç³»: è‹¥å¹²<strong>åˆä½œè¿›ç¨‹</strong>ä¸ºäº†å®Œæˆä¸€ä¸ªå…±åŒçš„ä»»åŠ¡,éœ€è¦ç›¸äº’åè°ƒè¿è¡Œæ­¥ä¼,<strong>ä¸€ä¸ªè¿›ç¨‹</strong>å¼€å§‹æŸä¸ªæ“ä½œ<strong>ä¹‹å‰</strong>,å¿…é¡»è¦æ±‚<strong>å¦ä¸€ä¸ªè¿›ç¨‹</strong>å·²ç»å®Œæˆäº†æŸä¸ªæ“ä½œ,å¦åˆ™å‰é¢çš„è¿›ç¨‹åªèƒ½<strong>ç­‰å¾…</strong></li>
<li>åˆä½œå…³ç³»çš„å¦ä¸€ç§è§£é‡Š: åˆä½œè¿›ç¨‹ä¸­çš„æŸäº›æ“ä½œä¹‹é—´éœ€è¦æ»¡è¶³æŸç§<strong>å…ˆåå…³ç³»</strong>æˆ–æŸä¸ªæ“ä½œèƒ½å¦è¿›ç¨‹éœ€è¦æ»¡è¶³æŸä¸ª<strong>å‰ææ¡ä»¶</strong>,å¦åˆ™åªèƒ½ç­‰å¾…</li>
<li>äº’æ–¥å…³ç³»å±äºç‰¹æ®Šçš„åŒæ­¥å…³ç³»</li>
</ul>
<h5 id="P-Væ“ä½œçš„æ¦‚å¿µ"><a href="#P-Væ“ä½œçš„æ¦‚å¿µ" class="headerlink" title="P-Væ“ä½œçš„æ¦‚å¿µ"></a>P-Væ“ä½œçš„æ¦‚å¿µ</h5><h6 id="ä¿¡å·ç¯çš„æ¦‚å¿µ"><a href="#ä¿¡å·ç¯çš„æ¦‚å¿µ" class="headerlink" title="ä¿¡å·ç¯çš„æ¦‚å¿µ"></a>ä¿¡å·ç¯çš„æ¦‚å¿µ</h6><ul>
<li>ä¸€ç§è¿›ç¨‹åŒæ­¥æœºåˆ¶</li>
</ul>
<p>è¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­<strong>å—ä¿¡å·ç¯çŠ¶æ€æ§åˆ¶</strong>, å¹¶èƒ½<strong>æ”¹å˜ä¿¡å·ç¯çŠ¶æ€</strong></p>
<ul>
<li>ä¿¡å·ç¯çš„çŠ¶æ€å¯ä»¥<strong>é˜»å¡</strong>æˆ–è€…<strong>å”¤é†’</strong>è¿›ç¨‹</li>
<li>ä¿¡å·ç¯çš„çŠ¶æ€å¯ä»¥è¢«è¿›ç¨‹æ”¹å˜</li>
</ul>
<h6 id="ä¿¡å·ç¯çš„æ•°æ®ç»“æ„"><a href="#ä¿¡å·ç¯çš„æ•°æ®ç»“æ„" class="headerlink" title="ä¿¡å·ç¯çš„æ•°æ®ç»“æ„"></a>ä¿¡å·ç¯çš„æ•°æ®ç»“æ„</h6><ul>
<li>å®šä¹‰ä¸ºä¸€ä¸ªäºŒå…ƒçŸ¢é‡(S,q)</li>
<li>S: æ•´æ•°,åˆå€¼éè´Ÿ(Såˆç§°ä¿¡å·é‡,ä¸ä¸ä¿¡å·ç¯åšåŒºåˆ†)</li>
<li>q: PCBé˜Ÿåˆ—,åˆå€¼ä¸ºç©ºé›†</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SEMAPHORE</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> S;	<span class="comment">//æ•´æ•°,åˆå€¼éè´Ÿ</span></span><br><span class="line">	pointer_PCB q; 	<span class="comment">//é˜Ÿåˆ—:è¿›ç¨‹PCBæŒ‡é’ˆ,åˆå€¼ç©ºé›†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸¤ä¸ªæ“ä½œ:</p>
<ol>
<li>Pæ“ä½œ: é€šè¿‡(Passeren)</li>
<li>Væ“ä½œ: é‡Šæ”¾</li>
</ol>
<ul>
<li>Pæ“ä½œåŸç†</li>
</ul>
<ol>
<li>Så‡ä¸€</li>
<li>å¦‚æœ<strong>å·®</strong> $\geq$ 0,è¯¥è¿›ç¨‹ç»§ç»­</li>
<li>å¦‚æœ<strong>å·®</strong> $\leq$ 0.åˆ™è¯¥è¿›ç¨‹é˜»å¡,å¹¶åŠ å…¥é˜Ÿåˆ—qä¸­,è½¬è°ƒåº¦å‡½æ•°</li>
</ol>
<ul>
<li>Qæ“ä½œåŸç†</li>
</ul>
<ol>
<li>SåŠ ä¸€</li>
<li>å¦‚æœ<strong>å’Œ</strong> $\geq$ 0,è¯¥è¿›ç¨‹ç»§ç»­</li>
<li>å¦‚æœ<strong>å’Œ</strong> $\leq$ 0.åˆ™è¯¥è¿›ç¨‹<strong>ç»§ç»­</strong>, åŒæ—¶ä»qä¸­<strong>å”¤é†’</strong>ä¸€ä¸ªè¿›ç¨‹</li>
</ol>
<h5 id="P-Væ“ä½œè§£å†³äº’æ–¥é—®é¢˜"><a href="#P-Væ“ä½œè§£å†³äº’æ–¥é—®é¢˜" class="headerlink" title="P-Væ“ä½œè§£å†³äº’æ–¥é—®é¢˜"></a>P-Væ“ä½œè§£å†³äº’æ–¥é—®é¢˜</h5><ul>
<li>æœ¬è´¨: å®ç°å¯¹ä¸´ç•ŒåŒºçš„äº’æ–¥è®¿é—®</li>
<li>åº”ç”¨è¿‡ç¨‹:<ol>
<li>è¿›å…¥ä¸´ç•ŒåŒºä¹‹å‰æ‰§è¡ŒPæ“ä½œ</li>
<li>ç¦»å¼€ä¸´ç•ŒåŒºä¹‹åå†æ‰§è¡ŒVæ“ä½œ</li>
</ol>
</li>
<li>Sçš„åˆå€¼è®¾ç½®åˆç†(ä¼¼ä¹sçš„åˆå€¼åªèƒ½è®¾ä¸º1)</li>
</ul>
<h5 id="P-Væ“ä½œè§£å†³åŒæ­¥é—®é¢˜"><a href="#P-Væ“ä½œè§£å†³åŒæ­¥é—®é¢˜" class="headerlink" title="P-Væ“ä½œè§£å†³åŒæ­¥é—®é¢˜"></a>P-Væ“ä½œè§£å†³åŒæ­¥é—®é¢˜</h5><ul>
<li>åŒæ­¥æœºåˆ¶å®è´¨: è¿è¡Œæ¡ä»¶ä¸æ»¡è¶³æ—¶,èƒ½è®©è¿›ç¨‹æš‚åœ;æ¡ä»¶æ»¡è¶³æ—¶èƒ½è®©è¿›ç¨‹ç»§ç»­</li>
<li>åŸºæœ¬æ€è·¯:</li>
</ul>
<ol>
<li>æš‚åœå½“å‰è¿›ç¨‹: åœ¨å…³é”®æ“ä½œ<strong>ä¹‹å‰</strong>æ‰§è¡Œ<strong>P</strong>æ“ä½œ</li>
<li>ç»§ç»­è¿›ç¨‹: åœ¨å…³é”®æ“ä½œ<strong>ä¹‹å</strong>æ‰§è¡Œ<strong>V</strong>æ“ä½œ</li>
<li>å®šä¹‰åˆé€‚çš„ä¿¡å·é‡S,è¡¨ç¤ºè¿è¡Œæ¡ä»¶</li>
</ol>
<ul>
<li>ä»€ä¹ˆæ˜¯å…³é”®æ“ä½œ:</li>
</ul>
<ol>
<li>æ˜¯å¦éœ€è¦æ¡ä»¶</li>
<li>å®Œæˆä¸å¦æ˜¯å¦å½±å“å¦å¤–ä¸€ä¸ªè¿›ç¨‹</li>
</ol>
<h4 id="Windowså’ŒLinuxåŒæ­¥æœºåˆ¶"><a href="#Windowså’ŒLinuxåŒæ­¥æœºåˆ¶" class="headerlink" title="Windowså’ŒLinuxåŒæ­¥æœºåˆ¶"></a>Windowså’ŒLinuxåŒæ­¥æœºåˆ¶</h4><h5 id="WindowsåŒæ­¥æœºåˆ¶"><a href="#WindowsåŒæ­¥æœºåˆ¶" class="headerlink" title="WindowsåŒæ­¥æœºåˆ¶"></a>WindowsåŒæ­¥æœºåˆ¶</h5><ul>
<li>ä¸´ç•ŒåŒº</li>
<li>äº’æ–¥é‡</li>
<li>ä¿¡å·é‡</li>
<li>äº‹ä»¶</li>
<li>ç­‰å¾…</li>
</ul>
<ol>
<li>ä¸´ç•ŒåŒº</li>
</ol>
<ul>
<li>åœ¨è¿›ç¨‹å†…ä½¿ç”¨,ä¿è¯ä»…ä¸€ä¸ªçº¿ç¨‹å¯ä»¥ç”³è¯·åˆ°è¯¥å¯¹è±¡</li>
<li>æ˜¯ä¸´ç•Œèµ„æºçš„è®¿é—®<br>ç­‰å¾…å‡½æ•°<strong>WaitForXXXObject</strong>: ç­‰å¾…ç›®æ ‡å¯¹è±¡å˜æˆæœ‰ä¿¡å·çŠ¶æ€å°±è¿”å›.çº¿ç¨‹ç»“æŸçš„æ—¶å€™ä¼šå˜æˆæœ‰ä¿¡å·çŠ¶æ€</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">DWORD WaitForMultipleObjects</span><br><span class="line">(	</span><br><span class="line">DWORD nCount,		<span class="comment">//ç­‰å¾…ç›®æ ‡å¯¹è±¡æ•°é‡</span></span><br><span class="line">CONST HANDLE *lpHandles,	<span class="comment">//ç›®æ ‡å¯¹è±¡çš„å¥æŸ„æ•°ç»„</span></span><br><span class="line">BOOL fWaitAll,				<span class="comment">//ç­‰å¾…æ–¹å¼</span></span><br><span class="line">DWORD dwMilliseconds);		<span class="comment">//ç­‰å¾…æ—¶é—´</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">DWORD WaitForSingleObjects</span><br><span class="line">(	</span><br><span class="line">HANDLE hHandles,	<span class="comment">//ç›®æ ‡å¯¹è±¡çš„å¥æŸ„</span></span><br><span class="line">DWORD dwMilliseconds);		<span class="comment">//ç­‰å¾…æ—¶é—´</span></span><br></pre></td></tr></table></figure>
<ol>
<li>äº’æ–¥é‡(Mutex)</li>
</ol>
<ul>
<li>ä¿è¯åªæœ‰<strong>ä¸€ä¸ª</strong>çº¿ç¨‹æˆ–è€…è¿›ç¨‹å¯ä»¥ç”³è¯·åˆ°èµ„æº</li>
<li><strong>å¯ä»¥è·¨è¿›ç¨‹ä½¿ç”¨</strong></li>
<li>å¯ä»¥æœ‰åç§°</li>
<li>æ¯”ä¸´ç•ŒåŒºè€—è´¹æ›´å¤šèµ„æº</li>
</ul>
<ol>
<li>ä¿¡å·é‡(Semaphore)</li>
</ol>
<ul>
<li>å…è®¸æŒ‡å®šæ•°ç›®çš„<strong>å¤šä¸ª</strong>çº¿ç¨‹/è¿›ç¨‹è®¿é—®ä¸´ç•ŒåŒº</li>
<li>ä¸€ç§èµ„æºè®¡æ•°å™¨.ç”¨äºé™åˆ¶å¹¶å‘çº¿ç¨‹çš„æ•°é‡</li>
<li>åˆå§‹å€¼å¯è®¾ä¸ºn,åˆ™è¡¨ç¤ºå…è®¸Nä¸ªè¿›ç¨‹/çº¿ç¨‹<strong>å¹¶å‘è®¿é—®èµ„æº</strong>.</li>
<li>å¯ä»¥é€šè¿‡ç›¸åº”å‡½æ•°<strong>å¢</strong>æˆ–è€…<strong>å‡</strong>.WaitForSingleObjectå°†ä¿¡å·é‡å‡ä¸€,ReleaseSemaphoreå°†ä¿¡å·é‡å¢ä¸€</li>
<li>ä¿¡å·é‡çš„å€¼å¤§äº0æ—¶,æœ‰ä¿¡å·çŠ¶æ€;å°äºç­‰äº0æ—¶,ä¸ºæ— ä¿¡å·çŠ¶æ€</li>
</ul>
<h5 id="Linuxçˆ¶å­è¿›ç¨‹åŒæ­¥"><a href="#Linuxçˆ¶å­è¿›ç¨‹åŒæ­¥" class="headerlink" title="Linuxçˆ¶å­è¿›ç¨‹åŒæ­¥"></a>Linuxçˆ¶å­è¿›ç¨‹åŒæ­¥</h5><h6 id="waitå‡½æ•°"><a href="#waitå‡½æ•°" class="headerlink" title="waitå‡½æ•°"></a>waitå‡½æ•°</h6><ul>
<li>è¿›ç¨‹è°ƒç”¨<strong>wait(int status)</strong>é˜»å¡è‡ªå·±,é˜»å¡åˆ°æœ‰å­è¿›ç¨‹ç»“æŸ.å¦‚æœæ²¡æœ‰åˆ™ä¸€ç›´é˜»å¡.<br>waitæ”¶é›†è¯¥å­è¿›ç¨‹ä¿¡æ¯å¹¶å½»åº•é”€æ¯</li>
<li>ä¿å­˜è¿›ç¨‹é€€å‡ºæ—¶çš„çŠ¶æ€,å¦‚æœå¿½ç•¥é€€å‡ºä¿¡æ¯,<code>pid = wait(NULL)</code> </li>
</ul>
<h6 id="exitå‡½æ•°"><a href="#exitå‡½æ•°" class="headerlink" title="exitå‡½æ•°"></a>exitå‡½æ•°</h6><ul>
<li>ç»ˆç»“è¿›ç¨‹,åˆ©ç”¨statusä¼ é€’è¿›ç¨‹ç»“æŸæ—¶çš„çŠ¶æ€</li>
<li>å˜æˆ<strong>åƒµå°¸çŠ¶æ€</strong>,ä¿ç•™éƒ¨åˆ†PCBä¿¡æ¯.ç»™<strong>wait</strong>æ”¶é›†</li>
</ul>
<ol>
<li>æ­£å¸¸ç»“æŸè¿˜æ˜¯å¼‚å¸¸ç»“æŸ</li>
<li>å ç”¨ç³»ç»ŸCPUæ€»æ—¶é—´</li>
<li>ç¼ºé¡µä¸­æ–­æ¬¡æ•°</li>
</ol>
<ul>
<li>è°ƒç”¨schedule,é€‰æ‹©æ–°è¿›ç¨‹è¿è¡Œ</li>
</ul>
<h6 id="sleepå‡½æ•°"><a href="#sleepå‡½æ•°" class="headerlink" title="sleepå‡½æ•°"></a>sleepå‡½æ•°</h6><ul>
<li>è¿›ç¨‹æš‚åœæ‰§è¡ŒnSecondç§’</li>
<li>ç³»ç»Ÿæš‚åœè°ƒåº¦è¯¥è¿›ç¨‹</li>
<li>ç›¸å½“äºWindowsçš„suspend,æŒ‚èµ·è‹¥å¹²ç§’</li>
</ul>
<h6 id="çˆ¶å­è¿›ç¨‹å…±äº«æ™®é€šå˜é‡"><a href="#çˆ¶å­è¿›ç¨‹å…±äº«æ™®é€šå˜é‡" class="headerlink" title="çˆ¶å­è¿›ç¨‹å…±äº«æ™®é€šå˜é‡"></a>çˆ¶å­è¿›ç¨‹å…±äº«æ™®é€šå˜é‡</h6><p>å¯¹äºæ™®é€šå˜é‡,çˆ¶å­è¿›ç¨‹å„è‡ªæ“ä½œå˜é‡å‰¯æœ¬.äº’ä¸å½±å“</p>
<h6 id="çˆ¶å­è¿›ç¨‹å…±äº«æ–‡ä»¶èµ„æº"><a href="#çˆ¶å­è¿›ç¨‹å…±äº«æ–‡ä»¶èµ„æº" class="headerlink" title="çˆ¶å­è¿›ç¨‹å…±äº«æ–‡ä»¶èµ„æº"></a>çˆ¶å­è¿›ç¨‹å…±äº«æ–‡ä»¶èµ„æº</h6><p>å¯¹äºæ–‡ä»¶,çˆ¶å­è¿›ç¨‹å…±äº«åŒä¸€æ–‡ä»¶å’Œè¯»å†™æŒ‡é’ˆ</p>
<h4 id="è¿›ç¨‹é€šä¿¡"><a href="#è¿›ç¨‹é€šä¿¡" class="headerlink" title="è¿›ç¨‹é€šä¿¡"></a>è¿›ç¨‹é€šä¿¡</h4><h5 id="Windowsä¸­çš„åŒ¿åç®¡é“é€šä¿¡"><a href="#Windowsä¸­çš„åŒ¿åç®¡é“é€šä¿¡" class="headerlink" title="Windowsä¸­çš„åŒ¿åç®¡é“é€šä¿¡"></a>Windowsä¸­çš„åŒ¿åç®¡é“é€šä¿¡</h5><ul>
<li>ç®¡é“å®šä¹‰: è¿›ç¨‹é—´çš„ä¸€ç§é€šä¿¡æœºåˆ¶.ä¸€ä¸ªè¿›ç¨‹Aå¯ä»¥é€šè¿‡ç®¡é“æŠŠæ•°æ®ä¼ è¾“ç»™å¦å¤–ä¸€ä¸ªè¿›ç¨‹B.å‰è€…å‘ç®¡é“è¾“å…¥æ•°æ®,åè€…å‘ç®¡é“è¾“å‡ºæ•°æ®.</li>
<li>å·¥ä½œåŸç†:<br>æœ‰è¯»/å†™ä¸¤ä¸ªå¥æŸ„: <code>CreatePipe(Handle W, Handle R)</code><br>é€šè¿‡å†™ å†™å¥æŸ„å‘ç®¡é“ä¸­å†™æ•°æ®<code>WriteFile(W,Buffer)</code>æˆ–è€…é€šè¿‡è¾“å‡ºé‡å®šå‘ å‘å†™å¥æŸ„å†™å…¥<br>é€šè¿‡è¯» è¯»å¥æŸ„,ä»ç®¡é“è¯»å–æ•°æ®<code>ReadFile(R,Buffer)</code>.æˆ–è€…é€šè¿‡è¾“å…¥é‡å®šå‘ä»è¯»å¥æŸ„è¯»å‡º</li>
<li>ä»…èƒ½ç”¨äº<strong>çˆ¶å­</strong>æˆ–è€…<strong>å…„å¼Ÿ</strong>è¿›ç¨‹é€šä¿¡</li>
</ul>
<ol>
<li>çˆ¶è¿›ç¨‹åˆ›å»ºç®¡é“<code>CreatePipe(W,R)</code></li>
<li>çˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹<code>CreateProcess()</code></li>
<li>çˆ¶è¿›ç¨‹å†™æˆ–è¯»ç®¡é“,å­è¿›ç¨‹è¾“å…¥æˆ–è€…è¾“å‡ºé‡å®šå‘åˆ°ç®¡é“.</li>
</ol>
<h2 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h2><h3 id="æ­»é”çš„æ¦‚å¿µ"><a href="#æ­»é”çš„æ¦‚å¿µ" class="headerlink" title="æ­»é”çš„æ¦‚å¿µ"></a>æ­»é”çš„æ¦‚å¿µ</h3><p>ç›¸é‚»çš„å“²å­¦å®¶ä¸å¯èƒ½åŒæ—¶åƒé¥­.<br>ç”¨ä»£ç è¡¨ç¤ºå“²å­¦å®¶çš„ç”Ÿæ´»å°±æ˜¯å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UINT Philosopher(int i)	&#x2F;&#x2F; çº¿ç¨‹å‡½æ•°,iæ˜¯å“²å­¦å®¶çš„ç¼–å·</span><br><span class="line">&#123;</span><br><span class="line">	while(true)</span><br><span class="line">	&#123;</span><br><span class="line">		æ€è€ƒ;</span><br><span class="line">		ä¼‘æ¯;</span><br><span class="line">		P(S[i]);	&#x2F;&#x2F;å–å·¦æ‰‹è¾¹çš„ç­·å­</span><br><span class="line">		P(S[i+4]%5);&#x2F;&#x2F;å–å³æ‰‹è¾¹çš„ç­·å­</span><br><span class="line">		åƒé¥­;</span><br><span class="line">		V(S[i+4]%5);&#x2F;&#x2F;æ”¾ä¸‹å³æ‰‹è¾¹çš„ç­·å­</span><br><span class="line">		V(S[i]);	&#x2F;&#x2F;æ”¾ä¸‹å·¦æ‰‹è¾¹çš„ç­·å­</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºä¸Šè¿°ç¨‹åº,<strong>åƒé¥­</strong>æ˜¾ç„¶è¦è®¿é—®å…¬å…±èµ„æº,æ˜¯å±äºä¸´ç•Œæ“ä½œ,éœ€è¦åŠ ä»¥é€‚å½“çš„P-Væ“ä½œæ¥é™åˆ¶.ç­·å­æ˜¯å¦å¯ç”¨å°±æ˜¯<strong>ä¿¡å·é‡</strong>.</p>
<ul>
<li>æ­»é”çš„å®šä¹‰: ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹æ— é™æœŸçš„ç­‰å¾…æ°¸è¿œä¸ä¼šå‘ç”Ÿçš„æ¡ä»¶çš„ä¸€ç§ç³»ç»ŸçŠ¶æ€<br>æ­»é”çš„ç»“æœå°±æ˜¯æ¯ä¸ªè¿›ç¨‹éƒ½æ°¸è¿œé˜»å¡</li>
</ul>
<h3 id="æ­»é”èµ·å› "><a href="#æ­»é”èµ·å› " class="headerlink" title="æ­»é”èµ·å› "></a>æ­»é”èµ·å› </h3><h4 id="ç³»ç»Ÿèµ„æºæœ‰é™"><a href="#ç³»ç»Ÿèµ„æºæœ‰é™" class="headerlink" title="ç³»ç»Ÿèµ„æºæœ‰é™"></a>ç³»ç»Ÿèµ„æºæœ‰é™</h4><p>è¿›ç¨‹å¯¹èµ„æºçš„ç«äº‰äº§ç”Ÿæ­»é”</p>
<h4 id="å¹¶å‘è¿›ç¨‹æ¨è¿›é¡ºåºä¸å½“"><a href="#å¹¶å‘è¿›ç¨‹æ¨è¿›é¡ºåºä¸å½“" class="headerlink" title="å¹¶å‘è¿›ç¨‹æ¨è¿›é¡ºåºä¸å½“"></a>å¹¶å‘è¿›ç¨‹æ¨è¿›é¡ºåºä¸å½“</h4><p>è¿›ç¨‹<strong>è¯·æ±‚</strong>æˆ–è€…<strong>é‡Šæ”¾</strong>èµ„æºçš„é¡ºåºä¸å½“,ä¹Ÿå¯èƒ½å¯¼è‡´æ­»é”.<br>ä¾‹å¦‚</p>
<h4 id="å…³äºæ­»é”çš„ä¸€äº›ç»“è®º"><a href="#å…³äºæ­»é”çš„ä¸€äº›ç»“è®º" class="headerlink" title="å…³äºæ­»é”çš„ä¸€äº›ç»“è®º"></a>å…³äºæ­»é”çš„ä¸€äº›ç»“è®º</h4><ul>
<li>å‚ä¸æ­»é”çš„è¿›ç¨‹è‡³å°‘æ˜¯<strong>2</strong>ä¸ª</li>
<li>å‚ä¸æ­»é”çš„è¿›ç¨‹è‡³å°‘æœ‰<strong>2ä¸ªå·²ç»å æœ‰èµ„æº</strong></li>
<li>å‚ä¸æ­»é”çš„æ‰€æœ‰è¿›ç¨‹éƒ½åœ¨ç­‰å¾…èµ„æº</li>
<li>å‚ä¸æ­»é”çš„è¿›ç¨‹æ˜¯å½“å‰ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹çš„å­é›†.<br>æ­»é”ä¼šæµªè´¹å¤§é‡çš„ç³»ç»Ÿèµ„æº,ç”šè‡³å¯¼è‡´ç³»ç»Ÿå´©æºƒ.</li>
</ul>
<h3 id="é¢„é˜²æ­»é”çš„ç­–ç•¥"><a href="#é¢„é˜²æ­»é”çš„ç­–ç•¥" class="headerlink" title="é¢„é˜²æ­»é”çš„ç­–ç•¥"></a>é¢„é˜²æ­»é”çš„ç­–ç•¥</h3><h4 id="æ­»é”çš„å¿…è¦æ¡ä»¶"><a href="#æ­»é”çš„å¿…è¦æ¡ä»¶" class="headerlink" title="æ­»é”çš„å¿…è¦æ¡ä»¶"></a>æ­»é”çš„å¿…è¦æ¡ä»¶</h4><ul>
<li>äº’æ–¥æ¡ä»¶: èµ„æºå…·æœ‰ç‹¬å æ€§,è¿›ç¨‹äº’æ–¥ä½¿ç”¨èµ„æº.</li>
<li>ä¸å‰¥å¤ºæ¡ä»¶: è¿›ç¨‹åœ¨é‡Šæ”¾èµ„æºå‰(å³è®¿é—®å®Œ)ä¸èƒ½è¢«å…¶ä»–è¿›ç¨‹å‰¥å¤º</li>
<li>éƒ¨åˆ†åˆ†é…æ¡ä»¶: è¿›ç¨‹æ‰€éœ€è¦çš„èµ„æºé€æ­¥åˆ†é….éœ€è¦æ—¶ç”³è¯·å’Œåˆ†é….</li>
<li>ç¯è·¯æ¡ä»¶: å¤šä¸ªè¿›ç¨‹æ„æˆ<strong>ç¯è·¯</strong>,ç¯ä¸­æ¯ä¸ªè¿›ç¨‹å·²å ç”¨çš„èµ„æºè¢«å‰ä¸€è¿›ç¨‹ç”³è¯·,è‡ªå·±æ‰€éœ€è¦çš„æ–°èµ„æºåˆè¢«ç¯ä¸­çš„åè£”è¿›ç¨‹ç”³è¯·</li>
</ul>
<p>ä¸Šè¿°æ¡ä»¶ä¸éœ€è¦å…¨éƒ¨æ»¡è¶³,æ»¡è¶³ä¸€ä¸ªå³å¯</p>
<h4 id="è§£å†³æ­»é”çš„ç­–ç•¥"><a href="#è§£å†³æ­»é”çš„ç­–ç•¥" class="headerlink" title="è§£å†³æ­»é”çš„ç­–ç•¥"></a>è§£å†³æ­»é”çš„ç­–ç•¥</h4><ul>
<li>é€šè¿‡è®¾ç½®æŸäº›é™åˆ¶æ¡ä»¶,ç ´åæ­»é”å››ä¸ªå¿…è¦æ¡ä»¶ä¸­çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ¥é˜²æ­¢æ­»é”</li>
</ul>
<ol>
<li>ç ´åäº’æ–¥æ¡ä»¶: éš¾</li>
<li>ç ´åä¸å‰¥å¤ºæ¡ä»¶: ä»£ä»·å¤§</li>
<li>ç ´åéƒ¨åˆ†åˆ†é…æ¡ä»¶: é¢„å…ˆé™æ€åˆ†é…</li>
<li>ç ´åç¯è·¯æ¡ä»¶: æœ‰åºèµ„æºåˆ†é…</li>
</ol>
<h2 id="è¿›ç¨‹è°ƒåº¦"><a href="#è¿›ç¨‹è°ƒåº¦" class="headerlink" title="è¿›ç¨‹è°ƒåº¦"></a>è¿›ç¨‹è°ƒåº¦</h2><h3 id="è¿›ç¨‹è°ƒåº¦æ¦‚å¿µ"><a href="#è¿›ç¨‹è°ƒåº¦æ¦‚å¿µ" class="headerlink" title="è¿›ç¨‹è°ƒåº¦æ¦‚å¿µ"></a>è¿›ç¨‹è°ƒåº¦æ¦‚å¿µ</h3><ul>
<li>åœ¨åˆé€‚çš„æ—¶å€™ä»¥<strong>ä¸€å®šçš„ç­–ç•¥</strong>é€‰æ‹©ä¸€ä¸ª<strong>å°±ç»ª</strong>è¿›ç¨‹è¿è¡Œ.</li>
</ul>
<p>è°ƒåº¦æ—¶æœº?è°ƒåº¦ç­–ç•¥?è°ƒåº¦ç›®æ ‡?</p>
<h4 id="è°ƒåº¦ç›®æ ‡"><a href="#è°ƒåº¦ç›®æ ‡" class="headerlink" title="è°ƒåº¦ç›®æ ‡"></a>è°ƒåº¦ç›®æ ‡</h4><ol>
<li>å“åº”é€Ÿåº¦å°½å¯èƒ½å¿«,ä»¥æ›´å°‘çš„æ—¶é—´ç‰‡è¿›è¡Œåˆ‡æ¢</li>
<li>è¿›ç¨‹å¤„ç†æ—¶é—´å°½å¯èƒ½çŸ­</li>
<li>ååé‡å°½å¯èƒ½å¤§</li>
<li>èµ„æºåˆ©ç”¨ç‡å°½å¯èƒ½é«˜</li>
<li>å¯¹æ‰€æœ‰è¿›ç¨‹è¦å…¬å¹³</li>
<li>é¿å…é¥¥é¥¿</li>
<li>c</li>
</ol>
<p>ä½†æ˜¯ä¸Šè¿°éƒ¨åˆ†åŸåˆ™ä¹‹é—´å­˜åœ¨è‡ªç›¸çŸ›ç›¾çš„ç°è±¡<br>ä¾‹å¦‚1å’Œ2,è¦æ±‚å“åº”é€Ÿåº¦å°½å¯èƒ½å¿«å°±è¦å ç”¨æ›´å¤šCPUèµ„æº,ç›¸åº”åœ°ç”¨æ¥å¤„ç†è¿›ç¨‹çš„CPUèµ„æºå°±ä¼šå‡å°‘,è¿›ç¨‹å¤„ç†æ—¶é—´å°±ä¼šå˜é•¿.<br>è¿˜æœ‰1å’Œ3.CPUæ›´é¢‘ç¹åˆ‡æ¢,è°ƒåº¦æ›´é¢‘ç¹è¿›è¡Œ,å’Œä¹‹å‰ä¸€æ ·CPUçš„æœ‰æ•ˆå·¥ä½œæ—¶é—´å°±ä¼šç¼©çŸ­.å› æ­¤å•ä½æ—¶é—´å¯ä»¥å¤„ç†çš„cpuæ•°é‡ä¼šå°‘.<br>2å’Œ5.è®©ä¸€ä¸ªè¿›ç¨‹å¤„ç†æ—¶é—´ç¼©çŸ­æ„å‘³ç€å…¶ä»–è¿›ç¨‹è·å¾—CPUçš„æ¦‚ç‡é™ä½äº†.æ˜¯ä¸å…¬å¹³çš„.<br>å¯¹äºä¸åŒçš„æ“ä½œç³»ç»Ÿæ»¡è¶³ä¸åŒçš„ç­–ç•¥.</p>
<ul>
<li>å¯ä»¥é‡åŒ–çš„ç›®æ ‡</li>
</ul>
<ol>
<li>å‘¨è½¬æ—¶é—´: è¿›ç¨‹æäº¤ç»™è®¡ç®—æœºåˆ°æœ€ç»ˆå®Œæˆæ‰€èŠ±è´¹çš„æ—¶é—´.<br>t = t<sub>c</sub> - t<sub>s</sub><br>t<sub>c</sub>æ˜¯è¿›ç¨‹å®Œæˆæ—¶é—´,t<sub>s</sub>æ˜¯è¿›ç¨‹å¼€å§‹æ—¶é—´</li>
<li>å¹³å‡å‘¨è½¬æ—¶é—´:<br>t = (t<sub>1</sub> + t<sub>2</sub> + â€¦ +t<sub>n</sub>) / n<br>å¹³å‡å‘¨è½¬æ—¶é—´è¶ŠçŸ­è¯´æ˜è¿›ç¨‹åœ¨ç³»ç»Ÿå†…åœç•™çš„æ—¶é—´ä¹Ÿè¶ŠçŸ­.ç³»ç»Ÿååé‡ä¹Ÿå°±è¶Šå¤§.èµ„æºåˆ©ç”¨ç‡ä¹Ÿå°±è¶Šé«˜.</li>
<li>å¸¦æƒå‘¨è½¬æ—¶é—´w: è¿›ç¨‹åœ¨ç³»ç»Ÿä¸­ç›¸å¯¹åœç•™æ—¶é—´<br>w = t / t<sub>r</sub><br>t: è¿›ç¨‹å‘¨è½¬æ—¶é—´<br>t<sub>r</sub>è¿›ç¨‹è¿è¡Œæ—¶é—´</li>
</ol>
<h3 id="å…¸å‹è¿›ç¨‹è°ƒåº¦ç®—æ³•"><a href="#å…¸å‹è¿›ç¨‹è°ƒåº¦ç®—æ³•" class="headerlink" title="å…¸å‹è¿›ç¨‹è°ƒåº¦ç®—æ³•"></a>å…¸å‹è¿›ç¨‹è°ƒåº¦ç®—æ³•</h3><h4 id="FCFS-å…ˆæ¥å…ˆæœåŠ¡"><a href="#FCFS-å…ˆæ¥å…ˆæœåŠ¡" class="headerlink" title="FCFS(å…ˆæ¥å…ˆæœåŠ¡)"></a>FCFS(å…ˆæ¥å…ˆæœåŠ¡)</h4><p>æŒ‰ç…§ä½œä¸šè¿›å…¥ç³»ç»Ÿæ—¶é—´å…ˆåæŒ‘é€‰ä½œä¸š,å…ˆè¿›ä¼˜å…ˆè¢«è¿è¡Œ.<br>æ•ˆç‡ä¸é«˜,åªè€ƒè™‘ä½œä¸šç­‰å€™æ—¶é—´,æ²¡è€ƒè™‘<strong>è¿è¡Œæ—¶é—´é•¿çŸ­</strong>.ä¸åˆ©äºçŸ­ä½œä¸š</p>
<h4 id="SJF-çŸ­ä½œä¸šä¼˜å…ˆè°ƒåº¦ç®—æ³•"><a href="#SJF-çŸ­ä½œä¸šä¼˜å…ˆè°ƒåº¦ç®—æ³•" class="headerlink" title="SJF(çŸ­ä½œä¸šä¼˜å…ˆè°ƒåº¦ç®—æ³•)"></a>SJF(çŸ­ä½œä¸šä¼˜å…ˆè°ƒåº¦ç®—æ³•)</h4><p>å‚è€ƒè¿è¡Œæ—¶é—´,é€‰å–è¿è¡Œæ—¶é—´æœ€çŸ­çš„ä½œä¸šæŠ•å…¥è¿è¡Œ.<br>æ•ˆç‡ä¸é«˜,å¿½è§†äº†ä½œä¸šç­‰å¾…æ—¶é—´,å®¹æ˜“å‡ºç°èµ„æºé¥¥é¥¿ç°è±¡.</p>
<h4 id="å“åº”æ¯”é«˜è€…ä¼˜å…ˆè°ƒåº¦"><a href="#å“åº”æ¯”é«˜è€…ä¼˜å…ˆè°ƒåº¦" class="headerlink" title="å“åº”æ¯”é«˜è€…ä¼˜å…ˆè°ƒåº¦"></a>å“åº”æ¯”é«˜è€…ä¼˜å…ˆè°ƒåº¦</h4><ul>
<li>ä½œä¸šç›¸åº”æ—¶é—´ä¸è¿è¡Œæ—¶é—´çš„æ¯”å€¼<br>å“åº”æ¯” = (ç­‰å¾…æ—¶é—´ + è¿è¡Œæ—¶é—´) / è¿è¡Œæ—¶é—´.è®¡ç®—æ¯ä¸ªä½œä¸šçš„å“åº”æ¯”,é€‰æ‹©å“åº”æ¯”æœ€é«˜çš„ä½œä¸šä¼˜å…ˆæŠ•å…¥è¿è¡Œ.<br>æœ‰åˆ©äºçŸ­ä½œä¸š,ç­‰å€™æ—¶é—´é•¿çš„ä½œä¸š.</li>
</ul>
<h4 id="ä¼˜å…ˆæ•°è°ƒåº¦ç®—æ³•"><a href="#ä¼˜å…ˆæ•°è°ƒåº¦ç®—æ³•" class="headerlink" title="ä¼˜å…ˆæ•°è°ƒåº¦ç®—æ³•"></a>ä¼˜å…ˆæ•°è°ƒåº¦ç®—æ³•</h4><p>æ ¹æ®è¿›ç¨‹ä¼˜å…ˆæ•°,æŠŠCPUåˆ†é…ç»™æœ€é«˜çš„è¿›ç¨‹,è¿›ç¨‹ä¼˜å…ˆæ•° = é™æ€ä¼˜å…ˆæ•°+ åŠ¨æ€ä¼˜å…ˆæ•°</p>
<h5 id="é™æ€ä¼˜å…ˆæ•°"><a href="#é™æ€ä¼˜å…ˆæ•°" class="headerlink" title="é™æ€ä¼˜å…ˆæ•°"></a>é™æ€ä¼˜å…ˆæ•°</h5><p>åœ¨è¿›ç¨‹åˆ›å»ºæ—¶ç¡®å®š,åœ¨æ•´ä¸ªè¿›ç¨‹è¿è¡ŒæœŸé—´ä¸å†æ›´æ”¹.</p>
<ul>
<li>è¿›ç¨‹æ‰€éœ€èµ„æºå¤šå°‘</li>
<li>ç¨‹åºè¿è¡Œæ—¶é—´é•¿çŸ­</li>
<li>è¿›ç¨‹ç±»å‹(IO/CPU,å‰å°,åå°,æ ¸å¿ƒ/ç”¨æˆ·.</li>
</ul>
<h5 id="åŠ¨æ€ä¼˜å…ˆæ•°"><a href="#åŠ¨æ€ä¼˜å…ˆæ•°" class="headerlink" title="åŠ¨æ€ä¼˜å…ˆæ•°"></a>åŠ¨æ€ä¼˜å…ˆæ•°</h5><p>å¯ä»¥æ”¹å˜</p>
<ul>
<li>CPUè¶…è¿‡ä¸€å®šæ—¶é•¿</li>
<li>å½“è¿›è¡ŒI/Oæ“ä½œ</li>
<li>å½“è¿›ç¨‹ç­‰å¾…è¶…è¿‡ä¸€å®šæ—¶é•¿.</li>
</ul>
<h4 id="å¾ªç¯è½®è½¬è°ƒåº¦æ³•"><a href="#å¾ªç¯è½®è½¬è°ƒåº¦æ³•" class="headerlink" title="å¾ªç¯è½®è½¬è°ƒåº¦æ³•"></a>å¾ªç¯è½®è½¬è°ƒåº¦æ³•</h4><p>æŠŠæ‰€æœ‰è¿›ç¨‹æŒ‰å…ˆè¿›å…ˆå‡ºçš„åŸåˆ™æ’æˆé˜Ÿåˆ—.æ–°æ¥è¿›ç¨‹åŠ åˆ°é˜Ÿåˆ—æœ«å°¾.<br>è¿›ç¨‹ä»¥æ—¶é—´ç‰‡qä¸ºå•ä½è½®æµä½¿ç”¨CPU,,åˆšè¿è¡Œå®Œä¸€ä¸ªæ—¶é—´ç‰‡çš„è¿›ç¨‹æ’åˆ°é˜Ÿåˆ—æœ«å°¾,ç­‰å€™ä¸‹ä¸€è½®è¿è¡Œ.é€»è¾‘ä¸Šæ˜¯ç¯å½¢.</p>
<ul>
<li>ä¼˜ç‚¹: å¹³ç­‰æœºä¼šè·å¾—CPU,ç­‰å¾…å›ºå®šæ—¶é—´å°±å¯ä»¥é‡æ–°è·å¾—CPU<br>æ—¶é—´ç‰‡:<br>å¦‚æœqå¤ªå¤§: äº¤äº’æ€§å·®,ç”šè‡³é€€åŒ–æˆFCFSç®—æ³•<br>å¦‚æœqçš„å€¼å¤ªå°: è¿›ç¨‹åˆ‡æ¢é¢‘ç¹,ç³»ç»Ÿå¼€é”€å¢åŠ <br>æ”¹è¿›: è®©æ—¶é—´ç‰‡å¤§å°å¯å˜,ç»„ç»‡å¤šä¸ªå°±ç»ªé˜Ÿåˆ—.</li>
</ul>
<h3 id="Linuxè¿›ç¨‹è°ƒåº¦"><a href="#Linuxè¿›ç¨‹è°ƒåº¦" class="headerlink" title="Linuxè¿›ç¨‹è°ƒåº¦"></a>Linuxè¿›ç¨‹è°ƒåº¦</h3><p>Linuxè¿›ç¨‹ç±»å‹: </p>
<ol>
<li><p>æ™®é€šè¿›ç¨‹<br>é‡‡ç”¨åŠ¨æ€ä¼˜å…ˆçº§è°ƒåº¦,è°ƒåº¦ç¨‹åº<strong>å‘¨æœŸæ€§</strong>çš„ä¿®æ”¹ä¼˜å…ˆçº§(é¿å…é¥¥é¥¿)<br>åªè¦è¿›ç¨‹å ç”¨CPU,ä¼˜å…ˆçº§å°±éšæ—¶é—´æµå¤±è€Œä¸æ–­ä¸‹é™.task_structçš„counterè¡¨ç¤ºä¼˜å…ˆçº§.ç³»ç»Ÿè°ƒç”¨<strong>sched_setscheduler()</strong>å¯ä»¥æ”¹å˜è°ƒåº¦ç­–ç•¥.å®æ—¶è¿›ç¨‹å­å­™è¿›ç¨‹ä¹Ÿæ˜¯å®æ—¶è¿›ç¨‹.</p>
</li>
<li><p>å®æ—¶è¿›ç¨‹<br>é‡‡ç”¨é™æ€ä¼˜å…ˆçº§è°ƒåº¦,ç”±ç”¨æˆ·<strong>é¢„å…ˆæŒ‡å®š</strong>,ä»¥åä¸ä¼šæ”¹å˜<br>å®æ—¶è¿›ç¨‹è°ƒåº¦ç­–ç•¥ä¸ºFIFOæˆ–è€…RR(æ—¶é—´ç‰‡è½®è½¬).å½“é‡‡ç”¨FIFOç­–ç•¥æ—¶,å½“å‰å®æ—¶è¿›ç¨‹ä¼šä¸€ç›´å ç”¨CPUç›´åˆ°è¢«<strong>é˜»å¡</strong>æˆ–è€…<strong>è¢«æŠ¢å </strong>æˆ–è€…<strong>é€€å‡º</strong>.é˜»å¡åå†å°±ç»ªæ—¶è¢«æ·»åŠ åˆ°åŒä¼˜å…ˆçº§é˜Ÿåˆ—çš„æœ«å°¾.å½“é‡‡ç”¨RRç­–ç•¥æ—¶,ä¸å…¶ä»–å®æ—¶è¿›ç¨‹å…±åŒä½¿ç”¨CPU,ç¡®ä¿åŒä¼˜å…ˆçº§çš„å¤šä¸ªè¿›ç¨‹èƒ½å…±äº«CPU.</p>
</li>
</ol>
<h4 id="è°ƒåº¦æ—¶æœº"><a href="#è°ƒåº¦æ—¶æœº" class="headerlink" title="è°ƒåº¦æ—¶æœº"></a>è°ƒåº¦æ—¶æœº</h4><ul>
<li><p>ä¸­æ–­å¤„ç†è¿‡ç¨‹ä¸­ç›´æ¥è°ƒç”¨schedule().<br>æ—¶é’Ÿä¸­æ–­,I/Oä¸­æ–­,ç³»ç»Ÿè°ƒç”¨å’Œå¼‚å¸¸.<br>å†…æ ¸è¢«åŠ¨è°ƒåº¦æƒ…å½¢.</p>
</li>
<li><p>ä¸­æ–­å¤„ç†è¿‡ç¨‹è¿”å›ç”¨æˆ·æ€æ—¶ç›´æ¥è°ƒç”¨schedule()<br>å¿…é¡»æ ¹æ®need_reschedæ ‡è®°æ¥ç¡®å®šæ˜¯å¦è°ƒç”¨</p>
</li>
<li>å†…æ ¸çº¿ç¨‹å¯ä»¥ç›´æ¥è°ƒç”¨schedule()<br>å±äºå†…æ ¸ä¸»åŠ¨è°ƒåº¦çš„æƒ…å½¢</li>
<li>ç”¨æˆ·æ€è¿›ç¨‹<strong>åªèƒ½é™·å…¥å†…æ ¸å</strong>åœ¨ä¸­æ–­å¤„ç†è¿‡ç¨‹ä¸­è¢«åŠ¨è°ƒç”¨<br>åŒæ ·ä¹Ÿæ˜¯å¿…é¡»æ ¹æ®need_reschedæ ‡è®°.</li>
</ul>
<h4 id="è¿›ç¨‹åˆ‡æ¢"><a href="#è¿›ç¨‹åˆ‡æ¢" class="headerlink" title="è¿›ç¨‹åˆ‡æ¢"></a>è¿›ç¨‹åˆ‡æ¢</h4><ul>
<li>å†…æ ¸æŒ‚èµ·å½“å‰CPUä¸Šçš„è¿›ç¨‹å¹¶æ¢å¤ä¹‹å‰æŒ‚èµ·çš„æŸä¸ªè¿›ç¨‹,ä»»åŠ¡åˆ‡æ¢,ä¸Šä¸‹æ–‡åˆ‡æ¢</li>
<li>ä¸ä¸­æ–­ä¸Šä¸‹æ–‡åˆ‡æ¢æœ‰å·®åˆ«<br>ä¸­æ–­å‰ååœ¨åŒä¸€è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­,åªæ˜¯<strong>ç”¨æˆ·æ€</strong>è½¬å‘<strong>å†…æ ¸æ€</strong>æ‰§è¡Œ.</li>
<li>è¿›ç¨‹ä¸Šä¸‹æ–‡åŒ…å«äº†è¿›ç¨‹æ‰§è¡Œéœ€è¦çš„æ‰€æœ‰ä¿¡æ¯.</li>
</ul>
<ol>
<li>ç”¨æˆ·åœ°å€ç©ºé—´:ç¨‹åºä»£ç ,æ•°æ®,ç”¨æˆ·å †æ ˆ</li>
<li>æ§åˆ¶ä¿¡æ¯: è¿›ç¨‹æè¿°ç¬¦,å†…æ ¸å †æ ˆ</li>
<li>ç¡¬ä»¶ä¸Šä¸‹æ–‡</li>
</ol>
<ul>
<li>schedule()å‡½æ•°<br>é€‰æ‹©æ–°è¿›ç¨‹<code>next = pick_next_task(rq,prerv)</code>,è¿›ç¨‹è°ƒåº¦ç®—æ³•<br>è°ƒç”¨å®<code>context_switch(rq,prev,next)</code>åˆ‡æ¢è¿›ç¨‹ä¸Šä¸‹æ–‡,åœ¨å®å½“ä¸­å®é™…ä¸Šæ˜¯è°ƒç”¨<code>switch_to(prev,next)</code>æ¥åˆ‡æ¢ä¸Šä¸‹æ–‡çš„.</li>
</ul>
<h2 id="å†…å­˜ç®¡ç†"><a href="#å†…å­˜ç®¡ç†" class="headerlink" title="å†…å­˜ç®¡ç†"></a>å†…å­˜ç®¡ç†</h2><h3 id="å†…å­˜ç®¡ç†åŠŸèƒ½"><a href="#å†…å­˜ç®¡ç†åŠŸèƒ½" class="headerlink" title="å†…å­˜ç®¡ç†åŠŸèƒ½"></a>å†…å­˜ç®¡ç†åŠŸèƒ½</h3><p>å­˜å‚¨å™¨åŠŸèƒ½éœ€æ±‚: å®¹é‡è¶³å¤Ÿå¤§,é€Ÿåº¦è¶³å¤Ÿå¿«,ä¿¡æ¯æ°¸ä¹…ä¿å­˜,å¤šé“ç¨‹åºè¿è¡Œ.</p>
<ul>
<li>å…±äº«: ä»£ç å’Œæ•°æ®å…±äº«,èŠ‚çœå†…å­˜</li>
<li>ä¿æŠ¤: ä¸å…è®¸ç¨‹åºä¹‹é—´éæ³•çš„ç›¸äº’è®¿é—®.</li>
</ul>
<p>å­˜å‚¨ç®¡ç†çš„åŠŸèƒ½: </p>
<h4 id="åœ°å€æ˜ å°„"><a href="#åœ°å€æ˜ å°„" class="headerlink" title="åœ°å€æ˜ å°„"></a>åœ°å€æ˜ å°„</h4><p>æŠŠç¨‹åºä¸­çš„åœ°å€(è™šæ‹Ÿ/è™š/é€»è¾‘)å˜æ¢æˆå†…å­˜ä¸­çš„çœŸå®åœ°å€çš„è¿‡ç¨‹,æ–¹å¼æœ‰ä¸‰ç§,å›ºå®šåœ°å€æ˜ å°„,é™æ€åœ°å€æ˜ å°„,åŠ¨æ€åœ°å€æ˜ å°„.</p>
<h5 id="å›ºå®šåœ°å€æ˜ å°„"><a href="#å›ºå®šåœ°å€æ˜ å°„" class="headerlink" title="å›ºå®šåœ°å€æ˜ å°„"></a>å›ºå®šåœ°å€æ˜ å°„</h5><p>åœ¨ç¼–ç¨‹æˆ–è€…ç¼–è¯‘æ—¶ç¡®å®šé€»è¾‘åœ°å€å’Œç‰©ç†åœ°å€çš„æ˜ å°„å…³ç³»,ä½†æ˜¯åœ¨ç¨‹åºåŠ è½½çš„æ—¶å€™å¿…é¡»æ”¾åœ¨<strong>æŒ‡å®šçš„å†…å­˜åŒºåŸŸ</strong>,ä½†æ˜¯å®¹æ˜“äº§ç”Ÿåœ°å€å†²çª,è¿è¡Œå¤±è´¥.</p>
<h5 id="é™æ€åœ°å€æ˜ å°„"><a href="#é™æ€åœ°å€æ˜ å°„" class="headerlink" title="é™æ€åœ°å€æ˜ å°„"></a>é™æ€åœ°å€æ˜ å°„</h5><p>ç¨‹åº<strong>è£…å…¥</strong>æ—¶ç”±OSå®Œæˆé€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„.è®¾<strong>é€»è¾‘åœ°å€</strong>ä¸ºVA,<strong>è£…å…¥åŸºå€</strong>ä¸ºBA,<strong>ç‰©ç†åœ°å€</strong>ä¸ºMA.æœ‰</p>
<script type="math/tex; mode=display">
MA = BA + VA</script><ul>
<li>ç¨‹åºè¿è¡Œä¹‹å‰ç¡®å®šæ˜ å°„å…³ç³»</li>
<li>ç¨‹åºè£…å…¥ä¹‹åä¸èƒ½ç§»åŠ¨,ç§»åŠ¨ä¹‹åå¿…é¡»æ”¾å›åŸæ¥çš„ä½ç½®</li>
<li>ç¨‹åºå ç”¨è¿ç»­çš„å†…å­˜ç©ºé—´.</li>
</ul>
<h5 id="åŠ¨æ€åœ°å€æ˜ å°„"><a href="#åŠ¨æ€åœ°å€æ˜ å°„" class="headerlink" title="åŠ¨æ€åœ°å€æ˜ å°„."></a>åŠ¨æ€åœ°å€æ˜ å°„.</h5><p>åœ¨ç¨‹åº<strong>æ‰§è¡Œè¿‡ç¨‹ä¸­</strong>æŠŠé€»è¾‘åœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€.ä¾‹å¦‚,<code>MOV AX,[500]</code>OSå°±ä¼šåœ¨è®¿é—®500å•å…ƒæ—¶æ‰§è¡Œåœ°å€è½¬æ¢.å¦‚æœç¨‹åºåœ¨è¿‡ç¨‹ä¸­æœ‰ç§»åŠ¨,åˆ™å¯èƒ½äº§ç”Ÿæ–°çš„BA,ç›¸åº”çš„MAä¹Ÿå°±éœ€è¦é‡æ–°è®¡ç®—.</p>
<ul>
<li>ç¨‹åºå ç”¨çš„å†…å­˜ç©ºé—´å¯ä»¥åŠ¨æ€å˜åŒ–,BAéœ€è¦åŠæ—¶æ›´æ–°.</li>
<li>ä¸è¦æ±‚å ç”¨è¿ç»­çš„å†…å­˜ç©ºé—´,æ¯æ®µç¨‹åºçš„BAåº”è¯¥çŸ¥é“</li>
<li>ä¾¿äºå¤šä¸ªè¿›ç¨‹å…±äº«ä»£ç </li>
<li>éœ€è¦ç¡¬ä»¶æ”¯æŒMMU(å†…å­˜ç®¡ç†)</li>
</ul>
<h4 id="è™šæ‹Ÿå†…å­˜"><a href="#è™šæ‹Ÿå†…å­˜" class="headerlink" title="è™šæ‹Ÿå†…å­˜"></a>è™šæ‹Ÿå†…å­˜</h4><p>è§£å†³é—®é¢˜: ç¨‹åºè¿‡å¤šæˆ–è€…è¿‡å¤§æ—¶,å†…å­˜ä¸å¤Ÿ,ä¸èƒ½è¿è¡Œ.å¤šä¸ªç¨‹åºå¹¶å‘æ—¶åœ°å€å†²çª,ä¸èƒ½è¿è¡Œ.</p>
<ul>
<li>é¢å‘ç”¨æˆ·çš„è™šæ‹Ÿå°é—­å†…å­˜.</li>
</ul>
<ol>
<li>çº¿è¡Œåœ°å€ç©ºé—´</li>
<li>å®¹é‡4G</li>
<li>å°é—­ç©ºé—´</li>
<li>å’Œç‰©ç†åœ°å€åˆ†ç¦»(åœ°å€æ— å†²çª)</li>
<li>ç¨‹åºå‘˜ç¼–ç¨‹æ—¶ä½¿ç”¨çº¿è¡Œè™šæ‹Ÿåœ°å€</li>
</ol>
<h4 id="å†…å­˜åˆ†é…"><a href="#å†…å­˜åˆ†é…" class="headerlink" title="å†…å­˜åˆ†é…"></a>å†…å­˜åˆ†é…</h4><p>è§£å†³ç›®æ ‡: ä¸ºç¨‹åºè¿è¡Œåˆ†é…è¶³å¤Ÿçš„å†…å­˜ç©ºé—´.<br>éœ€è¦è§£å†³çš„é—®é¢˜:</p>
<ol>
<li>æ”¾ç½®ç­–ç•¥: ç¨‹åºè°ƒå…¥å†…å­˜æ—¶å°†å…¶æ”¾ç½®åœ¨å“ªä¸ªå†…å­˜åŒº?</li>
<li>è°ƒå…¥ç­–ç•¥: ä½•æ—¶æŠŠè¦è¿è¡Œçš„ä»£ç å’Œè¦è®¿é—®çš„æ•°æ®å­˜å…¥å†…å­˜</li>
<li>æ·˜æ±°ç­–ç•¥: å†…å­˜ç©ºé—´ä¸å¤Ÿæ—¶,è¿å‡ºå“ªäº›ä»£ç æˆ–æ•°æ®ä»¥è…¾å‡ºå†…å­˜</li>
</ol>
<h4 id="å­˜å‚¨ä¿æŠ¤"><a href="#å­˜å‚¨ä¿æŠ¤" class="headerlink" title="å­˜å‚¨ä¿æŠ¤"></a>å­˜å‚¨ä¿æŠ¤</h4><p>è§£å†³ç›®æ ‡: ä¿è¯åœ¨å†…å­˜ä¸­çš„å¤šé“ç¨‹åºåªåœ¨ç»™å®šçš„å­˜å‚¨åŒºåŸŸä¸­æ´»åŠ¨ä¸”äº’ä¸å¹²æ‰°.é˜²æ­¢è®¿é—®è¶Šæƒå’Œè¶Šç•Œ<br>ä½¿ç”¨<strong>ç•Œå€å¯„å­˜å™¨</strong>æ¥é™åˆ¶,ç¨‹åºè®¿é—®å†…å­˜æ—¶ç¡¬ä»¶è‡ªåŠ¨å°†ç›®çš„åœ°å€ä¸ä¸‹é™å¯„å­˜å™¨å’Œä¸Šé™å¯„å­˜å™¨ä¸­å­˜æ”¾çš„åœ°å€ç•Œé™è¿›è¡Œæ¯”è¾ƒ,åˆ¤æ–­æ˜¯å¦è¶Šç•Œ.</p>
<h3 id="ç‰©ç†å†…å­˜ç®¡ç†"><a href="#ç‰©ç†å†…å­˜ç®¡ç†" class="headerlink" title="ç‰©ç†å†…å­˜ç®¡ç†"></a>ç‰©ç†å†…å­˜ç®¡ç†</h3><h4 id="åˆ†åŒºå†…å­˜ç®¡ç†"><a href="#åˆ†åŒºå†…å­˜ç®¡ç†" class="headerlink" title="åˆ†åŒºå†…å­˜ç®¡ç†"></a>åˆ†åŒºå†…å­˜ç®¡ç†</h4><p>æ ¹æ®åˆ†åŒºç®¡ç†å½¢å¼ä¸åŒå¯ä»¥åˆ†ä¸º</p>
<ul>
<li>å•ä¸€åŒºå­˜å‚¨ç®¡ç†</li>
<li>åˆ†åŒºå­˜å‚¨ç®¡ç†,å…¶ä¸­è¿˜å¯ç»†åˆ†ä¸ºå›ºå®šåˆ†åŒºå’ŒåŠ¨æ€åˆ†åŒº.</li>
</ul>
<h5 id="å•ä¸€åŒºå­˜å‚¨ç®¡ç†"><a href="#å•ä¸€åŒºå­˜å‚¨ç®¡ç†" class="headerlink" title="å•ä¸€åŒºå­˜å‚¨ç®¡ç†"></a>å•ä¸€åŒºå­˜å‚¨ç®¡ç†</h5><p>ç”¨æˆ·åŒºä¸åˆ†åŒº,å®Œå…¨è¢«ä¸€ä¸ªç¨‹åºå ç”¨</p>
<ul>
<li>ä¼˜ç‚¹: ç®€å•,ä¸éœ€è¦å¤æ‚çš„ç¡¬ä»¶æ”¯æŒ,é€‚äºå•ç”¨æˆ·å•ä»»åŠ¡OS</li>
<li>ç¼ºç‚¹: ç¨‹åºè¿è¡Œå ç”¨æ•´ä¸ªå†…å­˜,å³ä½¿ç¨‹åºå¾ˆå°ä¹Ÿæ˜¯è¿™æ ·,å†…å­˜æµªè´¹,åˆ©ç”¨ç‡ä½</li>
</ul>
<h5 id="åˆ†åŒºå­˜å‚¨ç®¡ç†"><a href="#åˆ†åŒºå­˜å‚¨ç®¡ç†" class="headerlink" title="åˆ†åŒºå­˜å‚¨ç®¡ç†"></a>åˆ†åŒºå­˜å‚¨ç®¡ç†</h5><p>æŠŠç”¨æˆ·åŒºå†…å­˜åˆ’åˆ†ä¸ºè‹¥å¹²å¤§å°ä¸ç­‰çš„åˆ†åŒº,ä¾›ä¸åŒçš„ç¨‹åºä½¿ç”¨,æ ¹æ®åˆ†åŒºçš„<strong>æ—¶æœº</strong>åˆ†ä¸ºå›ºå®šåˆ†åŒºå’ŒåŠ¨æ€åˆ†åŒº</p>
<h6 id="å›ºå®šåˆ†åŒº"><a href="#å›ºå®šåˆ†åŒº" class="headerlink" title="å›ºå®šåˆ†åŒº"></a>å›ºå®šåˆ†åŒº</h6><p>æŠŠå†…å­˜<strong>å›ºå®š</strong>åœ°åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå¤§å°ä¸ç­‰çš„åˆ†åŒºä¾›ç¨‹åºä½¿ç”¨,æ¯ä¸ªåˆ†åŒºçš„<strong>ä½ç½®</strong>å’Œ<strong>å¤§å°</strong>éƒ½å›ºå®š.ç³»ç»Ÿè¿è¡ŒæœŸé—´ä¸å†æ”¹å˜.ç”¨<strong>åˆ†åŒºè¡¨</strong>è®°å½•åˆ†åŒºçš„ä½ç½®å¤§å°å’Œä½¿ç”¨æƒ…å†µ.</p>
<ul>
<li>åœ¨ç¨‹åºè£…å…¥å‰,å†…å­˜å·²è¢«åˆ†åŒº,ä¸å†æ”¹å˜</li>
<li>æ¯ä¸ªåˆ†åŒºå¤§å°ä¸ç›¸åŒ,é€‚åº”å¤§å°ä¸åŒçš„ç¨‹åº</li>
<li>ç³»ç»Ÿè¦ç»´æŠ¤åˆ†åŒºè¡¨</li>
</ul>
<p>ç¼ºç‚¹: æµªè´¹å†…å­˜,å¤§ç¨‹åºå¯èƒ½æ— æ³•è¿è¡Œ.</p>
<h6 id="åŠ¨æ€åˆ†åŒº"><a href="#åŠ¨æ€åˆ†åŒº" class="headerlink" title="åŠ¨æ€åˆ†åŒº"></a>åŠ¨æ€åˆ†åŒº</h6><p>åœ¨ç¨‹åºè£…å…¥çš„æ—¶å€™åˆ›å»ºåˆ†åŒº,ä½¿åˆ†åŒºçš„å¤§å°åˆšå¥½å’Œç¨‹åºçš„å¤§å°ç›¸é€‚åº”.å­˜åœ¨å†…å­˜ç¢ç‰‡.</p>
<h6 id="ç©ºé—²åŒºè¡¨å¦‚ä½•æ’åº"><a href="#ç©ºé—²åŒºè¡¨å¦‚ä½•æ’åº" class="headerlink" title="ç©ºé—²åŒºè¡¨å¦‚ä½•æ’åº"></a>ç©ºé—²åŒºè¡¨å¦‚ä½•æ’åº</h6><ul>
<li>æ”¾ç½®ç­–ç•¥(ç©ºé—²åŒºè¡¨æ’åºåŸåˆ™)<ol>
<li>æŒ‰ç©ºé—²åŒºä½ç½®(é¦–å€)é€’å¢æ’åº.(é¦–æ¬¡é€‚åº”æ³•)</li>
<li>æŒ‰ç©ºé—²åŒºä½ç½®(é¦–å€)é€’å‡æ’åº</li>
<li>æŒ‰ç©ºé—²åŒºå¤§å°çš„é€’å¢æ’åº.</li>
<li>æŒ‰ç©ºé—²åŒºå¤§å°çš„é€’å‡æ’åº</li>
</ol>
</li>
</ul>
<h6 id="é¦–æ¬¡é€‚åº”æ³•"><a href="#é¦–æ¬¡é€‚åº”æ³•" class="headerlink" title="# é¦–æ¬¡é€‚åº”æ³•"></a># é¦–æ¬¡é€‚åº”æ³•</h6><p>å°½å¯èƒ½å…ˆä½¿ç”¨<strong>ä½åœ°å€</strong>çš„å†…å­˜,å½“éœ€è¦è¾ƒå¤§åˆ†åŒºæ—¶åœ¨é«˜åœ°å€ç©ºé—´æœ‰è¾ƒå¤§çš„æ»¡è¶³æ¦‚ç‡.</p>
<h6 id="æœ€ä½³é€‚åº”æ³•"><a href="#æœ€ä½³é€‚åº”æ³•" class="headerlink" title="# æœ€ä½³é€‚åº”æ³•"></a># æœ€ä½³é€‚åº”æ³•</h6><p>å°½å¯èƒ½ä½¿ç”¨<strong>è¾ƒå°</strong>çš„ç©ºé—²åŒº,ä¿ç•™å¤§çš„ç©ºé—²åŒº,å½“éœ€è¦è¾ƒå¤§åˆ†åŒºæ—¶æœ‰è¾ƒå¤§æ»¡è¶³å¯èƒ½æ€§</p>
<h6 id="æœ€åé€‚åº”æ³•"><a href="#æœ€åé€‚åº”æ³•" class="headerlink" title="# æœ€åé€‚åº”æ³•"></a># æœ€åé€‚åº”æ³•</h6><p>èŠ‚çœéå†æ—¶é—´.æœ€å¤§çš„åˆ†åŒºåˆ‡å‰²ä»¥åè¿˜æ˜¯ä¸€ä¸ªè¾ƒå¤§çš„åˆ†åŒº,è¿˜å¯èƒ½å¯ä»¥è®©ç¨‹åºè¿è¡Œ.</p>
<h5 id="åˆ†åŒºçš„å›æ”¶"><a href="#åˆ†åŒºçš„å›æ”¶" class="headerlink" title="åˆ†åŒºçš„å›æ”¶"></a>åˆ†åŒºçš„å›æ”¶</h5><p>å›æ”¶ç¨‹åºé‡Šæ”¾çš„åˆ†åŒº,ç™»è®°åˆ°<strong>ç©ºé—²åŒºè¡¨</strong>ä¸­,ä»¥ä¾¿å†æ¬¡åˆ†åŒº.</p>
<ul>
<li>è€ƒè™‘é‡Šæ”¾åŒºä¸ç°æœ‰ç©ºé—²åŒº<strong>æ˜¯å¦ç›¸é‚»</strong></li>
<li>å¦‚ä¸ç›¸é‚»åˆ™ç›´æ¥æ’å…¥ç©ºé—²åŒºè¡¨</li>
<li>å¦‚æœç›¸é‚»åˆ™ä¸<strong>ç©ºé—²åŒºåˆå¹¶</strong>åæ›´æ–°ç©ºé—²åŒºè¡¨.</li>
</ul>
<h4 id="å†…å­˜è¦†ç›–æŠ€æœ¯"><a href="#å†…å­˜è¦†ç›–æŠ€æœ¯" class="headerlink" title="å†…å­˜è¦†ç›–æŠ€æœ¯"></a>å†…å­˜è¦†ç›–æŠ€æœ¯</h4><ul>
<li>åœ¨è¾ƒå°å†…å­˜ç©ºé—´ä¸­è¿è¡Œè¾ƒå¤§ç¨‹åº<h5 id="å†…å­˜åˆ†åŒº"><a href="#å†…å­˜åˆ†åŒº" class="headerlink" title="å†…å­˜åˆ†åŒº"></a>å†…å­˜åˆ†åŒº</h5></li>
<li>å¸¸é©»åŒº: è¢«æŸæ®µå•ç‹¬ä¸”å›ºå®šåœ°å ç”¨,å¯ä»¥åˆ’åˆ†å¤šä¸ª.</li>
<li>è¦†ç›–åŒº: èƒ½è¢«å¤šæ®µå…±ç”¨,å¯åˆ’åˆ†å¤šä¸ª.</li>
</ul>
<h5 id="è¦†ç›–çš„ç¼ºç‚¹"><a href="#è¦†ç›–çš„ç¼ºç‚¹" class="headerlink" title="è¦†ç›–çš„ç¼ºç‚¹"></a>è¦†ç›–çš„ç¼ºç‚¹</h5><ul>
<li>ç¼–ç¨‹å¤æ‚,ç¨‹åºå‘˜åˆ’åˆ†ç¨‹åºæ¨¡å—å¹¶ç¡®å®šè¦†ç›–å…³ç³».</li>
<li>ç¨‹åºæ‰§è¡Œæ—¶é—´é•¿,ä»å¤–å­˜è£…å…¥å†…å­˜è€—æ—¶.</li>
</ul>
<h4 id="å†…å­˜äº¤æ¢æŠ€æœ¯"><a href="#å†…å­˜äº¤æ¢æŠ€æœ¯" class="headerlink" title="å†…å­˜äº¤æ¢æŠ€æœ¯"></a>å†…å­˜äº¤æ¢æŠ€æœ¯</h4><p>åœ¨<strong>å°å†…å­˜</strong>ä¸­,<strong>å¹¶å‘</strong>çš„è¿è¡Œå¤šä¸ªè¿›ç¨‹.</p>
<ul>
<li>åŸç†: åœ¨å†…å­˜ä¸å¤Ÿæ—¶å°†è¿›ç¨‹<strong>å†™å…¥åˆ°ç£ç›˜</strong>,å½“è¿›ç¨‹è¦è¿è¡Œæ—¶é‡æ–°å†™å›å†…å­˜.<h5 id="äº¤æ¢æŠ€æœ¯çš„ç¼ºç‚¹"><a href="#äº¤æ¢æŠ€æœ¯çš„ç¼ºç‚¹" class="headerlink" title="äº¤æ¢æŠ€æœ¯çš„ç¼ºç‚¹"></a>äº¤æ¢æŠ€æœ¯çš„ç¼ºç‚¹</h5></li>
<li><strong>æ¢å…¥</strong>å’Œ<strong>æ¢å‡º</strong>å¢åŠ CPUå¼€é”€.</li>
<li>äº¤æ¢å•ä½å¤ªå¤§<h5 id="éœ€è¦è€ƒè™‘çš„é—®é¢˜"><a href="#éœ€è¦è€ƒè™‘çš„é—®é¢˜" class="headerlink" title="éœ€è¦è€ƒè™‘çš„é—®é¢˜"></a>éœ€è¦è€ƒè™‘çš„é—®é¢˜</h5></li>
<li>å‡å°‘äº¤æ¢ä¼ é€çš„ä¿¡æ¯é‡</li>
<li>å¤–å­˜äº¤æ¢ç©ºé—´çš„ç®¡ç†åŠæ³•</li>
<li>ç¨‹åºæ¢å…¥æ—¶çš„åœ°å€é‡å®šä½.</li>
</ul>
<h4 id="å†…å­˜ç¢ç‰‡"><a href="#å†…å­˜ç¢ç‰‡" class="headerlink" title="å†…å­˜ç¢ç‰‡"></a>å†…å­˜ç¢ç‰‡</h4><ul>
<li>è¿‡å°çš„ç©ºé—²åŒº,éš¾ä»¥å®é™…åˆ©ç”¨.é™ä½å†…å­˜æœ‰æ•ˆåˆ©ç”¨ç‡.</li>
</ul>
<p><strong>æœ€ä½³é€‚åº”æ³•</strong>æœ€å®¹æ˜“äº§ç”Ÿå†…å­˜ç¢ç‰‡.</p>
<h5 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h5><ul>
<li>è§„å®šé—¨é™å€¼,å¦‚æœå‰©ä½™éƒ¨åˆ†å°‘äºé—¨é™å€¼,åˆ™ç©ºé—²åŒºä¸è¿›è¡Œåˆ†å‰²,å…¨éƒ¨åˆ†é…ç»™ç”¨æˆ·.</li>
</ul>
<h5 id="æ–¹æ³•äºŒ-ç¢ç‰‡æ‹¼æ¥"><a href="#æ–¹æ³•äºŒ-ç¢ç‰‡æ‹¼æ¥" class="headerlink" title="æ–¹æ³•äºŒ: ç¢ç‰‡æ‹¼æ¥"></a>æ–¹æ³•äºŒ: ç¢ç‰‡æ‹¼æ¥</h5><ul>
<li>å°†æ‰€æœ‰ç©ºé—²åŒºé›†ä¸­ä¸€èµ·æ„æˆä¸€ä¸ªå¤§çš„ç©ºé—²åŒº</li>
<li>æ‹¼æ¥çš„æ—¶æœº: </li>
</ul>
<ol>
<li>é‡Šæ”¾åŒºå›æ”¶çš„æ—¶å€™(æ‹¼æ¥é¢‘ç‡è¿‡å¤§,ç³»ç»Ÿå¼€é”€å¤§)</li>
<li>ç³»ç»Ÿæ‰¾ä¸åˆ°è¶³å¤Ÿå¤§çš„ç©ºé—²åŒºçš„æ—¶å€™(ç©ºé—²åŒºçš„ç®¡ç†å¤æ‚)</li>
<li>å®šæœŸ(ç©ºé—²åŒºçš„ç®¡ç†å¤æ‚)</li>
</ol>
<h6 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h6><ul>
<li>æ¶ˆè€—ç³»ç»Ÿèµ„æº</li>
<li>ç¦»çº¿æ‹¼æ¥,éœ€è¦å¯¹æ‰€æœ‰ä½œä¸šè¿›è¡Œç¦»çº¿,æš‚åœä½œä¸šè¿›è¡Œæ‹¼æ¥</li>
<li>é‡æ–°å®šä¹‰æ‹¼æ¥,æ¯ä¸ªä½œä¸šå†…å­˜çš„å¤§å°,ä½ç½®å‘ç”Ÿäº†å˜åŒ–,éœ€è¦é‡æ–°å®šä¹‰.</li>
</ul>
<h5 id="æ–¹æ³•ä¸‰-è§£é™¤ç¨‹åºå ç”¨è¿ç»­å†…å­˜æ‰èƒ½è¿è¡Œçš„é™åˆ¶"><a href="#æ–¹æ³•ä¸‰-è§£é™¤ç¨‹åºå ç”¨è¿ç»­å†…å­˜æ‰èƒ½è¿è¡Œçš„é™åˆ¶" class="headerlink" title="æ–¹æ³•ä¸‰: è§£é™¤ç¨‹åºå ç”¨è¿ç»­å†…å­˜æ‰èƒ½è¿è¡Œçš„é™åˆ¶"></a>æ–¹æ³•ä¸‰: è§£é™¤ç¨‹åºå ç”¨è¿ç»­å†…å­˜æ‰èƒ½è¿è¡Œçš„é™åˆ¶</h5><ul>
<li>æŠŠç¨‹åº<strong>åˆ†æ‹†å¤šä¸ªéƒ¨åˆ†è£…å…¥ä¸åŒåˆ†åŒº</strong>,å……åˆ†åˆ©ç”¨ç¢ç‰‡.</li>
</ul>
<h3 id="è™šæ‹Ÿå†…å­˜ç®¡ç†"><a href="#è™šæ‹Ÿå†…å­˜ç®¡ç†" class="headerlink" title="è™šæ‹Ÿå†…å­˜ç®¡ç†"></a>è™šæ‹Ÿå†…å­˜ç®¡ç†</h3><ul>
<li>ä½¿å¾—å¤§çš„ç¨‹åºèƒ½åœ¨è¾ƒå°å†…å­˜ä¸­è¿è¡Œ</li>
<li>å¤šä¸ªç¨‹åºå¯ä»¥åœ¨å°å†…å­˜ä¸­è¿è¡Œ</li>
<li>å¤šä¸ªç¨‹åº<strong>å¹¶å‘è¿è¡Œ</strong>åœ°å€ä¸å†²çª.</li>
<li>æ— ç¢ç‰‡</li>
<li><p>å®ç°æ€è·¯: åªæŠŠå½“å‰å¿…è¦çš„å¾ˆå°ä¸€éƒ¨åˆ†ä»£ç å’Œæ•°æ®è£…å…¥å†…å­˜,å…¶ä½™ä»£ç å’Œæ•°æ®éœ€è¦çš„æ—¶å€™å†è£…å…¥,ä¸å†è¿è¡Œçš„ä»£ç å’Œæ•°æ®ä»å†…å­˜ä¸­åˆ é™¤.</p>
</li>
<li><p>ç¨‹åºè¿è¡Œçš„å±€éƒ¨æ€§: åœ¨ä¸€ä¸ª<strong>æœ‰é™çš„</strong>æ—¶é—´æ®µå†…è®¿é—®çš„ä»£ç å’Œæ•°æ®å¾€å¾€é›†ä¸­åœ¨<strong>æœ‰é™çš„åœ°å€èŒƒå›´å†…</strong>.</p>
</li>
<li>æŠŠç¨‹åºçš„ä¸€éƒ¨åˆ†è£…å…¥å†…å­˜åœ¨è¾ƒå¤§æ¦‚ç‡ä¸Šä¹Ÿè¶³å¤Ÿè®©å…¶è¿è¡Œä¸€å°æ®µæ—¶é—´.<h4 id="é¡µå¼è™šæ‹Ÿå­˜å‚¨ç®¡ç†"><a href="#é¡µå¼è™šæ‹Ÿå­˜å‚¨ç®¡ç†" class="headerlink" title="é¡µå¼è™šæ‹Ÿå­˜å‚¨ç®¡ç†"></a>é¡µå¼è™šæ‹Ÿå­˜å‚¨ç®¡ç†</h4></li>
<li>æŠŠè¿›ç¨‹å’Œå†…å­˜éƒ½æŒ‰ä¸€å®šå¤§å°(å¦‚1k,2K,4Kç­‰)åˆ’åˆ†æˆç­‰å¤§å°çš„å°ç‰‡,è¿›ç¨‹çš„å°ç‰‡å«<strong>é¡µ</strong>,å†…å­˜çš„å°ç‰‡å«<strong>é¡µæ¡†</strong>,</li>
</ul>
<p>åªæŠŠç¨‹åº<strong>éƒ¨åˆ†é¡µ</strong>è£…å…¥å†…å­˜å³å¯è¿è¡Œ.é¡µåœ¨å†…å­˜ä¸­å ç”¨çš„é¡µæ¡†<strong>ä¸å¿…ç›¸é‚»</strong>.éœ€è¦æ–°é¡µæ—¶,æŒ‰éœ€ä»ç¡¬ç›˜è°ƒå…¥å†…å­˜.</p>
<h4 id="é¡µè¡¨å’Œé¡µå¼åœ°å€æ˜ å°„"><a href="#é¡µè¡¨å’Œé¡µå¼åœ°å€æ˜ å°„" class="headerlink" title="é¡µè¡¨å’Œé¡µå¼åœ°å€æ˜ å°„"></a>é¡µè¡¨å’Œé¡µå¼åœ°å€æ˜ å°„</h4><p>è™šæ‹Ÿåœ°å€(VA)å¯ä»¥è¢«åˆ†è§£æˆ<strong>é¡µå·P</strong>å’Œ<strong>é¡µå†…åç§»W</strong></p>
<ul>
<li>é¡µå· = VA / é¡µçš„å¤§å°</li>
<li>é¡µå†…åç§» = VA % é¡µçš„å¤§å°</li>
<li>è®¡ç®—é¡µå·å’Œé¡µå†…åç§»çš„å¦ä¸€ç§æ–¹æ³•: </li>
</ul>
<ol>
<li>é¡µå·P = VA &gt;&gt; n, å…¶ä¸­nä¸ºé¡µçš„å¤§å°2<sup>n</sup></li>
<li>é¡µå†…åç§»W = VA &amp;&amp;(2<sup>n</sup>-1)</li>
</ol>
<ul>
<li>é¡µé¢æ˜ å°„è¡¨: è®°å½•é¡µä¸é¡µæ¡†ä¹‹é—´çš„å¯¹åº”å…³ç³».<h5 id="é¡µå¼åœ°å€æ˜ å°„"><a href="#é¡µå¼åœ°å€æ˜ å°„" class="headerlink" title="é¡µå¼åœ°å€æ˜ å°„"></a>é¡µå¼åœ°å€æ˜ å°„</h5>å°†è™šæ‹Ÿåœ°å€(é¡µå¼åœ°å€)æ˜ å°„åˆ°ç‰©ç†åœ°å€ä¸Š.</li>
</ul>
<ol>
<li>ä»VAä¸­åˆ†ç¦»På’ŒW</li>
<li>æŸ¥é¡µè¡¨,ä»¥Pä¸ºç´¢å¼•æŸ¥é¡µæ¡†å·Pâ€™</li>
<li>è®¡ç®—ç‰©ç†åœ°å€MA = Pâ€™ $\times$ é¡µé¢å¤§å° + W</li>
</ol>
<h4 id="å¿«è¡¨æŠ€æœ¯å’Œé¡µé¢å…±äº«æŠ€æœ¯"><a href="#å¿«è¡¨æŠ€æœ¯å’Œé¡µé¢å…±äº«æŠ€æœ¯" class="headerlink" title="å¿«è¡¨æŠ€æœ¯å’Œé¡µé¢å…±äº«æŠ€æœ¯"></a>å¿«è¡¨æŠ€æœ¯å’Œé¡µé¢å…±äº«æŠ€æœ¯</h4><ul>
<li>å¿«è¡¨(Cache): é¡µè¡¨æ”¾åœ¨<strong>Cache</strong>ä¸­. å®¹é‡å°,è®¿é—®å¿«,æˆæœ¬é«˜,æ…¢è¡¨éƒ¨åˆ†å†…å®¹å¤åˆ¶,åœ°å€æ˜ å°„æ—¶ä¼˜å…ˆè®¿é—®å¿«è¡¨.</li>
<li>æ…¢è¡¨: é¡µè¡¨æ”¾åœ¨å†…å­˜ä¸­<br>å¦‚æœåœ¨å¿«è¡¨ä¸­æ‰¾åˆ°äº†æ‰€éœ€çš„æ•°æ®,å«<strong>å‘½ä¸­</strong>.æ²¡æœ‰å‘½ä¸­è®¿é—®æ…¢è¡¨,åŒæ—¶æ›´æ–°å¿«è¡¨.åˆç†é¡µé¢è°ƒåº¦ç­–ç•¥èƒ½å¤Ÿå¿«è¡¨å…·æœ‰è¾ƒé«˜å‘½ä¸­ç‡</li>
</ul>
<h4 id="ç¼ºé¡µä¸­æ–­"><a href="#ç¼ºé¡µä¸­æ–­" class="headerlink" title="ç¼ºé¡µä¸­æ–­"></a>ç¼ºé¡µä¸­æ–­</h4><p>é¡µè¡¨æ‰©å……: å¸¦<strong>ä¸­æ–­ä½</strong>çš„é¡µè¡¨.</p>
<ul>
<li>å®šä¹‰: è®¿é—®çš„ç›®çš„é¡µ<strong>ä¸åœ¨å†…å­˜</strong>,ç³»ç»Ÿäº§ç”Ÿå¼‚å¸¸ä¸­æ–­.</li>
<li>ç¼ºé¡µä¸­æ–­å¤„ç†ç¨‹åº: æŠŠæ‰€ç¼ºçš„é¡µä»é¡µè¡¨æŒ‡å‡ºçš„è¾…å­˜åœ°å€è°ƒå…¥å†…å­˜ä¸­çš„æŸä¸ªé¡µæ¡†ä¸­,å¹¶æ›´æ–°é¡µè¡¨ä¸­å¯¹åº”çš„ä¸­æ–­ä½ä¸º<strong>0</strong>.</li>
<li>ç¼ºé¡µç‡: ç¼ºé¡µæ¬¡æ•° / è®¿é—®æ¬¡æ•°</li>
</ul>
<h4 id="é¡µé¢æ·˜æ±°"><a href="#é¡µé¢æ·˜æ±°" class="headerlink" title="é¡µé¢æ·˜æ±°"></a>é¡µé¢æ·˜æ±°</h4><ul>
<li>é€‰æ‹©æ·˜æ±°<strong>å“ªä¸€é¡µ</strong>çš„è§„åˆ™.</li>
<li>é¡µé¢æŠ–åŠ¨: é¡µé¢åœ¨<strong>å†…å­˜</strong>å’Œ<strong>è¾…å­˜</strong>é—´é¢‘ç¹äº¤æ¢çš„ç°è±¡,é™ä½ç³»ç»Ÿæ•ˆç‡.</li>
</ul>
<p>ä¸€ä¸ªå¥½çš„æ·˜æ±°ç­–ç•¥åº”è¯¥å…·æœ‰è¾ƒä½çš„ç¼ºé¡µç‡,é¡µé¢æŠ–åŠ¨è¾ƒå°‘.</p>
<ul>
<li>å¸¸ç”¨æ·˜æ±°ç®—æ³•</li>
</ul>
<ol>
<li>æœ€ä½³ç®—æ³•(OPT): æ·˜æ±°ä»¥å<strong>ä¸å†éœ€è¦</strong>æˆ–è€…<strong>æœ€è¿œçš„å°†æ¥</strong>æ‰ä¼šç”¨åˆ°çš„é¡µé¢.0</li>
</ol>
<p>ç†è®ºä¸Šæœ€ä½³,ä½†å®è·µä¸­è¯¥ç®—æ³•<strong>æ— æ³•å®ç°</strong>,åœ¨è¿›ç¨‹è®¿é—®å®Œä¹‹å‰å¹¶ä¸çŸ¥é“å°†æ¥éœ€è¦è®¿é—®ä»€ä¹ˆé¡µé¢</p>
<ol>
<li>å…ˆè¿›å…ˆå‡ºç®—æ³•(FIFO): æ·˜æ±°åœ¨å†…å­˜ä¸­<strong>åœç•™æ—¶é—´æœ€é•¿</strong>çš„é¡µé¢</li>
</ol>
<p>å®ç°ç®€å•: åªæœ‰æŒ‰é¡ºåºåœ°å€ç©ºé—´è®¿é—®æ—¶æ‰æœ‰è¾ƒé«˜å‘½ä¸­ç‡.</p>
<ol>
<li>æœ€ä¹…æœªä½¿ç”¨æ·˜æ±°ç®—æ³•: æ·˜æ±°æœ€é•¿æ—¶é—´æœªè¢«ä½¿ç”¨çš„é¡µé¢(LRU)</li>
</ol>
<p>é¡µé¢è®¾ç½®ä¸€ä¸ª<strong>ç§»ä½å¯„å­˜å™¨R</strong>,æ¯å½“é¡µé¢è¢«è®¿é—®åˆ™å°†å…¶é‡ç½®1. å‘¨æœŸæ€§åœ°å°†æ‰€æœ‰é¡µé¢çš„Rå·¦ç§»ä¸€ä½. å½“éœ€è¦æ·˜æ±°é¡µé¢æ—¶,é€‰æ‹©Rå€¼æœ€å¤§çš„é¡µ(Rå€¼è¶Šå¤§,å¯¹åº”é¡µçš„æœªè¢«ä½¿ç”¨æ—¶é—´ä¹Ÿå°±è¶Šé•¿.Rçš„ä½æ•°è¶Šå¤š,ä½ç§»å‘¨æœŸè¶Šå°å°±è¶Šç²¾ç¡®.ä½†ç¡¬ä»¶æˆæœ¬ä¹Ÿå°±è¶Šé«˜.</p>
<ol>
<li>æœ€ä¸ç»å¸¸ç”¨ç®—æ³•(LFU)</li>
</ol>
<p>é€‰æ‹©åˆ°å½“å‰æ—¶é—´ä¸ºæ­¢è®¿é—®æ¬¡æ•°æœ€å°‘çš„é¡µé¢.</p>
<h3 id="æ®µå¼å’Œæ®µé¡µå¼è™šæ‹Ÿå†…å­˜"><a href="#æ®µå¼å’Œæ®µé¡µå¼è™šæ‹Ÿå†…å­˜" class="headerlink" title="æ®µå¼å’Œæ®µé¡µå¼è™šæ‹Ÿå†…å­˜"></a>æ®µå¼å’Œæ®µé¡µå¼è™šæ‹Ÿå†…å­˜</h3><p>æŠŠè¿›ç¨‹<strong>æŒ‰é€»è¾‘æ„ä¹‰</strong>åˆ†æˆå¤šä¸ªæ®µ,æ¯ä¸ªæ®µæœ‰<strong>æ®µå</strong>,é•¿åº¦ä¸å®š.æœ‰ç‚¹åƒæ±‡ç¼–é‡Œé¢çš„code segment stack segment</p>
<ul>
<li>ä»¥æ®µä¸ºå•ä½è£…å…¥,æ¯æ®µåˆ†é…è¿ç»­çš„å†…å­˜.æ®µä¸æ®µä¹‹é—´ä¸éœ€è¦ç›¸é‚»</li>
</ul>
<h4 id="æ®µå¼åœ°å€æ˜ å°„æœºåˆ¶"><a href="#æ®µå¼åœ°å€æ˜ å°„æœºåˆ¶" class="headerlink" title="æ®µå¼åœ°å€æ˜ å°„æœºåˆ¶"></a>æ®µå¼åœ°å€æ˜ å°„æœºåˆ¶</h4><p>æ®µè¡¨: è®°å½•æ¯æ®µåœ¨å†…å­˜ä¸­çš„æ˜ å°„åœ°å€,åŒ…æ‹¬<strong>æ®µå·</strong>,<strong>æ®µé•¿</strong>,<strong>åŸºåœ°å€</strong>.</p>
<ul>
<li>æ®µå·: æ®µçš„ç¼–å·(<strong>å”¯ä¸€</strong>)</li>
<li>æ®µé•¿: è¯¥æ®µçš„é•¿åº¦</li>
<li>åŸºåœ°å€: åœ¨å†…å­˜ä¸­çš„é¦–åœ°å€</li>
</ul>
<p>æ˜ å°„è¿‡ç¨‹: </p>
<ol>
<li>ç”±é€»è¾‘åœ°å€VAåˆ†ç¦»å‡º(S,W)</li>
<li>æŸ¥è¯¢æ®µè¡¨</li>
<li>ç‰©ç†åœ°å€MA = B + W</li>
</ol>
<ul>
<li>æ®µçš„å…±äº«: </li>
</ul>
<ol>
<li>åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½å­˜å‚¨</li>
<li>å…±äº«æ®µè¢«å¤šä¸ªè¿›ç¨‹æ˜ å°„åˆ°å„è‡ªæ®µè¡¨</li>
<li>éœ€è¦å…±äº«çš„æ¨¡å—å¯ä»¥è®¾ç½®ä¸ºå•ç‹¬çš„æ®µ.</li>
</ol>
<ul>
<li>ç¼ºç‚¹:</li>
</ul>
<ol>
<li>éœ€è¦è¿ç»­ç©ºé—´</li>
<li>æœ€å¤§å°ºå¯¸å—åˆ°å†…å­˜å¤§å°é™åˆ¶</li>
</ol>
<h4 id="æ®µå¼-VS-é¡µå¼"><a href="#æ®µå¼-VS-é¡µå¼" class="headerlink" title="æ®µå¼ VS é¡µå¼"></a>æ®µå¼ VS é¡µå¼</h4><p>é¡µå¼ç³»ç»Ÿæ˜¯ä¸€ä½åœ°å€ç©ºé—´,æ®µå¼æ˜¯äºŒç»´.</p>
<h4 id="æ®µé¡µå¼å­˜å‚¨ç®¡ç†"><a href="#æ®µé¡µå¼å­˜å‚¨ç®¡ç†" class="headerlink" title="æ®µé¡µå¼å­˜å‚¨ç®¡ç†"></a>æ®µé¡µå¼å­˜å‚¨ç®¡ç†</h4><p>åœ°å€æ„æˆ: æ®µå·,é¡µå·,é¡µå†…åç§».</p>
<h5 id="æ®µé¡µå¼åœ°å€çš„æ˜ å°„æœºæ„"><a href="#æ®µé¡µå¼åœ°å€çš„æ˜ å°„æœºæ„" class="headerlink" title="æ®µé¡µå¼åœ°å€çš„æ˜ å°„æœºæ„"></a>æ®µé¡µå¼åœ°å€çš„æ˜ å°„æœºæ„</h5><ul>
<li>åŒæ—¶é‡‡ç”¨<strong>æ®µè¡¨</strong>å’Œ<strong>é¡µè¡¨</strong>å®ç°åœ°å€æ˜ å°„</li>
<li>ç³»ç»Ÿä¸º<strong>æ¯ä¸€ä¸ªè¿›ç¨‹</strong>å»ºç«‹ä¸€ä¸ª<strong>æ®µè¡¨</strong></li>
<li>ç³»ç»Ÿä¸º<strong>æ¯ä¸€ä¸ªæ®µ</strong>å»ºç«‹ä¸€ä¸ª<strong>é¡µè¡¨</strong></li>
<li>æ®µè¡¨ç»™å‡ºæ¯æ®µçš„<strong>é¡µè¡¨åŸºå€</strong>å’Œ<strong>é¡µè¡¨é•¿åº¦</strong></li>
<li>é¡µè¡¨ç»™å‡ºæ¯é¡µå¯¹åº”çš„é¡µæ¡†.</li>
</ul>
<h3 id="Intel-CPUå’Œ-Linuxå†…å­˜ç®¡ç†"><a href="#Intel-CPUå’Œ-Linuxå†…å­˜ç®¡ç†" class="headerlink" title="Intel CPUå’Œ Linuxå†…å­˜ç®¡ç†"></a>Intel CPUå’Œ Linuxå†…å­˜ç®¡ç†</h3><h4 id="Intel-CPUç‰©ç†ç»“æ„"><a href="#Intel-CPUç‰©ç†ç»“æ„" class="headerlink" title="Intel CPUç‰©ç†ç»“æ„"></a>Intel CPUç‰©ç†ç»“æ„</h4><h5 id="å®æ¨¡å¼"><a href="#å®æ¨¡å¼" class="headerlink" title="å®æ¨¡å¼"></a>å®æ¨¡å¼</h5><ul>
<li>20ä½å¯»å€èƒ½åŠ›</li>
<li>åœ°å€è¡¨ç¤ºæ–¹å¼:æ®µåœ°å€(16ä½) : åç§»åœ°å€(16ä½)</li>
<li>æ®µåœ°å€4ä½å¯¹é½</li>
<li>ç¨‹åºç›´æ¥å­˜å‚¨ç‰©ç†åœ°å€</li>
</ul>
<h5 id="ä¿æŠ¤æ¨¡å¼"><a href="#ä¿æŠ¤æ¨¡å¼" class="headerlink" title="ä¿æŠ¤æ¨¡å¼"></a>ä¿æŠ¤æ¨¡å¼</h5><ul>
<li>32ä½åœ°å€: 4Gå†…å­˜</li>
<li>æ”¯æŒå¤šä»»åŠ¡,ä»»åŠ¡åˆ‡æ¢,ä¸Šä¸‹æ–‡ä¿æŠ¤</li>
<li>è¿›ç¨‹éš”ç¦»</li>
<li>æ”¯æŒ<strong>åˆ†æ®µæœºåˆ¶</strong>å’Œ<strong>åˆ†é¡µæœºåˆ¶</strong></li>
</ul>
<p>æ¯ä¸ªè¿›ç¨‹çš„è¿è¡Œç»“æœåªä¼šå½±å“è‡ªèº«.</p>
<ul>
<li>æ§åˆ¶å¯„å­˜å™¨CR0<br>PE: 0 - å®æ¨¡å¼ ; 1 - ä¿æŠ¤æ¨¡å¼<br>PG: å…è®¸åˆ†é¡µ<br>PEå’ŒPGåˆ†åˆ«åœ¨å¯„å­˜å™¨çš„ä¸¤å¤´.</li>
<li>æ§åˆ¶å¯„å­˜å™¨CR2:<br>å¦‚æœå‘ç”Ÿç¼ºé¡µ,å¼•å‘ç¼ºé¡µçš„çº¿æ€§åœ°å€ä¿å­˜åœ¨CR2ä¸­</li>
<li>æ§åˆ¶å¯„å­˜å™¨CR3:<br>é¡µç›®å½•åŸºå€(é«˜20ä½)</li>
</ul>
<h5 id="x86-CPUæ¶æ„ä¸‹ä¸‰ç§åœ°å€"><a href="#x86-CPUæ¶æ„ä¸‹ä¸‰ç§åœ°å€" class="headerlink" title="x86 CPUæ¶æ„ä¸‹ä¸‰ç§åœ°å€"></a>x86 CPUæ¶æ„ä¸‹ä¸‰ç§åœ°å€</h5><ul>
<li>é€»è¾‘åœ°å€(å°±æ˜¯æ±‡ç¼–é‡Œé¢æœ€å¸¸ç”¨çš„é‚£ç§åœ°å€</li>
<li>çº¿æ€§åœ°å€: ç”±<strong>é€»è¾‘åœ°å€</strong>è½¬æ¢å¾—åˆ°</li>
<li>ç‰©ç†åœ°å€: å¦‚æœ<strong>æœªåˆ†é¡µ</strong>åˆ™çº¿æ€§åœ°å€å°±æ˜¯ç‰©ç†åœ°å€.å¦‚æœåˆ†é¡µé‚£ä¹ˆçº¿æ€§åœ°å€ä¸ç­‰äºç‰©ç†åœ°å€.</li>
</ul>
<h4 id="Intel-CPUæ®µæœºåˆ¶"><a href="#Intel-CPUæ®µæœºåˆ¶" class="headerlink" title="Intel CPUæ®µæœºåˆ¶"></a>Intel CPUæ®µæœºåˆ¶</h4><ul>
<li>ä¸€æ®µ<strong>è¿ç»­å†…å­˜</strong></li>
</ul>
<h5 id="æè¿°ç¬¦"><a href="#æè¿°ç¬¦" class="headerlink" title="æè¿°ç¬¦"></a>æè¿°ç¬¦</h5><ul>
<li>æ®µåŸºå€: 32ä½(æ®µåŸºå€1 + æ®µåŸºå€2)</li>
<li>æ®µç•Œé™: 20ä½(æ®µç•Œé™1 + æ®µç•Œé™2)</li>
<li>æŠŠé€»è¾‘åœ°å€è½¬æ¢åˆ°çº¿æ€§åœ°å€.</li>
</ul>
<p>æè¿°æ®µçš„å±æ€§.8å­—èŠ‚:</p>
<ul>
<li>æ®µåŸºå€</li>
<li>æ®µç•Œé™</li>
<li>æ®µå±æ€§</li>
<li>æ®µç±»å‹</li>
<li>è®¿é—®è¯¥æ®µæ‰€éœ€è¦çš„æœ€å°ç‰¹æƒçº§</li>
<li>æ˜¯å¦åœ¨å†…å­˜.<h5 id="æè¿°ç¬¦è¡¨"><a href="#æè¿°ç¬¦è¡¨" class="headerlink" title="æè¿°ç¬¦è¡¨"></a>æè¿°ç¬¦è¡¨</h5></li>
<li>å­˜æ”¾æè¿°ç¬¦çš„æ•°ç»„,é•¿åº¦ä¸º8å­—èŠ‚çš„æ•´æ•°å€</li>
</ul>
<ol>
<li>å…¨å±€æè¿°ç¬¦è¡¨(GDT),åŒ…å«æ‰€æœ‰è¿›ç¨‹å¯ç”¨çš„æ®µçš„æè¿°ç¬¦,ç³»ç»Ÿä»…ä¸€ä¸ª</li>
<li>å±€éƒ¨æè¿°ç¬¦è¡¨(LDT),åŒ…å«ä¸ç‰¹å®šè¿›ç¨‹ç›¸å…³çš„æè¿°ç¬¦,ä¸€ä¸ªè¿›ç¨‹ä¸€ä¸ª</li>
<li>ä¸­æ–­æè¿°ç¬¦è¡¨(IDT),åŒ…å«ä¸­æ–­æœåŠ¡ç¨‹åºçš„æè¿°ç¬¦.</li>
</ol>
<h5 id="é€‰æ‹©å­-Selecto"><a href="#é€‰æ‹©å­-Selecto" class="headerlink" title="é€‰æ‹©å­(Selecto)"></a>é€‰æ‹©å­(Selecto)</h5><ul>
<li>ç”¨äºé€‰æ‹©GDT/LDTä¸­çš„æŸä¸ªæè¿°ç¬¦,å­˜æ”¾åœ¨<strong>æ®µå¯„å­˜å™¨</strong>ä¸­,é«˜13ä½æ˜¯æ•´æ•°ç´¢å¼•.</li>
<li>æ„æˆ: </li>
</ul>
<ol>
<li>ç´¢å¼•åŸŸ: ç»™å‡ºæ®µæè¿°ç¬¦åœ¨GDTæˆ–è€…LDTä¸­çš„ä½ç½®</li>
<li>TIåŸŸ,GDT(0)æˆ–è€…LDT(T)</li>
<li>ç‰¹æƒçº§åˆ«åŸŸ,ä¸¤ä½.</li>
</ol>
<h4 id="ç¡¬ä»¶åˆ†é¡µ"><a href="#ç¡¬ä»¶åˆ†é¡µ" class="headerlink" title="ç¡¬ä»¶åˆ†é¡µ"></a>ç¡¬ä»¶åˆ†é¡µ</h4><ul>
<li>å¤§å°: 4KB</li>
<li>é€šè¿‡è®¾ç½®CR0çš„PGä½å¼€å¯åˆ†é¡µåŠŸèƒ½.</li>
</ul>
<h5 id="æ™®é€šé¡µè¡¨å®ç°é—®é¢˜"><a href="#æ™®é€šé¡µè¡¨å®ç°é—®é¢˜" class="headerlink" title="æ™®é€šé¡µè¡¨å®ç°é—®é¢˜:"></a>æ™®é€šé¡µè¡¨å®ç°é—®é¢˜:</h5><p>32ä½OS(4Gç©ºé—´),</p>
<ul>
<li>æ¯é¡µ<strong>4K</strong>,</li>
<li>é¡µè¡¨æ¯ä¸ªè®°å½•å <strong>4ä¸ªå­—èŠ‚</strong>.</li>
<li>è¿›ç¨‹é¡µæ•° = 4G / 4K = <strong>1M</strong> ä¸ªé¡µ</li>
<li><strong>é¡µè¡¨è®°å½•</strong>åº”è¯¥æœ‰<strong>1M</strong>æ¡è®°å½•</li>
<li>é¡µè¡¨æ‰€å å†…å­˜: 1M $\times$ 4å­—èŠ‚ = 4M</li>
<li>é¡µè¡¨æ‰€å <strong>é¡µæ¡†</strong>æ•° = 4M / 4K = 1K é¡µæ¡†</li>
</ul>
<p>é—®é¢˜: éš¾ä»¥æ‰¾åˆ°<strong>è¿ç»­1Kä¸ªé¡µæ¡†</strong>,é¡µè¡¨å…¨éƒ¨è£…å…¥<strong>è¿‡åº¦æ¶ˆè€—</strong>.<br>è§£å†³: å­˜å‚¨åˆ°ç¦»æ•£é¡µæ¡†.å­˜éƒ¨åˆ†. </p>
<ul>
<li>è®¿é—®æ•°ç»„éœ€è¦<strong>ä¸‰æ¬¡</strong>è®¿é—®å†…å­˜</li>
<li>é¡µç›®å½•è°ƒå…¥å†…å­˜</li>
<li>é¡µè¡¨æŒ‰éœ€è¦è°ƒå…¥å†…å­˜.<br>Linuxå®é™…ä¸Šæ˜¯äºŒçº§é¡µè¡¨,é‡‡ç”¨ä¸‰çº§é¡µè¡¨æœºåˆ¶,å¢åŠ å¯¹ç¡¬ä»¶çš„é€‚åº”æ€§.</li>
</ul>
<h4 id="Linuxå¯¹æ®µçš„æ”¯æŒ"><a href="#Linuxå¯¹æ®µçš„æ”¯æŒ" class="headerlink" title="Linuxå¯¹æ®µçš„æ”¯æŒ."></a>Linuxå¯¹æ®µçš„æ”¯æŒ.</h4><ul>
<li>è¿›ç¨‹å»ºç«‹,æ®µæœºåˆ¶å¯¹å¯„å­˜å™¨çš„åˆå§‹åŒ–: start_thread().</li>
<li>Linuxå››ä¸ªèŒƒå›´ä¸€æ ·çš„æ®µ: 0 ~ 0xFFFFFFFF(4G)</li>
<li>å†…æ ¸ç‰¹æƒçº§ä¸º0,ç”¨æˆ·ç‰¹æƒçº§ä¸º3</li>
<li>åˆ©ç”¨æ®µæœºåˆ¶éš”ç¦»ç”¨æˆ·æ•°æ®å’Œç³»ç»Ÿæ•°æ®</li>
<li>é¿å…/ç®€åŒ–è™šæ‹Ÿåœ°å€åˆ°çº¿æ€§åœ°å€çš„è½¬æ¢.</li>
</ul>
<h2 id="è®¾å¤‡ç®¡ç†"><a href="#è®¾å¤‡ç®¡ç†" class="headerlink" title="è®¾å¤‡ç®¡ç†"></a>è®¾å¤‡ç®¡ç†</h2><h3 id="è®¾å¤‡ç®¡ç†æ¦‚å¿µ"><a href="#è®¾å¤‡ç®¡ç†æ¦‚å¿µ" class="headerlink" title="è®¾å¤‡ç®¡ç†æ¦‚å¿µ"></a>è®¾å¤‡ç®¡ç†æ¦‚å¿µ</h3><ol>
<li>æŒ‰äº¤äº’å¯¹è±¡</li>
<li>æŒ‰äº¤äº’æ–¹å‘</li>
<li>æŒ‰å¤–è®¾ç‰¹æ€§</li>
</ol>
<p>è®¾å¤‡ç®¡ç†çš„ä¸»è¦åŠŸèƒ½: </p>
<ul>
<li>è®¾å¤‡åˆ†é…: æŒ‰ç…§ä¸€å®šç­–ç•¥,ä¸ºç”³è¯·è®¾å¤‡çš„è¿›ç¨‹åˆ†é…è®¾å¤‡,è®°å½•è®¾å¤‡çš„ä½¿ç”¨æƒ…å†µ.(<strong>åŸºæœ¬ä»»åŠ¡</strong>)</li>
<li>è®¾å¤‡æ˜ å°„: è®¾å¤‡ç®¡ç†æ¨¡å—å°†é€»è¾‘è®¾å¤‡æ˜ å°„åˆ°ç‰©ç†è®¾å¤‡çš„åŠŸèƒ½.</li>
<li>è®¾å¤‡ç‹¬ç«‹æ€§: ç‰©ç†è®¾å¤‡å¯¹ç”¨æˆ·é€æ˜,ç”¨æˆ·ä½¿ç”¨ç»Ÿä¸€è§„èŒƒçš„æ–¹å¼ä½¿ç”¨è®¾å¤‡.ç”¨æˆ·ç¼–ç¨‹çš„æ—¶å€™ä½¿ç”¨è®¾å¤‡é€»è¾‘å,ç”±ç³»ç»Ÿå®ç°é€»è¾‘è®¾å¤‡åˆ°ç‰©ç†è®¾å¤‡çš„è½¬æ¢.</li>
<li>è®¾å¤‡é©±åŠ¨: å¯¹ç‰©ç†è®¾å¤‡è¿›è¡Œæ§åˆ¶å®ç°I/Oæ“ä½œ.</li>
<li>è®¾å¤‡é©±åŠ¨ä¸ç¡¬ä»¶å¯†åˆ‡ç›¸å…³,æ¯ç±»è®¾å¤‡é…ç½®ç‰¹å®šçš„é©±åŠ¨ç¨‹åº,é©±åŠ¨ç¨‹åºä¸€èˆ¬ç”±è®¾å¤‡å‚å•†æ ¹æ®OSæ¥ç¼–å†™.OSä»…å¯¹è®¾å¤‡é©±åŠ¨çš„æ¥å£æå‡ºè¦æ±‚.</li>
</ul>
<h3 id="Spoolingç³»ç»Ÿ"><a href="#Spoolingç³»ç»Ÿ" class="headerlink" title="Spoolingç³»ç»Ÿ"></a>Spoolingç³»ç»Ÿ</h3><p>ç‹¬å æ€§è®¾å¤‡åŒ…æ‹¬<strong>æ‰€æœ‰çš„å­—ç¬¦å‹è®¾å¤‡</strong><br>å…±äº«æ€§è®¾å¤‡åŒ…æ‹¬<strong>æ‰€æœ‰å—å‹è®¾å¤‡</strong></p>
<h4 id="ç‹¬å æ€§è®¾å¤‡çš„åˆ†é…"><a href="#ç‹¬å æ€§è®¾å¤‡çš„åˆ†é…" class="headerlink" title="ç‹¬å æ€§è®¾å¤‡çš„åˆ†é…"></a>ç‹¬å æ€§è®¾å¤‡çš„åˆ†é…</h4><ol>
<li>ç”³è¯·</li>
<li>åˆ†é…</li>
<li>å‘é€ä½¿ç”¨æŒ‡ä»¤</li>
<li>å®ŒæˆI/Oä¼ è¾“</li>
<li>é‡Šæ”¾è®¾å¤‡</li>
<li>å›æ”¶è®¾å¤‡</li>
</ol>
<p>åœ¨è¿›ç¨‹ç”³è¯·æˆåŠŸç›´åˆ°é‡Šæ”¾ç”¨å®Œä¹‹å‰ç‹¬å è®¾å¤‡.</p>
<h4 id="å…±äº«å‹è®¾å¤‡"><a href="#å…±äº«å‹è®¾å¤‡" class="headerlink" title="å…±äº«å‹è®¾å¤‡"></a>å…±äº«å‹è®¾å¤‡</h4><p><strong>ä¸éœ€è¦ç”³è¯·</strong>,ä¸å­˜åœ¨å ç”¨æˆ–è€…é‡Šæ”¾è®¾å¤‡çš„é—®é¢˜.ä½†æ˜¯I/OæœŸé—´åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨è®¾å¤‡. </p>
<h4 id="è™šæ‹ŸæŠ€æœ¯"><a href="#è™šæ‹ŸæŠ€æœ¯" class="headerlink" title="è™šæ‹ŸæŠ€æœ¯"></a>è™šæ‹ŸæŠ€æœ¯</h4><ul>
<li>åœ¨ä¸€ç±»ç‰©ç†è®¾å¤‡æ¨¡æ‹Ÿå¦ä¸€ç±»ç‰©ç†è®¾å¤‡çš„æŠ€æœ¯</li>
<li>å€ŸåŠ©<strong>è¾…å­˜éƒ¨åˆ†åŒºåŸŸ</strong>æ¨¡æ‹Ÿç‹¬å è®¾å¤‡.å°†ç‹¬å è½¬æ¢ä¸ºå…±äº«è®¾å¤‡</li>
<li>è™šæ‹Ÿè®¾å¤‡: ç”¨æ¥æ¨¡æ‹Ÿç‹¬å è®¾å¤‡çš„åŒºåŸŸ. </li>
<li>è™šæ‹Ÿåˆ†é…: å½“è¿›ç¨‹éœ€è¦ä¸ç‹¬å è®¾å¤‡äº¤æ¢ä¿¡æ¯æ—¶,å°±é‡‡ç”¨è™šæ‹ŸæŠ€æœ¯å°†ä¸è¯¥ç‹¬å è®¾å¤‡æ‰€å¯¹åº”çš„è™šæ‹Ÿè®¾å¤‡åˆ†é…ç»™ä»–</li>
</ul>
<h5 id="SPOOLç³»ç»ŸåŸç†"><a href="#SPOOLç³»ç»ŸåŸç†" class="headerlink" title="SPOOLç³»ç»ŸåŸç†"></a>SPOOLç³»ç»ŸåŸç†</h5><p>ä»»åŠ¡æ‰§è¡Œå‰: é¢„å…ˆå°†ç¨‹åºå’Œæ•°æ®è¾“å…¥åˆ°è¾“å…¥äº•ä¸­</p>
<p>ä»»åŠ¡è¿è¡Œæ—¶: ä½¿ç”¨æ•°æ®,ä»è¾“å…¥äº•ä¸­å–å‡º</p>
<p>ä»»åŠ¡è¿è¡Œæ—¶: è¾“å‡ºæ•°æ®æ—¶,æŠŠæ•°æ®å†™å…¥åˆ°è¾“å‡ºäº•</p>
<p>ä»»åŠ¡è¿è¡Œå®Œ: å¤–è®¾ç©ºé—²æ—¶è¾“å‡ºå…¨éƒ¨æ•°æ®å’Œä¿¡æ¯</p>
<h3 id="Linuxæ¨¡å—æœºåˆ¶"><a href="#Linuxæ¨¡å—æœºåˆ¶" class="headerlink" title="Linuxæ¨¡å—æœºåˆ¶"></a>Linuxæ¨¡å—æœºåˆ¶</h3><ul>
<li><p>LKM: è§£å†³å•ä½“å†…æ ¸æœºåˆ¶çš„ä¸è¶³</p>
</li>
<li><p>ä¸€ç§<strong>æœªç»é“¾æ¥</strong>çš„å¯æ‰§è¡Œä»£ç </p>
</li>
<li>ç»è¿‡è£…è½½(å³<strong>é“¾æ¥</strong>)æˆä¸ºå†…æ ¸çš„ä¸€éƒ¨åˆ†</li>
<li>å¯ä»¥åŠ¨æ€åŠ è½½æˆ–è€…å¸è½½. </li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ç¼–è¯‘æ¨¡å—</span></span><br><span class="line">gcc -o _D_KERNEL_ -DMOUDLE hello.c <span class="comment">#ä¸¤ä¸ªå‚æ•°æç¤ºGCCæŠŠhello.cç¼–è¯‘ä¸ºæ¨¡å—</span></span><br><span class="line"><span class="comment">#å®‰è£…æ¨¡å—</span></span><br><span class="line">sudo insmod hellomodule.ko <span class="comment">#å‘ç°è°ƒç”¨hello_initå‡½æ•°</span></span><br><span class="line"><span class="comment">#åˆ é™¤æ¨¡å—</span></span><br><span class="line">sudo rmmod module <span class="comment">#å¸è½½æ¨¡å—è°ƒç”¨hello_exitå‡½æ•°</span></span><br><span class="line"><span class="comment">#æŸ¥çœ‹å†…æ ¸ä¿¡æ¯,è¾“å‡ºå‡½æ•°ä¸æ˜¯printfæ˜¯printk,æ‰€ä»¥åœ¨å†…æ ¸ä¿¡æ¯ä¸­æŸ¥çœ‹</span></span><br><span class="line">dmesg</span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ¨¡å—</span></span><br><span class="line">lsmod </span><br><span class="line"><span class="comment">#æ³¨å†Œæ¨¡å—</span></span><br><span class="line">module_init(hello_init)</span><br><span class="line"><span class="comment">#å¸è½½æ¨¡å—</span></span><br><span class="line">module_exit(hello_exit)</span><br></pre></td></tr></table></figure>
<h4 id="å¸¦å‚æ•°çš„æ¨¡å—"><a href="#å¸¦å‚æ•°çš„æ¨¡å—" class="headerlink" title="å¸¦å‚æ•°çš„æ¨¡å—"></a>å¸¦å‚æ•°çš„æ¨¡å—</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">module_param(name, <span class="built_in">type</span>,perm);</span><br><span class="line"><span class="comment"># name: æ¨¡å—å‚æ•°çš„åç§°</span></span><br><span class="line"><span class="comment"># type: æ¨¡å—å‚æ•°çš„æ•°æ®ç±»å‹,int,boolç­‰</span></span><br><span class="line"><span class="comment"># perm: æ¨¡å—å‚æ•°çš„æƒé™</span></span><br></pre></td></tr></table></figure>
<h3 id="Linuxé©±åŠ¨ç¨‹åº-LDD"><a href="#Linuxé©±åŠ¨ç¨‹åº-LDD" class="headerlink" title="Linuxé©±åŠ¨ç¨‹åº(LDD)"></a>Linuxé©±åŠ¨ç¨‹åº(LDD)</h3><ul>
<li>åº”ç”¨ç¨‹åºé€šè¿‡<strong>é©±åŠ¨ç¨‹åº</strong>é—´æ¥è®¿é—®è®¾å¤‡</li>
<li>é©±åŠ¨ç¨‹åºå·¥ä½œåœ¨æ ¸æ€.<h4 id="è®¾å¤‡åˆ†ç±»"><a href="#è®¾å¤‡åˆ†ç±»" class="headerlink" title="è®¾å¤‡åˆ†ç±»"></a>è®¾å¤‡åˆ†ç±»</h4></li>
<li>å­—ç¬¦è®¾å¤‡:ä»¥å­—èŠ‚ä¸ºå•ä½é€ä¸ªè¿›è¡ŒI/Oæ“ä½œ.</li>
<li>å—è®¾å¤‡: å­˜å–é€šè¿‡buffer,cacheæ¥è¿›è¡Œ.ä¾‹å¦‚ç¡¬ç›˜.</li>
<li>ç½‘ç»œè®¾å¤‡.</li>
<li><p>è®¾å¤‡æ–‡ä»¶: ç¡¬ä»¶è®¾å¤‡ä½œä¸º<strong>æ–‡ä»¶</strong>çœ‹å¾…</p>
</li>
<li><p>ä¸»è®¾å¤‡å·</p>
</li>
</ul>
<ol>
<li>æ ‡è¯†è¯¥è®¾å¤‡ç§ç±»,æ ‡è¯†é©±åŠ¨ç¨‹åº</li>
<li>ä¸»è®¾å¤‡å·èŒƒå›´: 0~255</li>
<li>Linuxå†…æ ¸æ”¯æŒåŠ¨æ€åˆ†é…ä¸»è®¾å¤‡å·</li>
</ol>
<ul>
<li>æ¬¡è®¾å¤‡å·</li>
</ul>
<ol>
<li>åŒä¸€è®¾å¤‡é©±åŠ¨ç¨‹åºçš„ä¸åŒç¡¬ä»¶è®¾å¤‡</li>
<li>åªåœ¨<strong>é©±åŠ¨ç¨‹åºå†…éƒ¨</strong>ä½¿ç”¨.</li>
</ol>
<p>é©±åŠ¨ç¨‹åºçš„<strong>æ³¨å†Œ</strong>å’Œ<strong>æ³¨é”€</strong>ä¸€å®šè¦å®ç°.</p>
<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>Windowså›ºå®šé‡‡ç”¨<strong>DriverEntry</strong>ä½œä¸ºå…¥å£å‡½æ•°<br>ç»™<strong>pDriverObject-&gt;DriverUnload</strong>èµ‹å€¼é€€å‡ºå‡½æ•°æŒ‡é’ˆ.</p>
<h2 id="æ–‡ä»¶ç³»ç»Ÿ"><a href="#æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿ"></a>æ–‡ä»¶ç³»ç»Ÿ</h2><p>ç”¨æˆ·é€šè¿‡<strong>è¯»å†™æŒ‡é’ˆ</strong>æ¥è¯»å–ä¿¡æ¯é¡¹.</p>
<h4 id="æ–‡ä»¶åˆ†ç±»"><a href="#æ–‡ä»¶åˆ†ç±»" class="headerlink" title="æ–‡ä»¶åˆ†ç±»"></a>æ–‡ä»¶åˆ†ç±»</h4><ol>
<li>æ–‡ä»¶ç”¨é€”</li>
<li>æ–‡ä»¶æ“ä½œæƒé™</li>
<li>æ–‡ä»¶æ€§è´¨</li>
</ol>
<h4 id="æ–‡ä»¶å±æ€§"><a href="#æ–‡ä»¶å±æ€§" class="headerlink" title="æ–‡ä»¶å±æ€§"></a>æ–‡ä»¶å±æ€§</h4><p>æŒ‡å®šæ–‡ä»¶ç±»å‹,æ“ä½œç‰¹æ€§,å­˜å–ä¿æŠ¤ç­‰<strong>ä¸€ç»„ä¿¡æ¯</strong>.æ”¾åœ¨æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„ç›®å½•æ–‡ä»¶ä¸­.<br>åœ¨MS-DOSç³»ç»Ÿä¸­,æ–‡ä»¶å±æ€§å ç›®å½•é¡¹çš„<strong>ä¸€ä¸ªå­—èŠ‚</strong><br>00000001-åªè¯»å±æ€§<br>00000010-éšè—å±æ€§.</p>
<h4 id="æ–‡ä»¶ç³»ç»Ÿ-1"><a href="#æ–‡ä»¶ç³»ç»Ÿ-1" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿ"></a>æ–‡ä»¶ç³»ç»Ÿ</h4><ul>
<li>è´Ÿè´£ç®¡ç†æ–‡ä»¶çš„æœºæ„</li>
</ul>
<h4 id="æ–‡ä»¶çš„é€»è¾‘ç»“æ„"><a href="#æ–‡ä»¶çš„é€»è¾‘ç»“æ„" class="headerlink" title="æ–‡ä»¶çš„é€»è¾‘ç»“æ„"></a>æ–‡ä»¶çš„é€»è¾‘ç»“æ„</h4><ul>
<li>è®°å½•å¼æ–‡ä»¶: è®°å½•ç»“æ„åŒ–çš„æ•°æ®</li>
<li>æµå¼æ–‡ä»¶: ä¿¡æ¯é¡¹æ˜¯<strong>å­—èŠ‚</strong>,èŠ‚çœå­˜å‚¨ç©ºé—´</li>
</ul>
<p>ç°ä»£æ“ä½œç³»ç»Ÿä¸­æ–‡ä»¶éƒ½æ˜¯æµå¼æ–‡ä»¶.ç”±åº”ç”¨ç¨‹åºå»è§£é‡Šè¿™äº›æ–‡ä»¶.</p>
<h4 id="æ–‡ä»¶å­˜å–æ–¹æ³•"><a href="#æ–‡ä»¶å­˜å–æ–¹æ³•" class="headerlink" title="æ–‡ä»¶å­˜å–æ–¹æ³•"></a>æ–‡ä»¶å­˜å–æ–¹æ³•</h4><h5 id="é¡ºåºå­˜å–"><a href="#é¡ºåºå­˜å–" class="headerlink" title="é¡ºåºå­˜å–"></a>é¡ºåºå­˜å–</h5><p>æŒ‰ç…§æ–‡ä»¶ä¿¡æ¯é¡¹æ’åˆ—é¡ºåºä¾æ¬¡å­˜å–.</p>
<ul>
<li>è¯»å†™æŒ‡é’ˆ: æ–‡ä»¶æ‰“å¼€æ—¶,è¯»å†™æŒ‡é’ˆç›´å‘ç¬¬ä¸€ä¸ªä¿¡æ¯é¡¹,æ¯å­˜å–ä¸€ä¸ªä¿¡æ¯é¡¹,è¯»å†™æŒ‡é’ˆè‡ªåŠ¨åŠ ä¸€è€ŒæŒ‡å‘ä¸‹ä¸€ä¸ªä¿¡æ¯é¡¹.<h5 id="éšæœºå­˜å–"><a href="#éšæœºå­˜å–" class="headerlink" title="éšæœºå­˜å–"></a>éšæœºå­˜å–</h5></li>
<li>ç›´æ¥å­˜å–,å­˜å–æ“ä½œæ—¶<strong>æŒ‡å®šå­˜å–çš„ä½ç½®</strong></li>
<li>å¯¹æµå¼æ–‡ä»¶æˆ–è€…è®°å½•ä¸º<strong>å®šé•¿</strong>çš„æ–‡ä»¶å®¹æ˜“ç¡®å®šå­˜å–ä½ç½®.<h3 id="æ–‡ä»¶ç‰©ç†ç»“æ„"><a href="#æ–‡ä»¶ç‰©ç†ç»“æ„" class="headerlink" title="æ–‡ä»¶ç‰©ç†ç»“æ„"></a>æ–‡ä»¶ç‰©ç†ç»“æ„</h3></li>
<li>æ–‡ä»¶åœ¨å­˜å‚¨è®¾å¤‡ä¸Šçš„å­˜å‚¨æ–¹å¼</li>
</ul>
<h4 id="è¿ç»­æ–‡ä»¶"><a href="#è¿ç»­æ–‡ä»¶" class="headerlink" title="è¿ç»­æ–‡ä»¶"></a>è¿ç»­æ–‡ä»¶</h4><ul>
<li>æŒ‰<strong>é€»è¾‘å—</strong>çš„é¡ºåºå­˜æ”¾åœ¨ç¡¬ç›˜è¿ç»­çš„ç‰©ç†å­˜å‚¨å—ä¸­</li>
<li>æ–‡ä»¶ç›®å½•è®°å½•æ–‡ä»¶é•¿åº¦(å—æ•°)å’Œç¬¬ä¸€ä¸ªå­˜å‚¨å—çš„å—å·</li>
</ul>
<p>ç¼ºç‚¹: ä¸å®¹æ˜“åŠ¨æ€å¢é•¿,ä¸åˆ©äºæ–‡ä»¶çš„æ’å…¥å’Œåˆ é™¤.éœ€è¦é¢„ç•™ç©ºé—´</p>
<h4 id="ä¸²è”æ–‡ä»¶"><a href="#ä¸²è”æ–‡ä»¶" class="headerlink" title="ä¸²è”æ–‡ä»¶"></a>ä¸²è”æ–‡ä»¶</h4><ul>
<li>æ–‡ä»¶å­˜æ”¾<strong>ä¸è¿ç»­çš„</strong>çš„å­˜å‚¨å—ä¸­,æ¯ä¸ªå­˜å‚¨å—æœ‰ä¸€ä¸ªæŒ‡é’ˆ(next),æŒ‡å‘ä¸‹ä¸€ä¸ªå­˜å‚¨å—.</li>
<li>æ–‡ä»¶ç›®å½•è®°å½•æ–‡ä»¶æŒ‡æ˜æ–‡ä»¶åå’Œç¬¬ä¸€ä¸ªå­˜å‚¨å—çš„å—å·</li>
</ul>
<p>ç¼ºç‚¹: å­˜å–é€Ÿåº¦æ…¢,ä¸é€‚åˆéšæœºå­˜å–,nextæŒ‡é’ˆå ç”¨å†…å­˜,é€‚ç”¨äºFATç³»ç»Ÿ.</p>
<h3 id="FATæ–‡ä»¶ç³»ç»Ÿ"><a href="#FATæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="FATæ–‡ä»¶ç³»ç»Ÿ"></a>FATæ–‡ä»¶ç³»ç»Ÿ</h3><ul>
<li>ä¸²è”æ–‡ä»¶åº”ç”¨.</li>
<li>FATå°†nextæœ‰åºé›†ä¸­æ”¾åˆ°FATè¡¨ä¸­.<h4 id="æ–‡ä»¶è®¿é—®è¿‡ç¨‹"><a href="#æ–‡ä»¶è®¿é—®è¿‡ç¨‹" class="headerlink" title="æ–‡ä»¶è®¿é—®è¿‡ç¨‹:"></a>æ–‡ä»¶è®¿é—®è¿‡ç¨‹:</h4></li>
</ul>
<ol>
<li>è®¿é—®æ–‡ä»¶ç›®å½•: æ‰¾0å—çš„å—å·i</li>
<li>è®¿é—®FATæ‰¾ä¸‹ä¸€å—çš„å—å·: <code>FAT(i)</code>.iæ˜¯å½“å‰çš„å—å·.<br>æ–‡ä»¶åˆ†é…è¡¨çš„ç¼ºç‚¹: </li>
<li>è¯»æ–‡ä»¶æ—¶,å…ˆè¯»FAT,<strong>å½±å“ä½¿ç”¨æ•ˆç‡</strong>.</li>
<li>FATå ç”¨å­˜å‚¨ç©ºé—´.å­˜å‚¨å—è¶Šå¤š,FATå…ƒç´ è¶Šå¤š.ä¸”å…ƒç´ ä½å®½è¶Šé•¿,å ç”¨æ›´å¤šé¢å¤–çš„å­˜å‚¨ç©ºé—´.</li>
</ol>
<p>å¦‚æœå­˜å‚¨å—æœ‰$2^N$å—,FATæœ‰$2^N$ä¸ªå…ƒç´ ,æ¯é¡¹åªéœ€è¦éœ€è¦Nä½çš„å®½åº¦</p>
<h4 id="æ‰‡åŒº"><a href="#æ‰‡åŒº" class="headerlink" title="æ‰‡åŒº"></a>æ‰‡åŒº</h4><ul>
<li>ç£ç›˜ä¸Šæœ€å°å¯å¯»å€å­˜å‚¨å•å…ƒ(512å­—èŠ‚)<h4 id="ç°‡-å­˜å‚¨å—"><a href="#ç°‡-å­˜å‚¨å—" class="headerlink" title="ç°‡ = å­˜å‚¨å—"></a>ç°‡ = å­˜å‚¨å—</h4></li>
<li>è®¾å¤‡æœ€å°çš„å­˜å‚¨å•å…ƒ,å›ºå®šæ•°é‡çš„æ‰‡åŒº.<br>360Kç£ç›˜ ç°‡ = 2ä¸ªæ‰‡åŒº(1024å­—èŠ‚)<br>10MBç¡¬ç›˜ ç°‡ = 8ä¸ªæ‰‡åŒº(4096å­—èŠ‚)<br>2GBç¡¬ç›˜: ç°‡ = 64ä¸ªæ‰‡åŒº(32KB)<br>FATå…ƒç´ æ•°ç›®å’Œç°‡çš„æ•°ç›®ä¸€æ ·å¤š.<br>ç£ç›˜å®¹é‡ = FATé•¿åº¦ $\times$ ç°‡å®¹é‡ = FATé•¿åº¦ $\times$ ç°‡æ‰‡åŒºæ•° $\times$ 512 å­—èŠ‚.</li>
</ul>
<h3 id="æ–‡ä»¶å­˜å‚¨å’Œç›®å½•"><a href="#æ–‡ä»¶å­˜å‚¨å’Œç›®å½•" class="headerlink" title="æ–‡ä»¶å­˜å‚¨å’Œç›®å½•"></a>æ–‡ä»¶å­˜å‚¨å’Œç›®å½•</h3><p>è®°å½•ç£ç›˜ç©ºé—²å—çš„æ–¹æ³•</p>
<h4 id="ç©ºé—²æ–‡ä»¶ç›®å½•"><a href="#ç©ºé—²æ–‡ä»¶ç›®å½•" class="headerlink" title="ç©ºé—²æ–‡ä»¶ç›®å½•"></a>ç©ºé—²æ–‡ä»¶ç›®å½•</h4><ul>
<li>æŠŠè¿ç»­ç©ºé—²åŒºçœ‹æˆä¸€ä¸ªç‰¹æ®Šæ–‡ä»¶,ç”±å¤šä¸ªç©ºé—²å—æ„æˆ<br>ä¸ºç©ºé—²æ–‡ä»¶å»ºç«‹ä¸“é—¨çš„ç›®å½•: <strong>ç©ºé—²æ–‡ä»¶ç›®å½•</strong>,æ¯ä¸ªè¡¨é¡¹å¯¹åº”ä¸€ä¸ªç©ºé—²æ–‡ä»¶.åŒ…æ‹¬ç¬¬ä¸€ä¸ªç©ºé—²å—å·,ç©ºé—²å—ä¸ªæ•°.<h4 id="ç©ºé—²å—é“¾"><a href="#ç©ºé—²å—é“¾" class="headerlink" title="ç©ºé—²å—é“¾"></a>ç©ºé—²å—é“¾</h4></li>
<li>æŠŠæ‰€æœ‰ç©ºé—²å—é“¾æ¥åœ¨ä¸€èµ·</li>
<li>å½“ç”³è¯·è€…éœ€è¦ç©ºé—²å—æ—¶, é“¾å¤´å¼€å§‹æœç´¢æ‰€éœ€è¦çš„ç©ºé—²å—</li>
<li>å½“éœ€è¦å›æ”¶ç©ºé—²å—æ—¶,æŠŠé‡Šæ”¾çš„ç©ºé—²å—<strong>é€ä¸ª</strong>åŠ åœ¨é“¾å°¾</li>
</ul>
<h4 id="ä½è§†å›¾"><a href="#ä½è§†å›¾" class="headerlink" title="ä½è§†å›¾"></a>ä½è§†å›¾</h4><p>ä»å†…å­˜æ€’ä¸­åˆ’å‡ºè‹¥å¹²ä¸ªå­—èŠ‚, æ¯ä¸ªbitè¡¨ç¤ºè¦ç»™å­˜å‚¨å—ç©ºé—²æˆ–è€…è¢«å ç”¨.</p>
<h4 id="æ–‡ä»¶ç›®å½•ç®¡ç†"><a href="#æ–‡ä»¶ç›®å½•ç®¡ç†" class="headerlink" title="æ–‡ä»¶ç›®å½•ç®¡ç†"></a>æ–‡ä»¶ç›®å½•ç®¡ç†</h4><ul>
<li>æ–‡ä»¶åå€å½•: è®°å½•æ–‡ä»¶åå’Œå­˜æ”¾åœ°å€çš„ç›®å½•è¡¨.</li>
<li>å…·æœ‰å°†æ–‡ä»¶åè½¬æ¢ä¸ºå¤–å­˜ç‰©ç†åœ°å€çš„åŠŸèƒ½</li>
<li><strong>æ–‡ä»¶å±æ€§</strong>ä¹Ÿè®°å½•åœ¨ç›®å½•é‡Œé¢</li>
</ul>
<p>æ–‡ä»¶ç›®å½•ä»¥æ–‡ä»¶å½¢å¼å­˜äºå¤–æ‘,è¿™ä¸ªæ–‡ä»¶å«ç›®å½•æ–‡ä»¶..</p>
]]></content>
      <tags>
        <tag>Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>è´å¶æ–¯åˆ†ç±»</title>
    <url>/2020/03/25/%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%88%86%E7%B1%BB/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="è´å¶æ–¯åˆ†ç±»"><a href="#è´å¶æ–¯åˆ†ç±»" class="headerlink" title="è´å¶æ–¯åˆ†ç±»"></a>è´å¶æ–¯åˆ†ç±»</h1><p>å‡è®¾æœ‰Nç§å¯èƒ½çš„ç±»åˆ«æ ‡è®°,å³$\Upsilon = \left{c<em>1,c_2, â€¦ ,c_N\right}$ ,$\lambda</em>{ij}$æ˜¯å°†ä¸€ä¸ª<strong>çœŸå®æ ‡è®°ä¸º$c_j$ çš„æ ·æœ¬</strong>è¯¯åˆ†ç±»ä¸º$c_i$æ‰€äº§ç”Ÿçš„æŸå¤±.æ ¹æ®åéªŒæ¦‚ç‡(åº”è¯¥æŒ‡çš„å°±æ˜¯å¸¸è¯´çš„æ¡ä»¶æ¦‚ç‡),å¯ä»¥è·å¾—æ ·æœ¬xåˆ†ç±»äº§ç”Ÿçš„æœŸæœ›æŸå¤±,ä¹Ÿç§°ä¸º<strong>æ¡ä»¶é£é™©</strong></p>
<script type="math/tex; mode=display">
R(c_i|x) = \sum_{j = 1}^{N}\lambda_{ij}P(c_j|x)</script><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªåˆ¤å®šå‡†åˆ™hæ¥å°†è¿™ä¸ªæ¡ä»¶é£é™©æœ€å°åŒ–.æ˜¾ç„¶,å¦‚æœå¯¹äº<strong>æ¯ä¸€ä¸ªæ ·æœ¬</strong>,héƒ½èƒ½æœ€å°åŒ–æ¡ä»¶é£é™©$R(h(x)|x)$,é‚£ä¹ˆæ€»ä½“é£é™©$R(h)$ä¹Ÿå°†ä¼šè¢«æœ€å°åŒ–.</p>
]]></content>
  </entry>
</search>
